# Claude Code チェンジログ（日本語訳）

> 最終更新: 2026年02月18日 04:41（日本時間）  
> 原文: https://raw.githubusercontent.com/anthropics/claude-code/main/CHANGELOG.md  
> 表示: 最新20バージョン

---

## 2.1.45

- Claude Sonnet 4.6のサポートを追加
- `--add-dir`ディレクトリから`enabledPlugins`と`extraKnownMarketplaces`を読み取る機能を追加
- スピナーのヒントをカスタマイズできる`spinnerTipsOverride`設定を追加 — `tips`にカスタムヒント文字列の配列を設定し、オプションで`excludeDefault: true`を設定することで、組み込みのヒントの代わりにカスタムヒントのみを表示可能
- SDKに`SDKRateLimitInfo`と`SDKRateLimitEvent`型を追加し、利用状況、リセット時間、超過情報を含むレート制限ステータスの更新を受信可能に
- APIプロバイダーの環境変数をtmuxで生成されたプロセスに伝播することで、Bedrock、Vertex、FoundryでAgent Teamsのチームメイトが失敗する問題を修正 (anthropics/claude-code#23561)
- macOSでユーザーごとの正しい一時ディレクトリを使用することで、一時ファイル書き込み時のサンドボックス「operation not permitted」エラーを修正 (anthropics/claude-code#21654)
- Taskツール（バックグラウンドエージェント）が完了時に`ReferenceError`でクラッシュする問題を修正 (anthropics/claude-code#22087)
- 入力欄に画像が貼り付けられている場合にEnterキーでオートコンプリート候補が受け入れられない問題を修正
- サブエージェントによって呼び出されたスキルが、圧縮後にメインセッションのコンテキストに誤って表示される問題を修正
- 起動のたびに`.claude.json.backup`ファイルが過度に蓄積される問題を修正
- プラグインが提供するコマンド、エージェント、フックがインストール直後に再起動なしで利用可能になるよう改善
- 統計キャッシュのためのセッション履歴の先行読み込みを削除し、起動パフォーマンスを改善
- 大量の出力を生成するシェルコマンドのメモリ使用量を改善 — コマンド出力サイズに応じてRSSが無制限に増加しなくなりました
- 折りたたまれた読み取り/検索グループが、アクティブな間、サマリー行の下に処理中の現在のファイルまたは検索パターンを表示するよう改善
- [VSCode] パーミッション保存先の選択（プロジェクト/ユーザー/セッション）がセッション間で保持されるよう改善

## 2.1.44

- 深くネストされたディレクトリパスでのENAMETOOLONGエラーを修正
- 認証更新エラーを修正

## 2.1.43

- 3分のタイムアウトを追加することで、AWS認証更新が無期限にハングする問題を修正
- `.claude/agents/`ディレクトリ内の非エージェントmarkdownファイルに対する不要な警告を修正
- Vertex/Bedrockでstructured-outputsベータヘッダーが無条件に送信される問題を修正

## 2.1.42

- Zodスキーマの構築を遅延させることで起動パフォーマンスを改善
- システムプロンプトから日付を移動することでプロンプトキャッシュのヒット率を改善
- 対象ユーザー向けにOpus 4.6の取り組みに関する1回限りの案内を追加
- /resumeで中断メッセージがセッションタイトルとして表示される問題を修正
- 画像サイズ制限エラーで/compactを提案するよう修正

## 2.1.41

- 別のClaude Codeセッション内でClaude Codeを起動することに対するガードを追加
- Agent TeamsがBedrock、Vertex、Foundryの顧客に対して誤ったモデル識別子を使用する問題を修正
- MCPツールがストリーミング中に画像コンテンツを返す際のクラッシュを修正
- /resumeのセッションプレビューで、読みやすいコマンド名の代わりに生のXMLタグが表示される問題を修正
- Bedrock/Vertex/Foundryユーザー向けのモデルエラーメッセージをフォールバック提案付きで改善
- プラグインブラウズで、すでにインストール済みのプラグインに対して誤解を招く「Space to Toggle」ヒントが表示される問題を修正
- フックブロッキングエラー（終了コード2）でstderrがユーザーに表示されない問題を修正
- 高速モードの可視性のため、OTelイベントとトレーススパンに`speed`属性を追加
- `claude auth login`、`claude auth status`、`claude auth logout`のCLIサブコマンドを追加
- Windows ARM64（win32-arm64）ネイティブバイナリサポートを追加
- `/rename`を引数なしで呼び出した際に、会話コンテキストからセッション名を自動生成するよう改善
- 狭い端末レイアウトでのプロンプトフッターを改善
- アンカーフラグメント付きの@メンション（例：`@README.md#installation`）でファイル解決が失敗する問題を修正
- FileReadToolがFIFO、`/dev/stdin`、大きなファイルでプロセスをブロックする問題を修正
- ストリーミングAgent SDKモードでバックグラウンドタスク通知が配信されない問題を修正
- 分類ルール入力で各キーストロークごとにカーソルが末尾にジャンプする問題を修正
- 生URLのmarkdownリンク表示テキストが削除される問題を修正
- 自動圧縮失敗エラー通知がユーザーに表示される問題を修正
- サブエージェントの経過時間表示にパーミッション待機時間が含まれる問題を修正
- プランモード中にプロアクティブティックが発火する問題を修正
- ディスク上の設定変更時に古いパーミッションルールをクリアするよう修正
- フックブロッキングエラーでstderrの内容がUIに表示される問題を修正

## 2.1.39

- ターミナルのレンダリングパフォーマンスを改善
- 致命的エラーが表示されずに飲み込まれる問題を修正
- セッション終了後にプロセスがハングする問題を修正

## 2.1.44

- 深くネストされたディレクトリパスでのENAMETOOLONGエラーを修正
- 認証更新エラーを修正

## 2.1.43

- AWS認証更新が無期限にハングする問題を3分のタイムアウトを追加して修正
- `.claude/agents/`ディレクトリ内の非エージェントmarkdownファイルに対する誤った警告を修正
- Vertex/Bedrockで構造化出力のベータヘッダーが無条件に送信される問題を修正

## 2.1.42

- Zodスキーマの構築を遅延させることで起動パフォーマンスを改善
- システムプロンプトから日付を移動することでプロンプトキャッシュのヒット率を改善
- 対象ユーザー向けにOpus 4.6の一回限りの注意喚起を追加
- /resumeで中断メッセージがセッションタイトルとして表示される問題を修正
- 画像サイズ制限エラーで/compactを提案するように修正

## 2.1.41

- 別のClaude Codeセッション内でClaude Codeを起動することを防ぐガードを追加
- Agent TeamsがBedrock、Vertex、Foundryの顧客に対して誤ったモデル識別子を使用する問題を修正
- MCPツールがストリーミング中に画像コンテンツを返した際のクラッシュを修正
- /resumeのセッションプレビューで、読みやすいコマンド名ではなく生のXMLタグが表示される問題を修正
- Bedrock/Vertex/Foundryユーザー向けのモデルエラーメッセージを改善し、フォールバック提案を追加
- プラグインブラウズで、すでにインストール済みのプラグインに対して誤解を招く「Space to Toggle」ヒントが表示される問題を修正
- フックブロッキングエラー(終了コード2)でstderrがユーザーに表示されない問題を修正
- 高速モードの可視性のため、OTelイベントとトレーススパンに`speed`属性を追加
- `claude auth login`、`claude auth status`、`claude auth logout`のCLIサブコマンドを追加
- Windows ARM64 (win32-arm64)ネイティブバイナリサポートを追加
- `/rename`を改善し、引数なしで呼び出された場合に会話コンテキストからセッション名を自動生成
- プロンプトフッターの狭い端末レイアウトを改善
- アンカーフラグメント付きの@メンション(例：`@README.md#installation`)でファイル解決が失敗する問題を修正
- FileReadToolがFIFO、`/dev/stdin`、大きなファイルでプロセスをブロックする問題を修正
- ストリーミングAgent SDKモードでバックグラウンドタスク通知が配信されない問題を修正
- 分類ルール入力で各キーストロークごとにカーソルが末尾にジャンプする問題を修正
- 生URLに対してmarkdownリンクの表示テキストが削除される問題を修正
- 自動コンパクト失敗エラー通知がユーザーに表示される問題を修正
- サブエージェントの経過時間表示にパーミッション待機時間が含まれる問題を修正
- プランモード中にプロアクティブティックが発火する問題を修正
- ディスク上の設定が変更された際に古いパーミッションルールをクリアするように修正
- フックブロッキングエラーでstderrの内容がUIに表示される問題を修正

## 2.1.39

- ターミナルレンダリングパフォーマンスを改善
- 致命的エラーが表示されずに握りつぶされる問題を修正
- セッション終了後にプロセスがハングする問題を修正
- ターミナル画面境界で文字が失われる問題を修正

## 2.1.44

- 認証更新エラーを修正

## 2.1.43

- AWS認証更新が無期限にハングする問題を3分のタイムアウトを追加して修正
- `.claude/agents/`ディレクトリ内の非エージェントmarkdownファイルに対する誤った警告を修正
- Vertex/Bedrockで構造化出力のベータヘッダーが無条件に送信される問題を修正

## 2.1.42

- Zodスキーマの構築を遅延させることで起動パフォーマンスを改善
- システムプロンプトから日付を移動させることでプロンプトキャッシュのヒット率を改善
- 対象ユーザー向けにOpus 4.6の取り組みに関する一度限りの通知を追加
- `/resume`で中断メッセージがセッションタイトルとして表示される問題を修正
- 画像サイズ制限エラーで`/compact`を提案するように修正

## 2.1.41

- 別のClaude Codeセッション内でClaude Codeを起動することを防ぐガードを追加
- Agent TeamsがBedrock、Vertex、Foundry利用者に対して誤ったモデル識別子を使用する問題を修正
- ストリーミング中にMCPツールが画像コンテンツを返す際のクラッシュを修正
- `/resume`のセッションプレビューで読みやすいコマンド名の代わりに生のXMLタグが表示される問題を修正
- Bedrock/Vertex/Foundry利用者向けにフォールバック提案を含むモデルエラーメッセージを改善
- プラグインブラウズで既にインストール済みのプラグインに対して誤解を招く「Space to Toggle」ヒントが表示される問題を修正
- フックブロッキングエラー(終了コード2)でstderrがユーザーに表示されない問題を修正
- 高速モードの可視性のためにOTelイベントとトレーススパンに`speed`属性を追加
- `claude auth login`、`claude auth status`、`claude auth logout`のCLIサブコマンドを追加
- Windows ARM64(win32-arm64)ネイティブバイナリサポートを追加
- `/rename`を改善し、引数なしで呼び出された場合に会話コンテキストからセッション名を自動生成するように変更
- 狭い端末レイアウトでのプロンプトフッターを改善
- アンカーフラグメント付きの@メンション(例：`@README.md#installation`)でファイル解決が失敗する問題を修正
- FileReadToolがFIFO、`/dev/stdin`、大きなファイルでプロセスをブロックする問題を修正
- ストリーミングAgent SDKモードでバックグラウンドタスク通知が配信されない問題を修正
- 分類ルール入力で各キーストロークごとにカーソルが末尾にジャンプする問題を修正
- 生URLに対してmarkdownリンクの表示テキストが削除される問題を修正
- 自動コンパクト失敗エラー通知がユーザーに表示される問題を修正
- サブエージェントの経過時間表示にパーミッション待機時間が含まれる問題を修正
- プランモード中にプロアクティブティックが発火する問題を修正
- ディスク上の設定変更時に古いパーミッションルールをクリアするように修正
- フックブロッキングエラーでstderrの内容がUIに表示される問題を修正

## 2.1.39

- 端末レンダリングパフォーマンスを改善
- 致命的エラーが表示されずに飲み込まれる問題を修正
- セッション終了後にプロセスがハングする問題を修正
- 端末画面境界での文字欠落を修正
- 詳細トランスクリプトビューでの空白行を修正

## 2.1.38

- 2.1.37で発生したVS Code端末のスクロールトップ機能の不具合を修正
- Tabキーがオートコンプリートの代わりにスラッシュコマンドをキューイングする問題を修正
- 環境変数ラッパーを使用するコマンドのbashパーミッションマッチングを修正
- ストリーミングを使用しない場合にツール使用間のテキストが消える問題を修正
- VS Code拡張機能で再開時に重複セッションが作成される問題を修正
- コマンドスマグリングを防ぐためにヒアドキュメント区切り文字の解析を改善

## 2.1.42

- Zodスキーマの構築を遅延させることで起動パフォーマンスを改善
- システムプロンプトから日付を移動することでプロンプトキャッシュのヒット率を向上
- 対象ユーザー向けにOpus 4.6の一回限りの利用案内を追加
- `/resume`で中断メッセージがセッションタイトルとして表示される問題を修正
- 画像サイズ制限エラーで`/compact`の使用を提案するように修正

## 2.1.41

- Claude Codeセッション内で別のClaude Codeセッションが起動されるのを防ぐガードを追加
- Agent TeamsがBedrock、Vertex、Foundryユーザーに対して誤ったモデル識別子を使用していた問題を修正
- MCPツールがストリーミング中に画像コンテンツを返した際のクラッシュを修正
- `/resume`のセッションプレビューで、読みやすいコマンド名の代わりに生のXMLタグが表示される問題を修正
- Bedrock/Vertex/Foundryユーザー向けのモデルエラーメッセージを改善し、フォールバック提案を追加
- プラグインブラウズで、すでにインストール済みのプラグインに対して誤解を招く「Space to Toggle」ヒントが表示される問題を修正
- フックブロッキングエラー(終了コード2)でstderrがユーザーに表示されない問題を修正
- 高速モードの可視性のため、OTelイベントとトレーススパンに`speed`属性を追加
- `claude auth login`、`claude auth status`、`claude auth logout`のCLIサブコマンドを追加
- Windows ARM64(win32-arm64)ネイティブバイナリサポートを追加
- `/rename`を改善し、引数なしで呼び出された場合に会話コンテキストからセッション名を自動生成
- プロンプトフッターの狭い端末レイアウトを改善
- アンカーフラグメント付きの@メンション(例：`@README.md#installation`)でファイル解決が失敗する問題を修正
- FileReadToolがFIFO、`/dev/stdin`、大容量ファイルでプロセスをブロックする問題を修正
- ストリーミングAgent SDKモードでバックグラウンドタスク通知が配信されない問題を修正
- 分類ルール入力で各キーストロークごとにカーソルが末尾にジャンプする問題を修正
- Markdownリンクの表示テキストが生URLに対してドロップされる問題を修正
- 自動コンパクト失敗のエラー通知がユーザーに表示される問題を修正
- サブエージェントの経過時間表示にパーミッション待機時間が含まれる問題を修正
- プランモード中にプロアクティブティックが発火する問題を修正
- ディスク上の設定変更時に古いパーミッションルールをクリアするように修正
- フックブロッキングエラーでstderrの内容がUIに表示される問題を修正

## 2.1.39

- ターミナルのレンダリングパフォーマンスを改善
- 致命的エラーが表示されずに飲み込まれる問題を修正
- セッション終了後にプロセスがハングする問題を修正
- ターミナル画面境界での文字欠落を修正
- 詳細トランスクリプトビューでの空白行を修正

## 2.1.38

- 2.1.37で発生したVS Codeターミナルのスクロールトップへの移動の不具合を修正
- Tabキーでスラッシュコマンドがキューイングされ、オートコンプリートされない問題を修正
- 環境変数ラッパーを使用するコマンドのbashパーミッションマッチングを修正
- ストリーミングを使用しない場合にツール使用間のテキストが消える問題を修正
- VS Code拡張機能で再開時に重複セッションが作成される問題を修正
- コマンドスマグリングを防ぐためにヒアドキュメント区切り文字の解析を改善
- サンドボックスモードで`.claude/skills`ディレクトリへの書き込みをブロック

## 2.1.37

- `/extra-usage`有効化後に`/fast`がすぐに利用できない問題を修正

## 2.1.36

# チェンジログ

## 2.1.41

- 別のClaude Codeセッション内でClaude Codeを起動することを防ぐガードを追加
- Agent TeamsがBedrock、Vertex、Foundryユーザーに対して誤ったモデル識別子を使用していた問題を修正
- ストリーミング中にMCPツールが画像コンテンツを返した際のクラッシュを修正
- `/resume`のセッションプレビューで、読みやすいコマンド名ではなく生のXMLタグが表示されていた問題を修正
- Bedrock/Vertex/Foundryユーザー向けのモデルエラーメッセージを改善し、フォールバック提案を追加
- プラグインブラウズで、既にインストール済みのプラグインに対して誤解を招く「スペースキーで切り替え」のヒントが表示されていた問題を修正
- フックブロッキングエラー（終了コード2）でstderrがユーザーに表示されなかった問題を修正
- 高速モードの可視性のため、OTelイベントとトレーススパンに`speed`属性を追加
- `claude auth login`、`claude auth status`、`claude auth logout`のCLIサブコマンドを追加
- Windows ARM64（win32-arm64）ネイティブバイナリサポートを追加
- `/rename`を改善し、引数なしで呼び出された場合に会話コンテキストからセッション名を自動生成するように変更
- プロンプトフッターの狭い端末レイアウトを改善
- アンカーフラグメント付きの@メンション（例：`@README.md#installation`）でファイル解決が失敗していた問題を修正
- FileReadToolがFIFO、`/dev/stdin`、大容量ファイルでプロセスをブロックしていた問題を修正
- ストリーミングAgent SDKモードでバックグラウンドタスク通知が配信されなかった問題を修正
- 分類ルール入力で各キーストロークごとにカーソルが末尾にジャンプしていた問題を修正
- Markdownリンクの表示テキストが生URLに対してドロップされていた問題を修正
- 自動コンパクト失敗エラー通知がユーザーに表示されていた問題を修正
- サブエージェントの経過時間表示にパーミッション待機時間が含まれていた問題を修正
- プランモード中にプロアクティブティックが発火していた問題を修正
- ディスク上の設定が変更された際に古いパーミッションルールがクリアされるように修正
- フックブロッキングエラーでstderrコンテンツがUIに表示されていた問題を修正

## 2.1.39

- ターミナルレンダリングのパフォーマンスを改善
- 致命的エラーが表示されずに飲み込まれていた問題を修正
- セッション終了後にプロセスがハングしていた問題を修正
- ターミナル画面境界での文字欠落を修正
- 詳細トランスクリプトビューでの空白行を修正

## 2.1.38

- 2.1.37で発生したVS Codeターミナルのスクロールトップへの移動の不具合を修正
- Tabキーがオートコンプリートではなくスラッシュコマンドをキューイングしていた問題を修正
- 環境変数ラッパーを使用するコマンドのbashパーミッションマッチングを修正
- ストリーミングを使用していない場合にツール使用間のテキストが消えていた問題を修正
- VS Code拡張機能で再開時に重複セッションが発生していた問題を修正
- heredocデリミタのパースを改善し、コマンドスマグリングを防止
- サンドボックスモードで`.claude/skills`ディレクトリへの書き込みをブロック

## 2.1.37

- `/extra-usage`を有効にした後、`/fast`がすぐに利用できなかった問題を修正

## 2.1.36

- Opus 4.6で高速モードが利用可能になりました。詳細は https://code.claude.com/docs/en/fast-mode をご覧ください

## 2.1.34

- レンダリング間でagent teams設定が変更された際のクラッシュを修正
- サンドボックスから除外されたコマンド（`sandbox.excludedCommands`または`dangerouslyDisableSandbox`経由）が、`autoAllowBashIfSandboxed`が有効な場合にBash askパーミッションルールをバイパスできていたバグを修正

## 2.1.33

- tmux内のエージェントチームメイトセッションでメッセージの送受信ができるように修正
- 現在のプランでagent teamsが利用できないことに関する警告を修正
- マルチエージェントワークフロー用の`TeammateIdle`および`TaskCompleted`フックイベントを追加
- エージェントの「tools」フロントマターで`Task(agent_type)`構文を使用して、生成可能なサブエージェントを制限するサポートを追加
- エージェント用の`memory`フロントマターフィールドサポートを追加し、`user`、`project`、または`local`スコープでの永続的メモリを有効化
- より良い発見性のため、スキルの説明と`/skills`メニューにプラグイン名を追加
- モデルが拡張思考中に新しいメッセージを送信すると思考フェーズが中断されていた問題を修正
- ストリーム中に中止した際、空白テキストと思考ブロックが組み合わさると正規化をバイパスして無効なリクエストを生成していたAPIエラーを修正
- ストリーミングエンドポイントでの404エラーが非ストリーミングフォールバックをトリガーしなくなったAPIプロキシ互換性の問題を修正
- `settings.json`環境変数で設定されたプロキシ設定が、Node.jsビルドのWebFetchやその他のHTTPリクエストに適用されなかった問題を修正
- `/resume`セッションピッカーで、スラッシュコマンドで開始されたセッションのクリーンなタイトルではなく生のXMLマークアップが表示されていた問題を修正
- API接続失敗のエラーメッセージを改善 — 一般的な「接続エラー」ではなく、特定の原因（例：ECONNREFUSED、SSLエラー）を表示
- 無効な管理設定からのエラーが表示されるように変更
- VSCode: リモートセッションのサポートを追加し、OAuthユーザーがclaude.aiからセッションを閲覧・再開できるように
- VSCode: セッションピッカーにgitブランチとメッセージ数を追加し、ブランチ名での検索をサポート
- VSCode: 初回セッション読み込みとセッション切り替え時のスクロール最下部への移動が不十分だった問題を修正

## 2.1.32

- Claude Opus 4.6が利用可能になりました！
- マルチエージェントコラボレーション用のリサーチプレビューagent teams機能を追加（トークン集約的な機能で、CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS=1の設定が必要）
- Claudeが作業中に自動的にメモリを記録・想起するように
- メッセージセレクターに「ここから要約」を追加し、部分的な会話要約が可能に
- 追加ディレクトリ（`--add-dir`）内の`.claude/skills/`で定義されたスキルが自動的に読み込まれるように
- サブディレクトリから実行した際に`@`ファイル補完が誤った相対パスを表示していた問題を修正
- --resumeを更新し、前回の会話で指定された--agent値をデフォルトで再利用するように
- 修正：Bashツールがheredocに`${index + 1}`のようなJavaScriptテンプレートリテラルが含まれている場合に「Bad substitution」エラーをスローし、ツール実行を中断していた問題
- スキル文字予算がコンテキストウィンドウに応じてスケール（コンテキストの2%）するようになり、より大きなコンテキストウィンドウを持つユーザーが切り捨てなしでより多くのスキル説明を見られるように
- タイ語/ラオ語のスペーシング母音（สระ า、ำ）が入力フィールドで正しくレンダリングされなかった問題を修正
- VSCode: 入力フィールドに先行テキストがある状態でEnterキーを押した際にスラッシュコマンドが誤って実行されていた問題を修正
- VSCode: 過去の会話リスト読み込み時のスピナーを追加

## 2.1.31

- 終了時にセッション再開のヒントを追加し、後で会話を続ける方法を表示
- チェックボックス選択で日本語IMEからの全角スペース入力をサポート
- PDFが大きすぎるエラーでセッションが永久にロックされ、ユーザーが新しい会話を開始する必要があった問題を修正
- サンドボックスモードが有効な場合にbashコマンドが「読み取り専用ファイルシステム」エラーで誤って失敗を報告していた問題を修正
- `~/.claude.json`のプロジェクト設定にデフォルトフィールドが欠けている場合、プランモードに入った後にセッションが使用不能になるクラッシュを修正
- ストリーミングAPIパスで`temperatureOverride`が黙って無視され、設定された上書きに関係なくすべてのストリーミングリクエストがデフォルト温度（1）を使用していた問題を修正
- nullパラメータを拒否する厳格な言語サーバーとのLSPシャットダウン/終了の互換性を修正
- モデルが専用ツール（Read、Edit、Glob、Grep）をbash同等物（`cat`、`sed`、`grep`、`find`）の代わりに使用するようより明確に導くようシステムプロンプトを改善し、不要なbashコマンド使用を削減
- PDFとリクエストサイズのエラーメッセージを改善し、実際の制限（100ページ、20MB）を表示
- ストリーミング中にスピナーが表示・非表示になる際のターミナルでのレイアウトジッターを削減
- サードパーティプロバイダー（Bedrock、Vertex、Foundry）ユーザーに対して、モデルセレクターから誤解を招くAnthropic API価格を削除

## 2.1.30

- PDF用のReadツールに`pages`パラメータを追加し、特定のページ範囲を読み取れるように（例：`pages: "1-5"`）。大きなPDF（10ページ超）は、`@`メンションされた際にコンテキストにインライン化されるのではなく、軽量な参照を返すように
- Dynamic Client RegistrationをサポートしないMCPサーバー（例：Slack）用の事前設定されたOAuthクライアント認証情報を追加。`claude mcp add`で`--client-id`と`--client-secret`を使用
- 現在のセッションのトラブルシューティングをClaudeが支援する`/debug`を追加
- 読み取り専用モードで追加の`git log`および`git show`フラグをサポート（例：`--topo-order`、`--cherry-pick`、`--format`、`--raw`）
- Taskツール結果にトークン数、ツール使用回数、期間メトリクスを追加
- 設定にモーション軽減モードを追加
- API会話履歴に幽霊のような「(no content)」テキストブロックが表示され、トークンの無駄遣いとモデルの混乱を引き起こしていた問題を修正
- ツールの説明や入力スキーマが変更された際にプロンプトキャッシュが正しく無効化されず、ツール名が変更された場合のみ無効化されていた問題を修正
- 会話に思考ブロックが含まれている場合、`/login`実行後に400エラーが発生する可能性があった問題を修正
- `parentUuid`サイクルを含む破損したトランスクリプトファイルでセッションを再開した際のハングを修正
- Max 20xユーザーがextra-usageが利用できない場合に、レート制限メッセージで誤った「/upgrade」提案が表示されていた問題を修正
- アクティブに入力中にパーミッションダイアログがフォーカスを奪っていた問題を修正
- サブエージェントが共有アプリケーション状態に同期されていなかったため、SDK提供のMCPツールにアクセスできなかった問題を修正
- `.bashrc`ファイルを持つWindowsユーザーがbashコマンドを実行できなかった不具合を修正
- `--resume`のメモリ使用量を改善（多数のセッションを持つユーザーで68%削減）。セッションインデックスを軽量なstat基盤の読み込みと段階的エンリッチメントに置き換え
- `TaskStop`ツールを改善し、一般的な「タスク停止」メッセージではなく、停止されたコマンド/タスクの説明を結果行に表示
- `/model`を即座に実行するように変更（キューイングではなく）
- [VSCode] 質問ダイアログの「その他」テキスト入力に複数行入力サポートを追加（Shift+Enterで改行）
- [VSCode] 新しい会話を開始した際にセッションリストに重複セッションが表示されていた問題を修正

## 2.1.29

- `saved_hook_context`を持つセッションを再開する際の起動パフォーマンスの問題を修正

## 2.1.27

- デバッグログにツール呼び出しの失敗と拒否を追加
- ゲートウェイユーザーのコンテキスト管理検証エラーを修正し、`CLAUDE_CODE_DISABLE_EXPERIMENTAL_BETAS=1`でエラーを回避できるように
- 特定のGitHub PR番号またはURLにリンクされたセッションを再開する`--from-pr`フラグを追加
- `gh pr create`経由で作成された場合、セッションが自動的にPRにリンクされるように
- /contextコマンドが色付き出力を表示しなかった問題を修正
- PR状態が表示された際にステータスバーがバックグラウンドタスクインジケーターを重複表示していた問題を修正
- Windows: `.bashrc`ファイルを持つユーザーのbashコマンド実行が失敗していた問題を修正
- Windows: 子プロセスを生成する際にコンソールウィンドウがフラッシュしていた問題を修正
- VSCode: 長時間のセッション後にOAuthトークンの有効期限切れで401エラーが発生していた問題を修正

## 2.1.25

- BedrockとVertexのゲートウェイユーザーに対するベータヘッダー検証エラーを修正し、`CLAUDE_CODE_DISABLE_EXPERIMENTAL_BETAS=1`でエラーを回避できるように

## 2.1.23

- カスタマイズ可能なスピナー動詞設定（`spinnerVerbs`）を追加
- 企業プロキシの背後にいるユーザーやクライアント証明書を使用するユーザーのmTLSおよびプロキシ接続を修正
- 共有システムでのパーミッション競合を防ぐため、ユーザーごとの一時ディレクトリ分離を修正
- プロンプトキャッシングスコープが有効な場合に400エラーを引き起こす可能性があった競合状態を修正
- ヘッドレスストリーミングセッションが終了した際に、保留中の非同期フックがキャンセルされなかった問題を修正
- タブ補完が提案を受け入れた際に入力フィールドを更新しなかった問題を修正
- ripgrep検索タイムアウトがエラーを報告せずに空の結果を黙って返していた問題を修正
- 最適化された画面データレイアウトでターミナルレンダリングのパフォーマンスを改善
- Bashコマンドで経過時間と並んでタイムアウト期間を表示するように変更
- マージされたプルリクエストがプロンプトフッターで紫色のステータスインジケーターを表示するように変更
- [IDE] ヘッドレスモードのBedrockユーザーに対してモデルオプションが誤ったリージョン文字列を表示していた問題を修正

## 2.1.22

- 非対話型（-p）モードの構造化出力を修正

## 2.1.21

- オプション選択プロンプトで日本語IMEからの全角数字入力をサポート
- 終了時にシェル補完キャッシュファイルが切り捨てられていた問題を修正
- ツール実行中に中断されたセッションを再開する際のAPIエラーを修正
- 大きな出力トークン制限を持つモデルで自動コンパクトが早すぎるタイミングでトリガーされていた問題を修正
- 削除後にタスクIDが再利用される可能性があった問題を修正
- WindowsのVS Code拡張機能でファイル検索が機能しなかった問題を修正
- 読み取り/検索の進行状況インジケーターを改善し、進行中は「読み取り中…」、完了時は「読み取り完了」を表示
- Claudeがbash同等物（cat、sed、awk）よりもファイル操作ツール（Read、Edit、Write）を優先するように改善
- [VSCode] Pythonの仮想環境の自動アクティベーションを追加し、`python`および`pip`コマンドが正しいインタープリターを使用するように（`claudeCode.usePythonEnvironment`設定で設定可能）
- [VSCode] メッセージアクションボタンの背景色が誤っていた問題を修正

## 2.1.20

- カーソルがこれ以上移動できない場合のvimノーマルモードでの矢印キー履歴ナビゲーションを追加
- より良い発見性のため、外部エディターショートカット（Ctrl+G）をヘルプメニューに追加
- プロンプトフッターにPRレビューステータスインジケーターを追加し、現在のブランチのPR状態（承認済み、変更要求、保留中、またはドラフト）をクリック可能なリンク付きの色付きドットで表示
- `--add-dir`フラグで指定された追加ディレクトリからの`CLAUDE.md`ファイルの読み込みをサポート（`CLAUDE_CODE_ADDITIONAL_DIRECTORIES_CLAUDE_MD=1`の設定が必要）
- `TaskUpdate`ツール経由でタスクを削除する機能を追加
- 再開時に完全な履歴がコンパクトサマリーではなく読み込まれる可能性があったセッションコンパクションの問題を修正
- タスクに積極的に取り組んでいる間に送信されたユーザーメッセージをエージェントが無視することがあった問題を修正
- より狭い文字に置き換えられた際に末尾の列がクリアされなかった全角文字（絵文字、CJK）のレンダリングアーティファクトを修正
- MCPツールレスポンスに特殊なUnicode文字が含まれている場合のJSON解析エラーを修正
- 複数行および折り返しテキスト入力での上下矢印キーが履歴ナビゲーションよりもカーソル移動を優先するように修正
- コマンド履歴をナビゲートするためにUP矢印キーを押した際にドラフトプロンプトが失われていた問題を修正
- 入力途中でスラッシュコマンドを入力した際のゴーストテキストのちらつきを修正
- マーケットプレイスソース削除が設定を適切に削除しなかった問題を修正
- `/context`のようなコマンドでの重複出力を修正
- タスクリストがメイン会話ビューの外に表示されることがあった問題を修正
- Pythonのdocstringのような複数行構造内で発生する差分の構文ハイライトを修正
- ツール使用をキャンセルした際のクラッシュを修正
- `/sandbox`コマンドUIを改善し、依存関係が欠けている場合にインストール手順付きで依存関係ステータスを表示
- 思考ステータステキストに微妙なシマーアニメーションを追加して改善
- ターミナルの高さに基づいて表示アイテムを動的に調整するようタスクリストを改善
- 元のセッションを再開する方法を示すようフォーク会話ヒントを改善
- 折りたたまれた読み取り/検索グループが進行中は現在形（「読み取り中」、「検索中」）、完了時は過去形（「読み取り完了」、「検索完了」）を表示するように変更
- `ToolSearch`結果が会話内のインラインではなく簡単な通知として表示されるように変更
- `/commit-push-pr`スキルが、MCPツール経由で設定された場合にPR URLを自動的にSlackチャンネルに投稿するように変更
- `/copy`コマンドをすべてのユーザーが利用できるように変更
- バックグラウンドエージェントが起動前にツールパーミッションを求めるように変更
- `Bash(*)`のようなパーミッションルールが受け入れられ、`Bash`と同等として扱われるように変更
- データ損失を防ぐため、設定バックアップがタイムスタンプ付きでローテーション（最新5つを保持）されるように変更

## 2.1.19

- 環境変数`CLAUDE_CODE_ENABLE_TASKS`を追加、`false`に設定すると一時的に古いシステムを維持
- カスタムコマンドで個別の引数にアクセスするための短縮形`$0`、`$1`などを追加
- AVX命令サポートのないプロセッサでのクラッシュを修正
- `process.exit()`からのEIOエラーをキャッチし、フォールバックとしてSIGKILLを使用することで、ターミナルが閉じられた際のClaude Codeプロセスの残存を修正
- 異なるディレクトリ（例：gitワークツリー）から再開した際に`/rename`と`/tag`が正しいセッションを更新しなかった問題を修正
- 異なるディレクトリから実行した際にカスタムタイトルでセッションを再開できなかった問題を修正
- プロンプトスタッシュ（Ctrl+S）と復元を使用した際に貼り付けられたテキストコンテンツが失われていた問題を修正
- 明示的なモデル設定のないエージェントに対して、エージェントリストが「Sonnet（デフォルト）」ではなく「継承（デフォルト）」を表示するように修正
- バックグラウンド化されたフックコマンドが早期に戻らず、意図的にバックグラウンド化されたプロセスをセッションが待機する可能性があった問題を修正
- ファイル書き込みプレビューで空行が省略されていた問題を修正
- 追加のパーミッションやフックのないスキルが承認を必要とせずに許可されるように変更
- インデックス付き引数構文を`$ARGUMENTS.0`から`$ARGUMENTS[0]`（ブラケット構文）に変更
- [SDK] `replayUserMessages`が有効な場合、`queued_command`添付メッセージを`SDKUserMessageReplay`イベントとしてリプレイする機能を追加
- [VSCode] すべてのユーザーに対してセッションフォークおよび巻き戻し機能を有効化

## 2.1.18

- カスタマイズ可能なキーボードショートカットを追加。コンテキストごとにキーバインドを設定し、コードシーケンスを作成し、ワークフローをパーソナライズできます。`/keybindings`を実行して開始してください。詳細は https://code.claude.com/docs/en/keybindings をご覧ください

## 2.1.17

---

*最新20バージョンのみ表示*