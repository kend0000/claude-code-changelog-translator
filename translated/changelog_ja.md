# Claude Code チェンジログ（日本語訳）

> 最終更新: 2026年02月13日 02:53（日本時間）  
> 原文: https://raw.githubusercontent.com/anthropics/claude-code/main/CHANGELOG.md  
> 表示: 最新20バージョン

---

# チェンジログ

## 2.1.39

- 別のClaude Codeセッション内でClaude Codeを起動することを防ぐガードを追加
- Agent TeamsがBedrock、Vertex、Foundryユーザーに対して誤ったモデル識別子を使用していた問題を修正
- MCPツールがストリーミング中に画像コンテンツを返した際のクラッシュを修正
- `/resume`のセッションプレビューで、読みやすいコマンド名の代わりに生のXMLタグが表示されていた問題を修正
- Bedrock/Vertex/Foundryユーザー向けのモデルエラーメッセージを改善し、フォールバック提案を追加
- プラグインブラウズで、既にインストール済みのプラグインに対して誤解を招く「Space to Toggle」ヒントが表示されていた問題を修正
- フックブロッキングエラー（終了コード2）がstderrをユーザーに表示しない問題を修正
- 高速モードの可視性のため、OTelイベントとトレーススパンに`speed`属性を追加
- `/resume`で中断メッセージがセッションタイトルとして表示されていた問題を修正
- Bedrock/Vertex/FoundryユーザーにOpus 4.6のローンチアナウンスが表示されていた問題を修正
- 多数の画像の次元制限エラーに対するエラーメッセージを改善し、`/compact`の提案を追加
- Vertex/Bedrockで構造化出力のベータヘッダーが無条件に送信されていた問題を修正
- ターミナルのレンダリングパフォーマンスを改善
- 致命的なエラーが表示されずに飲み込まれていた問題を修正
- セッション終了後にプロセスがハングする問題を修正
- ターミナル画面の境界で文字が失われる問題を修正
- 詳細トランスクリプトビューの空白行を修正

## 2.1.38

- 2.1.37で発生したVS Codeターミナルのスクロールトップへの回帰を修正
- Tabキーがオートコンプリートの代わりにスラッシュコマンドをキューイングしていた問題を修正
- 環境変数ラッパーを使用するコマンドのbash権限マッチングを修正
- ストリーミングを使用しない場合にツール使用間のテキストが消える問題を修正
- VS Code拡張機能で再開時に重複セッションが発生する問題を修正
- heredocデリミタのパースを改善し、コマンドスマグリングを防止
- サンドボックスモードで`.claude/skills`ディレクトリへの書き込みをブロック

## 2.1.37

- `/extra-usage`を有効にした後、`/fast`がすぐに利用できなかった問題を修正

## 2.1.36

- Opus 4.6で高速モードが利用可能になりました。詳細はhttps://code.claude.com/docs/en/fast-modeをご覧ください

## 2.1.34

- レンダリング間でagent teamsの設定が変更された際のクラッシュを修正
- サンドボックスから除外されたコマンド（`sandbox.excludedCommands`または`dangerouslyDisableSandbox`経由）が、`autoAllowBashIfSandboxed`が有効な場合にBash ask権限ルールをバイパスできていたバグを修正

## 2.1.33

- tmux内のエージェントチームメイトセッションでメッセージの送受信を修正
- 現在のプランでagent teamsが利用できないことに関する警告を修正
- マルチエージェントワークフロー用の`TeammateIdle`および`TaskCompleted`フックイベントを追加
- エージェントの「tools」フロントマターで`Task(agent_type)`構文を使用して、生成可能なサブエージェントを制限するサポートを追加
- エージェント用の`memory`フロントマターフィールドサポートを追加し、`user`、`project`、または`local`スコープで永続的なメモリを有効化
- スキルの説明と`/skills`メニューにプラグイン名を追加し、発見しやすさを向上
- モデルが拡張思考中に新しいメッセージを送信すると思考フェーズが中断される問題を修正
- ストリーム中に中止した際、空白テキストと思考ブロックが組み合わさって正規化をバイパスし、無効なリクエストを生成する可能性があったAPIエラーを修正
- ストリーミングエンドポイントでの404エラーが非ストリーミングフォールバックをトリガーしなくなったAPIプロキシ互換性の問題を修正
- `settings.json`の環境変数で設定されたプロキシ設定が、Node.jsビルドのWebFetchおよびその他のHTTPリクエストに適用されなかった問題を修正
- `/resume`セッションピッカーで、スラッシュコマンドで開始されたセッションのクリーンなタイトルの代わりに生のXMLマークアップが表示されていた問題を修正
- API接続失敗のエラーメッセージを改善 — 一般的な「Connection error」の代わりに具体的な原因（例：ECONNREFUSED、SSLエラー）を表示
- 無効な管理設定からのエラーが表面化されるように
- VSCode：リモートセッションのサポートを追加し、OAuthユーザーがclaude.aiからセッションを閲覧・再開できるように
- VSCode：セッションピッカーにgitブランチとメッセージ数を追加し、ブランチ名での検索をサポート
- VSCode：初回セッション読み込みとセッション切り替え時のスクロールトゥボトムのアンダースクロールを修正

## 2.1.32

- Claude Opus 4.6が利用可能になりました！
- マルチエージェントコラボレーション用のリサーチプレビューagent teams機能を追加（トークン集約的な機能、CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS=1の設定が必要）
- Claudeが作業中に自動的にメモリを記録・想起するように
- メッセージセレクターに「ここから要約」を追加し、部分的な会話の要約が可能に
- 追加ディレクトリ（`--add-dir`）内の`.claude/skills/`で定義されたスキルが自動的に読み込まれるように
- サブディレクトリから実行した際に`@`ファイル補完が誤った相対パスを表示していた問題を修正
- --resumeを更新し、前回の会話で指定された--agent値をデフォルトで再利用するように
- 修正：Bashツールが、JavaScriptテンプレートリテラル（`${index + 1}`など）を含むheredocで「Bad substitution」エラーをスローし、ツール実行を中断していた問題を解消
- スキル文字予算がコンテキストウィンドウに応じてスケール（コンテキストの2%）するようになり、より大きなコンテキストウィンドウを持つユーザーが切り捨てなしでより多くのスキル説明を見られるように
- タイ語/ラオス語のスペーシング母音（สระ า、ำ）が入力フィールドで正しくレンダリングされなかった問題を修正
- VSCode：入力フィールドに先行テキストがある状態でEnterキーを押した際、スラッシュコマンドが誤って実行されていた問題を修正
- VSCode：過去の会話リスト読み込み時にスピナーを追加

## 2.1.31

- 終了時にセッション再開のヒントを追加し、後で会話を続ける方法を表示
- 日本語IMEからの全角スペース入力をチェックボックス選択でサポート
- PDFが大きすぎるエラーでセッションが永久にロックされ、ユーザーが新しい会話を開始する必要があった問題を修正
- サンドボックスモードが有効な場合、bashコマンドが「Read-only file system」エラーで誤って失敗を報告していた問題を修正
- `~/.claude.json`のプロジェクト設定にデフォルトフィールドが欠けている場合、プランモードに入った後にセッションが使用不能になるクラッシュを修正
- ストリーミングAPIパスで`temperatureOverride`が静かに無視され、設定されたオーバーライドに関係なくすべてのストリーミングリクエストがデフォルトの温度（1）を使用していた問題を修正
- nullパラメータを拒否する厳格な言語サーバーとのLSPシャットダウン/終了互換性を修正
- システムプロンプトを改善し、bash相当のコマンド（`cat`、`sed`、`grep`、`find`）の代わりに専用ツール（Read、Edit、Glob、Grep）を使用するようモデルをより明確に誘導し、不要なbashコマンドの使用を削減
- PDFとリクエストサイズのエラーメッセージを改善し、実際の制限（100ページ、20MB）を表示
- ストリーミング中にスピナーが表示・非表示になる際のターミナルのレイアウトジッターを削減
- サードパーティプロバイダー（Bedrock、Vertex、Foundry）ユーザーのモデルセレクターから誤解を招くAnthropic API価格を削除

## 2.1.30

- PDF用のReadツールに`pages`パラメータを追加し、特定のページ範囲を読み取れるように（例：`pages: "1-5"`）。大きなPDF（>10ページ）は、`@`メンションされた際にコンテキストにインライン化される代わりに軽量な参照を返すように
- Dynamic Client RegistrationをサポートしないMCPサーバー（例：Slack）用の事前設定されたOAuthクライアント認証情報を追加。`claude mcp add`で`--client-id`と`--client-secret`を使用
- 現在のセッションのトラブルシューティングをClaudeが支援する`/debug`を追加
- 読み取り専用モードで追加の`git log`および`git show`フラグのサポートを追加（例：`--topo-order`、`--cherry-pick`、`--format`、`--raw`）
- Taskツールの結果にトークン数、ツール使用回数、期間メトリクスを追加
- 設定にモーション軽減モードを追加
- API会話履歴に幻の「(no content)」テキストブロックが表示され、トークンの無駄遣いとモデルの混乱を引き起こしていた問題を修正
- ツールの説明や入力スキーマが変更された際にプロンプトキャッシュが正しく無効化されず、ツール名が変更された場合のみ無効化されていた問題を修正
- `parentUuid`サイクルを含む破損したトランスクリプトファイルでセッションを再開した際に発生していたハングを修正
- `/login`実行後、会話に思考ブロックが含まれている場合に発生する可能性があった400エラーを修正
- Max 20xユーザーがextra-usageが利用できない場合に、レート制限メッセージで誤った「/upgrade」提案が表示されていた問題を修正
- アクティブにタイピング中に権限ダイアログがフォーカスを奪っていた問題を修正
- サブエージェントが共有アプリケーション状態に同期されていなかったため、SDK提供のMCPツールにアクセスできなかった問題を修正
- `.bashrc`ファイルを持つWindowsユーザーがbashコマンドを実行できなかった回帰を修正
- セッションインデックスを軽量なstatベースの読み込みとプログレッシブエンリッチメントに置き換えることで、`--resume`のメモリ使用量を改善（多数のセッションを持つユーザーで68%削減）
- `TaskStop`ツールを改善し、一般的な「Task stopped」メッセージの代わりに停止されたコマンド/タスクの説明を結果行に表示
- `/model`を即座に実行するように変更（キューイングではなく）
- [VSCode] 質問ダイアログの「Other」テキスト入力に複数行入力サポートを追加（新しい行にはShift+Enterを使用）
- [VSCode] 新しい会話を開始した際にセッションリストに重複セッションが表示される問題を修正

## 2.1.29

- `saved_hook_context`を持つセッションを再開する際の起動パフォーマンスの問題を修正

## 2.1.27

- デバッグログにツール呼び出しの失敗と拒否を追加
- ゲートウェイユーザーのコンテキスト管理検証エラーを修正し、`CLAUDE_CODE_DISABLE_EXPERIMENTAL_BETAS=1`でエラーを回避できるように
- 特定のGitHub PR番号またはURLにリンクされたセッションを再開する`--from-pr`フラグを追加
- `gh pr create`経由で作成された際、セッションが自動的にPRにリンクされるように
- `/context`コマンドがカラー出力を表示しなかった問題を修正
- PRステータスが表示されている際にステータスバーがバックグラウンドタスクインジケーターを重複表示していた問題を修正
- Windows：`.bashrc`ファイルを持つユーザーのbashコマンド実行が失敗していた問題を修正
- Windows：子プロセスを生成する際にコンソールウィンドウがフラッシュする問題を修正
- VSCode：長時間のセッション後にOAuthトークンの有効期限切れで401エラーが発生していた問題を修正

## 2.1.25

- BedrockとVertexのゲートウェイユーザーのベータヘッダー検証エラーを修正し、`CLAUDE_CODE_DISABLE_EXPERIMENTAL_BETAS=1`でエラーを回避できるように

## 2.1.23

- カスタマイズ可能なスピナー動詞設定（`spinnerVerbs`）を追加
- 企業プロキシの背後にいるユーザーやクライアント証明書を使用しているユーザーのmTLSとプロキシ接続を修正
- 共有システムで権限の競合を防ぐため、ユーザーごとの一時ディレクトリ分離を修正
- プロンプトキャッシングスコープが有効な場合に400エラーを引き起こす可能性があった競合状態を修正
- ヘッドレスストリーミングセッションが終了した際に、保留中の非同期フックがキャンセルされなかった問題を修正
- タブ補完が提案を受け入れた際に入力フィールドを更新しなかった問題を修正
- ripgrep検索のタイムアウトがエラーを報告せずに静かに空の結果を返していた問題を修正
- 最適化された画面データレイアウトでターミナルのレンダリングパフォーマンスを改善
- Bashコマンドが経過時間と共にタイムアウト期間を表示するように変更
- マージされたプルリクエストがプロンプトフッターに紫色のステータスインジケーターを表示するように変更
- [IDE] ヘッドレスモードのBedrockユーザーに対してモデルオプションが誤った地域文字列を表示していた問題を修正

## 2.1.22

- 非対話型（-p）モードの構造化出力を修正

## 2.1.21

- 日本語IMEからのオプション選択プロンプトでの全角数字入力サポートを追加
- 終了時にシェル補完キャッシュファイルが切り捨てられる問題を修正
- ツール実行中に中断されたセッションを再開した際のAPIエラーを修正
- 大きな出力トークン制限を持つモデルで自動コンパクトが早すぎるタイミングでトリガーされていた問題を修正
- 削除後にタスクIDが再利用される可能性があった問題を修正
- Windows上のVS Code拡張機能でファイル検索が機能しなかった問題を修正
- 読み取り/検索の進行状況インジケーターを改善し、進行中は「Reading…」、完了時は「Read」を表示
- Claudeがbash相当のコマンド（cat、sed、awk）よりもファイル操作ツール（Read、Edit、Write）を優先するように改善
- [VSCode] Pythonの仮想環境の自動アクティベーションを追加し、`python`と`pip`コマンドが正しいインタープリタを使用するように（`claudeCode.usePythonEnvironment`設定で設定可能）
- [VSCode] メッセージアクションボタンの背景色が誤っていた問題を修正

## 2.1.20

- カーソルがこれ以上移動できない場合のvimノーマルモードでの矢印キー履歴ナビゲーションを追加
- 外部エディタショートカット（Ctrl+G）をヘルプメニューに追加し、発見しやすさを向上
- プロンプトフッターにPRレビューステータスインジケーターを追加し、現在のブランチのPR状態（承認済み、変更要求、保留中、またはドラフト）を色付きドットとクリック可能なリンクで表示
- `--add-dir`フラグで指定された追加ディレクトリからの`CLAUDE.md`ファイルの読み込みサポートを追加（`CLAUDE_CODE_ADDITIONAL_DIRECTORIES_CLAUDE_MD=1`の設定が必要）
- `TaskUpdate`ツール経由でタスクを削除する機能を追加
- 再開時に完全な履歴の代わりにコンパクトサマリーを読み込むことができなかったセッションコンパクションの問題を修正
- タスクに積極的に取り組んでいる間に送信されたユーザーメッセージをエージェントが無視することがあった問題を修正
- 幅広文字（絵文字、CJK）のレンダリングアーティファクトで、より狭い文字に置き換えられた際に末尾の列がクリアされなかった問題を修正
- MCP MCPツールレスポンスに特殊なUnicode文字が含まれている場合のJSON解析エラーを修正
- 複数行およびラップされたテキスト入力での上下矢印キーが、履歴ナビゲーションよりもカーソル移動を優先するように修正
- コマンド履歴をナビゲートするためにUP矢印を押した際にドラフトプロンプトが失われる問題を修正
- 入力途中でスラッシュコマンドを入力した際にゴーストテキストがちらつく問題を修正
- マーケットプレイスソースの削除が設定を適切に削除しなかった問題を修正
- `/context`のようなコマンドで重複出力が発生していた問題を修正
- タスクリストがメイン会話ビューの外に表示されることがあった問題を修正
- Pythonのdocstringのような複数行構造内で発生する差分の構文ハイライトを修正
- ツール使用をキャンセルした際のクラッシュを修正
- `/sandbox`コマンドUIを改善し、依存関係が不足している場合に依存関係のステータスとインストール手順を表示
- 思考ステータステキストに微妙なシマーアニメーションを追加して改善
- タスクリストがターミナルの高さに基づいて表示項目を動的に調整するように改善
- フォーク会話のヒントを改善し、元のセッションを再開する方法を表示
- 折りたたまれた読み取り/検索グループが進行中は現在形（「Reading」、「Searching for」）、完了時は過去形（「Read」、「Searched for」）を表示するように変更
- `ToolSearch`の結果が会話内のインラインではなく簡単な通知として表示されるように変更
- `/commit-push-pr`スキルが、MCPツール経由で設定されている場合、PR URLを自動的にSlackチャンネルに投稿するように変更
- `/copy`コマンドをすべてのユーザーが利用できるように変更
- バックグラウンドエージェントが起動前にツール権限を求めるように変更
- `Bash(*)`のような権限ルールが受け入れられ、`Bash`と同等として扱われるように変更
- データ損失を防ぐため、設定バックアップがタイムスタンプ付きでローテーション（最新5つを保持）されるように変更

## 2.1.19

- 環境変数`CLAUDE_CODE_ENABLE_TASKS`を追加、`false`に設定すると一時的に古いシステムを維持
- カスタムコマンドで個々の引数にアクセスするための省略形`$0`、`$1`などを追加
- AVX命令サポートのないプロセッサでのクラッシュを修正
- `process.exit()`からのEIOエラーをキャッチし、フォールバックとしてSIGKILLを使用することで、ターミナルが閉じられた際にClaude Codeプロセスが残る問題を修正
- 別のディレクトリ（例：gitワークツリー）から再開した際に、`/rename`と`/tag`が正しいセッションを更新しなかった問題を修正
- 別のディレクトリから実行した際に、カスタムタイトルでセッションを再開できなかった問題を修正
- プロンプトスタッシュ（Ctrl+S）と復元を使用した際に、貼り付けられたテキストコンテンツが失われる問題を修正
- 明示的なモデル設定のないエージェントに対して、エージェントリストが「Inherit (default)」の代わりに「Sonnet (default)」を表示していた問題を修正
- バックグラウンド化されたフックコマンドが早期に戻らず、意図的にバックグラウンド化されたプロセスをセッションが待機する可能性があった問題を修正
- 追加の権限やフックのないスキルが承認を必要とせずに許可されるように変更
- インデックス付き引数構文を`$ARGUMENTS.0`から`$ARGUMENTS[0]`（ブラケット構文）に変更
- [SDK] `replayUserMessages`が有効な場合、`queued_command`添付メッセージを`SDKUserMessageReplay`イベントとして再生する機能を追加
- [VSCode] すべてのユーザーに対してセッションフォークと巻き戻し機能を有効化

## 2.1.18

- カスタマイズ可能なキーボードショートカットを追加。コンテキストごとにキーバインディングを設定し、コードシーケンスを作成し、ワークフローをパーソナライズできます。`/keybindings`を実行して開始してください。詳細はhttps://code.claude.com/docs/en/keybindingsをご覧ください

## 2.1.17

- AVX命令サポートのないプロセッサでのクラッシュを修正

## 2.1.16

---

*最新20バージョンのみ表示*