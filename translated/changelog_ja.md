# Claude Code チェンジログ（日本語訳）

> 最終更新: 2026年01月27日 12:31（日本時間）  
> 原文: https://raw.githubusercontent.com/anthropics/claude-code/main/CHANGELOG.md  
> 表示: 最新50バージョン

---

## 2.1.20

- vimノーマルモードでカーソルがこれ以上移動できない場合に、矢印キーで履歴をナビゲートできるように改善
- 外部エディタのショートカット（Ctrl+G）をヘルプメニューに追加し、見つけやすく改善
- プロンプトフッターにPRレビューステータスインジケーターを追加。現在のブランチのPR状態（承認済み、変更要求、保留中、またはドラフト）を色付きドットで表示し、クリック可能なリンクを提供
- `--add-dir`フラグで指定された追加ディレクトリから`CLAUDE.md`ファイルを読み込む機能を追加（`CLAUDE_CODE_ADDITIONAL_DIRECTORIES_CLAUDE_MD=1`の設定が必要）
- `TaskUpdate`ツールを使用してタスクを削除できる機能を追加
- セッション圧縮の問題を修正。再開時にコンパクトなサマリーではなく完全な履歴が読み込まれることがあった問題を解消
- エージェントがタスクに積極的に取り組んでいる間に送信されたユーザーメッセージを無視することがあった問題を修正
- 絵文字やCJK文字などのワイド文字のレンダリングアーティファクトを修正。より狭い文字に置き換えられた際に末尾の列がクリアされていなかった問題を解消
- MCP ツールレスポンスに特殊なUnicode文字が含まれている場合のJSON解析エラーを修正
- 複数行およびラップされたテキスト入力での上下矢印キーの動作を改善。履歴ナビゲーションよりもカーソル移動を優先するように変更
- コマンド履歴をナビゲートするために上矢印キーを押した際に、下書きプロンプトが失われる問題を修正
- 入力中にスラッシュコマンドを入力した際のゴーストテキストのちらつきを修正
- マーケットプレイスソースの削除が設定を適切に削除しない問題を修正
- `/context`などの一部のコマンドで出力が重複する問題を修正
- タスクリストがメインの会話ビューの外側に表示されることがあった問題を修正
- Pythonのdocstringなどの複数行構造内で発生する差分の構文ハイライトを修正
- ツール使用をキャンセルした際のクラッシュを修正
- `/sandbox`コマンドのUIを改善。依存関係が不足している場合に、依存関係のステータスとインストール手順を表示するように変更
- 思考ステータステキストに微妙なシマーアニメーションを追加して改善
- タスクリストがターミナルの高さに基づいて表示項目を動的に調整するように改善
- フォーク会話のヒントを改善し、元のセッションを再開する方法を表示
- 折りたたまれた読み取り/検索グループの表示を変更。進行中は現在形（「Reading」「Searching for」）、完了時は過去形（「Read」「Searched for」）で表示
- チームメイトメッセージをプレーンテキストではなく、リッチなMarkdown形式（太字、コードブロック、リストなど）でレンダリングするように変更
- `ToolSearch`の結果を会話内のインライン表示ではなく、簡潔な通知として表示するように変更
- `/commit-push-pr`スキルを変更。MCPツール経由で設定されている場合、PR URLを自動的にSlackチャンネルに投稿するように改善
- `/copy`コマンドをすべてのユーザーが利用できるように変更
- バックグラウンドエージェントが起動前にツールの権限を確認するように変更
- `Bash(*)`のような権限ルールを受け入れ、`Bash`と同等として扱うように変更
- 設定のバックアップにタイムスタンプを付けてローテーション（最新5件を保持）するように変更し、データ損失を防止

## 2.1.19

- 環境変数`CLAUDE_CODE_ENABLE_TASKS`を追加。`false`に設定すると一時的に旧システムを維持可能
- カスタムコマンドで個別の引数にアクセスするための短縮形`$0`、`$1`などを追加
- AVX命令セットをサポートしていないプロセッサでのクラッシュを修正
- ターミナルが閉じられた際にClaude Codeプロセスが残る問題を修正。`process.exit()`からのEIOエラーをキャッチし、フォールバックとしてSIGKILLを使用
- 異なるディレクトリ（gitワークツリーなど）から再開した際に、`/rename`と`/tag`が正しいセッションを更新しない問題を修正
- 異なるディレクトリから実行した際に、カスタムタイトルでセッションを再開できない問題を修正
- プロンプトスタッシュ（Ctrl+S）と復元を使用した際に、ペーストしたテキストコンテンツが失われる問題を修正
- 明示的なモデル設定のないエージェントに対して、エージェントリストが「Inherit (default)」ではなく「Sonnet (default)」と表示される問題を修正
- バックグラウンド化されたフックコマンドが早期に戻らず、意図的にバックグラウンド化されたプロセスをセッションが待機する可能性があった問題を修正
- ファイル書き込みプレビューが空行を省略する問題を修正
- 追加の権限やフックを持たないスキルを、承認を必要とせずに許可するように変更
- インデックス付き引数の構文を`$ARGUMENTS.0`から`$ARGUMENTS[0]`（ブラケット構文）に変更
- [SDK] `replayUserMessages`が有効な場合、`queued_command`添付メッセージを`SDKUserMessageReplay`イベントとして再生する機能を追加
- [VSCode] すべてのユーザーに対してセッションのフォークと巻き戻し機能を有効化

## 2.1.18

- カスタマイズ可能なキーボードショートカットを追加。コンテキストごとにキーバインドを設定し、コードシーケンスを作成して、ワークフローをパーソナライズできます。`/keybindings`を実行して開始してください。詳細は https://code.claude.com/docs/en/keybindings をご覧ください

## 2.1.17

- AVX命令セットをサポートしていないプロセッサでのクラッシュを修正

## 2.1.16

- 依存関係追跡などの新機能を含む、新しいタスク管理システムを追加
- [VSCode] ネイティブプラグイン管理サポートを追加
- [VSCode] OAuthユーザーがセッションダイアログからリモートClaudeセッションを閲覧・再開できる機能を追加
- サブエージェントを多用したセッションを再開する際のメモリ不足クラッシュを修正
- `/compact`実行後に「残りコンテキスト」警告が非表示にならない問題を修正
- 再開画面のセッションタイトルがユーザーの言語設定を尊重しない問題を修正
- [IDE] WindowsでClaude Codeサイドバービューコンテナが起動時に表示されない競合状態を修正

## 2.1.15

- npmインストールの非推奨通知を追加 - `claude install`を実行するか、https://docs.anthropic.com/en/docs/claude-code/getting-started で他のオプションを確認してください
- React CompilerによるUIレンダリングパフォーマンスを改善
- `/compact`実行後に「自動圧縮までの残りコンテキスト」警告が消えない問題を修正
- MCP stdioサーバーのタイムアウトが子プロセスを終了せず、UIフリーズを引き起こす可能性があった問題を修正

## 2.1.14

- bashモード（`!`）に履歴ベースのオートコンプリートを追加 - コマンドの一部を入力してTabキーを押すと、bashコマンド履歴から補完されます
- インストール済みプラグインリストに検索機能を追加 - 名前または説明で絞り込むために入力できます
- プラグインを特定のgitコミットSHAに固定するサポートを追加。マーケットプレイスエントリが正確なバージョンをインストールできるようになりました
- コンテキストウィンドウのブロック制限が過度に積極的に計算され、意図した約98%ではなく約65%のコンテキスト使用時にユーザーをブロックしていたリグレッションを修正
- 並列サブエージェント実行時にクラッシュを引き起こす可能性があったメモリ問題を修正

## 2.1.19

- 環境変数 `CLAUDE_CODE_ENABLE_TASKS` を追加。一時的に旧システムを維持するには `false` に設定してください
- カスタムコマンドで個別の引数にアクセスするための短縮記法 `$0`、`$1` などを追加
- AVX命令セットに非対応のプロセッサでのクラッシュを修正
- `process.exit()` からのEIOエラーをキャッチし、フォールバックとしてSIGKILLを使用することで、ターミナル終了時にClaude Codeプロセスが残留する問題を修正
- 異なるディレクトリ（例：gitワークツリー）から再開した際に、`/rename` と `/tag` が正しいセッションを更新しない問題を修正
- 異なるディレクトリから実行した際に、カスタムタイトルによるセッション再開が機能しない問題を修正
- プロンプトスタッシュ（Ctrl+S）と復元を使用した際に、貼り付けたテキストコンテンツが失われる問題を修正
- エージェントリストで、明示的なモデル設定のないエージェントに対して「Sonnet (default)」ではなく「Inherit (default)」と表示されるよう修正
- バックグラウンド化されたフックコマンドが早期に戻らず、意図的にバックグラウンド化されたプロセスをセッションが待機してしまう可能性があった問題を修正
- ファイル書き込みプレビューで空行が省略される問題を修正
- 追加の権限やフックを必要としないスキルについて、承認なしで許可されるよう変更
- インデックス付き引数の構文を `$ARGUMENTS.0` から `$ARGUMENTS[0]`（ブラケット構文）に変更
- [SDK] `replayUserMessages` が有効な場合、`queued_command` 添付メッセージを `SDKUserMessageReplay` イベントとして再生する機能を追加
- [VSCode] すべてのユーザーに対してセッションのフォークと巻き戻し機能を有効化

## 2.1.18

- カスタマイズ可能なキーボードショートカットを追加。コンテキストごとにキーバインドを設定し、コードシーケンスを作成して、ワークフローをパーソナライズできます。`/keybindings` を実行して開始してください。詳細は https://code.claude.com/docs/en/keybindings をご覧ください

## 2.1.17

- AVX命令セットに非対応のプロセッサでのクラッシュを修正

## 2.1.16

- 依存関係追跡などの新機能を含む、新しいタスク管理システムを追加
- [VSCode] ネイティブプラグイン管理サポートを追加
- [VSCode] OAuthユーザーがセッションダイアログからリモートClaudeセッションを閲覧・再開できる機能を追加
- サブエージェントを多用したセッションを再開する際のメモリ不足クラッシュを修正
- `/compact` 実行後に「残りコンテキスト」警告が非表示にならない問題を修正
- 再開画面のセッションタイトルがユーザーの言語設定を尊重しない問題を修正
- [IDE] Windowsで起動時にClaude Codeサイドバービューコンテナが表示されない競合状態を修正

## 2.1.15

- npmインストールの非推奨通知を追加 - `claude install` を実行するか、https://docs.anthropic.com/en/docs/claude-code/getting-started で他のオプションをご確認ください
- React CompilerによるUIレンダリングパフォーマンスを改善
- `/compact` 実行後に「自動コンパクトまでの残りコンテキスト」警告が消えない問題を修正
- MCP stdioサーバーのタイムアウトが子プロセスを終了せず、UIフリーズを引き起こす可能性があった問題を修正

## 2.1.14

- bashモード（`!`）に履歴ベースのオートコンプリートを追加 - コマンドの一部を入力してTabキーを押すと、bashコマンド履歴から補完されます
- インストール済みプラグインリストに検索機能を追加 - 名前や説明で絞り込むために入力してください
- プラグインを特定のgitコミットSHAに固定する機能を追加。マーケットプレイスエントリが正確なバージョンをインストールできるようになりました
- コンテキストウィンドウのブロック制限が過度に積極的に計算され、意図した約98%ではなく約65%のコンテキスト使用時にユーザーをブロックしていた不具合を修正
- 並列サブエージェント実行時にクラッシュを引き起こす可能性があったメモリ問題を修正
- シェルコマンド完了後にストリームリソースがクリーンアップされず、長時間実行セッションでメモリリークが発生していた問題を修正
- bashモードで `@` 記号が誤ってファイルオートコンプリート候補をトリガーする問題を修正
- `@`-メンションメニューのフォルダクリック動作を、選択ではなくディレクトリへのナビゲートに修正
- `/feedback` コマンドで説明が非常に長い場合に無効なGitHub issue URLが生成される問題を修正
- `/context` コマンドが詳細モードでステータス行と同じトークン数とパーセンテージを表示するよう修正
- `/config`、`/context`、`/model`、`/todos` コマンドのオーバーレイが予期せず閉じる可能性があった問題を修正
- 類似したコマンド（例：`/context` vs `/compact`）を入力した際に、スラッシュコマンドのオートコンプリートが誤ったコマンドを選択する問題を修正
- マーケットプレイスが1つだけ設定されている場合のプラグインマーケットプレイスでの戻るナビゲーションの不整合を修正
- iTerm2のプロセスバーが終了時に適切にクリアされず、インジケーターやベル音が残留する問題を修正
- バックスペースで貼り付けたテキストを1文字ずつではなく単一トークンとして削除するよう改善
- [VSCode] 現在のプラン使用状況を表示する `/usage` コマンドを追加

## 2.1.12

- メッセージレンダリングのバグを修正

## 2.1.11

- HTTP/SSEトランスポートに対する過剰なMCP接続リクエストを修正

## 2.1.10

## 2.1.17

- AVX命令セットに対応していないプロセッサでのクラッシュを修正

## 2.1.16

- 依存関係の追跡などの新機能を含む、新しいタスク管理システムを追加
- [VSCode] ネイティブプラグイン管理のサポートを追加
- [VSCode] OAuthユーザーがSessionsダイアログからリモートClaudeセッションを閲覧・再開できる機能を追加
- サブエージェントを多用したセッションを再開する際のメモリ不足クラッシュを修正
- `/compact`実行後に「残りコンテキスト」の警告が非表示にならない問題を修正
- 再開画面のセッションタイトルがユーザーの言語設定を反映しない問題を修正
- [IDE] Windows環境でClaude Codeサイドバービューコンテナが起動時に表示されない競合状態を修正

## 2.1.15

- npmインストールの非推奨通知を追加 - `claude install`を実行するか、https://docs.anthropic.com/en/docs/claude-code/getting-started で他のオプションを確認してください
- React Compilerを使用してUIレンダリングのパフォーマンスを改善
- `/compact`実行後に「自動コンパクトまでの残りコンテキスト」警告が消えない問題を修正
- MCP stdioサーバーのタイムアウトが子プロセスを終了せず、UIフリーズを引き起こす可能性があった問題を修正

## 2.1.14

- bashモード(`!`)に履歴ベースのオートコンプリートを追加 - コマンドの一部を入力してTabキーを押すと、bashコマンド履歴から補完されます
- インストール済みプラグインリストに検索機能を追加 - 名前や説明で絞り込めます
- プラグインを特定のgitコミットSHAに固定できる機能を追加。マーケットプレイスのエントリが正確なバージョンをインストールできるようになりました
- コンテキストウィンドウのブロック制限が過度に厳しく計算され、意図した約98%ではなく約65%のコンテキスト使用時にユーザーをブロックしていたリグレッションを修正
- 並列サブエージェント実行時にクラッシュを引き起こす可能性があったメモリ問題を修正
- シェルコマンド完了後にストリームリソースがクリーンアップされず、長時間実行セッションでメモリリークが発生していた問題を修正
- bashモードで`@`記号が誤ってファイルオートコンプリート候補をトリガーする問題を修正
- `@`メンションメニューでフォルダをクリックした際、選択ではなくディレクトリ内に移動するよう動作を修正
- `/feedback`コマンドで説明が非常に長い場合に無効なGitHub issue URLが生成される問題を修正
- `/context`コマンドで詳細モード時にステータスラインと同じトークン数とパーセンテージを表示するよう修正
- `/config`、`/context`、`/model`、`/todos`コマンドのオーバーレイが予期せず閉じる可能性があった問題を修正
- 類似したコマンド(例:`/context`と`/compact`)を入力した際に、スラッシュコマンドのオートコンプリートが誤ったコマンドを選択する問題を修正
- マーケットプレイスが1つだけ設定されている場合のプラグインマーケットプレイスでの戻るナビゲーションの不整合を修正
- iTerm2のプログレスバーが終了時に適切にクリアされず、インジケータやベル音が残る問題を修正
- バックスペースで貼り付けたテキストを1文字ずつではなく1つのトークンとして削除するよう改善
- [VSCode] 現在のプラン使用状況を表示する`/usage`コマンドを追加

## 2.1.12

- メッセージレンダリングのバグを修正

## 2.1.11

- HTTP/SSEトランスポートでのMCP接続リクエストが過剰に発生する問題を修正

## 2.1.10

- リポジトリのセットアップとメンテナンス操作用に、`--init`、`--init-only`、`--maintenance` CLIフラグでトリガーできる新しい`Setup`フックイベントを追加
- ログイン時にブラウザが自動的に開かない場合、キーボードショートカット'c'でOAuth URLをコピーできる機能を追加
- `${index + 1}`のようなJavaScriptテンプレートリテラルを含むヒアドキュメントを持つbashコマンド実行時のクラッシュを修正

## 2.1.16

- 依存関係の追跡などの新機能を含む、新しいタスク管理システムを追加
- [VSCode] ネイティブプラグイン管理サポートを追加
- [VSCode] OAuthユーザーがセッションダイアログからリモートのClaudeセッションを閲覧・再開できる機能を追加
- サブエージェントを大量に使用したセッションを再開する際のメモリ不足クラッシュを修正
- `/compact`実行後に「残りコンテキスト」警告が非表示にならない問題を修正
- 再開画面のセッションタイトルがユーザーの言語設定を反映しない問題を修正
- [IDE] WindowsでClaude Codeサイドバービューコンテナが起動時に表示されない競合状態を修正

## 2.1.15

- npmインストールの非推奨通知を追加 - `claude install`を実行するか、https://docs.anthropic.com/en/docs/claude-code/getting-started で他のオプションを確認してください
- React Compilerによるレンダリングパフォーマンスを改善
- `/compact`実行後に「自動コンパクトまでの残りコンテキスト」警告が消えない問題を修正
- MCP stdioサーバーのタイムアウトが子プロセスを終了せず、UIフリーズを引き起こす可能性があった問題を修正

## 2.1.14

- bashモード(`!`)に履歴ベースのオートコンプリートを追加 - コマンドの一部を入力してTabキーを押すと、bashコマンド履歴から補完されます
- インストール済みプラグインリストに検索機能を追加 - 名前や説明で絞り込めます
- プラグインを特定のgitコミットSHAに固定できるサポートを追加。マーケットプレイスのエントリが正確なバージョンをインストールできるようになります
- コンテキストウィンドウのブロック制限が過度に積極的に計算され、意図した約98%ではなく約65%のコンテキスト使用率でユーザーをブロックしていたリグレッションを修正
- 並列サブエージェント実行時にクラッシュを引き起こす可能性があったメモリ問題を修正
- シェルコマンド完了後にストリームリソースがクリーンアップされず、長時間実行セッションでメモリリークが発生していた問題を修正
- bashモードで`@`記号が誤ってファイルのオートコンプリート候補をトリガーする問題を修正
- `@`メンションメニューのフォルダクリック動作を、選択ではなくディレクトリへのナビゲーションに修正
- 説明が非常に長い場合に`/feedback`コマンドが無効なGitHub issue URLを生成する問題を修正
- verboseモードで`/context`コマンドがステータスラインと同じトークン数とパーセンテージを表示するように修正
- `/config`、`/context`、`/model`、`/todos`コマンドのオーバーレイが予期せず閉じる可能性があった問題を修正
- 類似したコマンドを入力した際にスラッシュコマンドのオートコンプリートが間違ったコマンドを選択する問題を修正(例: `/context` vs `/compact`)
- マーケットプレイスが1つだけ設定されている場合のプラグインマーケットプレイスでの戻るナビゲーションの不整合を修正
- iTerm2のプログレスバーが終了時に適切にクリアされず、インジケーターやベル音が残る問題を修正
- バックスペースで貼り付けたテキストを1文字ずつではなく1トークンとして削除できるように改善
- [VSCode] 現在のプラン使用状況を表示する`/usage`コマンドを追加

## 2.1.12

- メッセージレンダリングのバグを修正

## 2.1.11

- HTTP/SSEトランスポートでのMCP接続リクエストが過剰に発生する問題を修正

## 2.1.10

- リポジトリのセットアップとメンテナンス操作用に、`--init`、`--init-only`、`--maintenance` CLIフラグでトリガーできる新しい`Setup`フックイベントを追加
- ログイン時にブラウザが自動的に開かない場合にOAuth URLをコピーできるキーボードショートカット'c'を追加
- `${index + 1}`のようなJavaScriptテンプレートリテラルを含むヒアドキュメントを含むbashコマンド実行時のクラッシュを修正
- REPLが完全に準備される前に入力されたキーストロークをキャプチャできるよう起動処理を改善
- ファイル候補を、受け入れ時にテキストを挿入するのではなく、削除可能な添付ファイルとして表示するように改善
- [VSCode] プラグインリストにインストール数の表示を追加
- [VSCode] プラグインインストール時の信頼性警告を追加

## 2.1.9

- MCPツール検索の自動有効化しきい値を設定する`auto:N`構文を追加。Nはコンテキストウィンドウのパーセンテージ(0-100)です
- プランファイルの保存場所をカスタマイズできる`plansDirectory`設定を追加
- AskUserQuestionの「その他」入力フィールドで外部エディタサポート(Ctrl+G)を追加

## 2.1.15

- npmインストールの非推奨通知を追加 - `claude install`を実行するか、https://docs.anthropic.com/en/docs/claude-code/getting-started で他のオプションを確認してください
- React Compilerによるレンダリングパフォーマンスを改善
- `/compact`実行後に「自動コンパクトまでのコンテキスト残量」警告が消えない問題を修正
- MCP stdioサーバーのタイムアウト時に子プロセスが終了せず、UIがフリーズする可能性があった問題を修正

## 2.1.14

- bashモード（`!`）に履歴ベースのオートコンプリートを追加 - コマンドの一部を入力してTabキーを押すと、bashコマンド履歴から補完されます
- インストール済みプラグインリストに検索機能を追加 - 名前や説明で絞り込めます
- プラグインを特定のgitコミットSHAに固定する機能を追加し、マーケットプレイスエントリから正確なバージョンをインストールできるようになりました
- コンテキストウィンドウのブロック制限が過度に厳しく計算され、意図した約98%ではなく約65%のコンテキスト使用率でユーザーがブロックされていた不具合を修正
- 並列サブエージェント実行時にクラッシュを引き起こす可能性があったメモリ問題を修正
- シェルコマンド完了後にストリームリソースがクリーンアップされず、長時間セッションでメモリリークが発生していた問題を修正
- bashモードで`@`記号が誤ってファイルのオートコンプリート候補をトリガーしていた問題を修正
- `@`メンションメニューのフォルダクリック動作を、選択ではなくディレクトリへの移動に修正
- `/feedback`コマンドで説明が非常に長い場合に無効なGitHub issue URLが生成される問題を修正
- `/context`コマンドで詳細モード時にステータスラインと同じトークン数とパーセンテージを表示するよう修正
- `/config`、`/context`、`/model`、`/todos`コマンドのオーバーレイが予期せず閉じることがあった問題を修正
- 類似したコマンド（例：`/context`と`/compact`）を入力した際に、スラッシュコマンドのオートコンプリートが誤ったコマンドを選択していた問題を修正
- マーケットプレイスが1つだけ設定されている場合のプラグインマーケットプレイスでの戻るナビゲーションの不整合を修正
- iTerm2のプログレスバーが終了時に適切にクリアされず、インジケーターやベル音が残り続ける問題を修正
- バックスペースで貼り付けたテキストを1文字ずつではなく、1つのトークンとして削除できるよう改善
- [VSCode] 現在のプラン使用状況を表示する`/usage`コマンドを追加

## 2.1.12

- メッセージレンダリングのバグを修正

## 2.1.11

- HTTP/SSEトランスポートでMCP接続リクエストが過剰に発生していた問題を修正

## 2.1.10

- リポジトリのセットアップとメンテナンス操作のために、`--init`、`--init-only`、または`--maintenance` CLIフラグでトリガーできる新しい`Setup`フックイベントを追加
- ログイン時にブラウザが自動的に開かない場合、'c'キーでOAuth URLをコピーできるキーボードショートカットを追加
- `${index + 1}`のようなJavaScriptテンプレートリテラルを含むヒアドキュメントを持つbashコマンド実行時のクラッシュを修正
- REPL完全起動前に入力されたキーストロークをキャプチャするよう起動処理を改善
- ファイル候補を、受け入れ時にテキストを挿入するのではなく、削除可能な添付ファイルとして表示するよう改善
- [VSCode] プラグインリストにインストール数の表示を追加
- [VSCode] プラグインインストール時の信頼警告を追加

## 2.1.9

- MCPツール検索の自動有効化しきい値を設定する`auto:N`構文を追加（Nはコンテキストウィンドウのパーセンテージ、0-100）
- プランファイルの保存場所をカスタマイズする`plansDirectory`設定を追加
- AskUserQuestionの「その他」入力フィールドで外部エディタサポート（Ctrl+G）を追加
- Webセッションから作成されたコミットとPRにセッションURL帰属情報を追加
- `PreToolUse`フックがモデルに`additionalContext`を返せるようサポートを追加
- 並列ツール呼び出しを伴う長時間セッションで、孤立したtool_resultブロックに関するAPIエラーで失敗していた問題を修正
- キャッシュされた接続プロミスが解決されない場合にMCPサーバーの再接続がハングする問題を修正
- Kittyキーボードプロトコルを使用するターミナル（Ghostty、iTerm2、kitty、WezTerm）でCtrl+Zサスペンドが機能しなかった問題を修正

# チェンジログ

## 2.1.14

- bashモード（`!`）に履歴ベースのオートコンプリート機能を追加 - コマンドの一部を入力してTabキーを押すと、bashコマンド履歴から補完されます
- インストール済みプラグインリストに検索機能を追加 - 名前や説明で絞り込めます
- プラグインを特定のgitコミットSHAに固定する機能を追加し、マーケットプレイスのエントリが正確なバージョンをインストールできるようになりました
- コンテキストウィンドウのブロック制限が過度に厳しく計算され、意図した約98%ではなく約65%のコンテキスト使用率でユーザーがブロックされていた不具合を修正
- 並列サブエージェント実行時にクラッシュを引き起こす可能性があったメモリ問題を修正
- シェルコマンド完了後にストリームリソースがクリーンアップされず、長時間セッションでメモリリークが発生していた問題を修正
- bashモードで`@`記号が誤ってファイルのオートコンプリート候補をトリガーしていた問題を修正
- `@`メンションメニューのフォルダクリック動作を修正し、選択ではなくディレクトリへのナビゲーションを行うようになりました
- 説明が非常に長い場合に`/feedback`コマンドが無効なGitHub issueのURLを生成していた問題を修正
- verboseモードで`/context`コマンドがステータスラインと同じトークン数とパーセンテージを表示するよう修正
- `/config`、`/context`、`/model`、`/todos`コマンドのオーバーレイが予期せず閉じることがあった問題を修正
- 類似したコマンドを入力した際にスラッシュコマンドのオートコンプリートが誤ったコマンドを選択していた問題を修正（例：`/context` vs `/compact`）
- マーケットプレイスが1つだけ設定されている場合のプラグインマーケットプレイスでの戻るナビゲーションの不整合を修正
- iTerm2のプロゲレスバーが終了時に適切にクリアされず、インジケーターやベル音が残っていた問題を修正
- バックスペースでペーストしたテキストを1文字ずつではなく1トークンとして削除するよう改善
- [VSCode] 現在のプラン使用状況を表示する`/usage`コマンドを追加

## 2.1.12

- メッセージレンダリングのバグを修正

## 2.1.11

- HTTP/SSEトランスポートでのMCP接続リクエストが過剰に発生していた問題を修正

## 2.1.10

- リポジトリのセットアップとメンテナンス操作のために`--init`、`--init-only`、`--maintenance` CLIフラグでトリガーできる新しい`Setup`フックイベントを追加
- ログイン時にブラウザが自動的に開かない場合にOAuth URLをコピーするキーボードショートカット'c'を追加
- `${index + 1}`のようなJavaScriptテンプレートリテラルを含むヒアドキュメントを含むbashコマンド実行時のクラッシュを修正
- REPLが完全に準備される前に入力されたキーストロークをキャプチャするよう起動処理を改善
- ファイル候補を受け入れた際にテキストを挿入するのではなく、削除可能な添付ファイルとして表示するよう改善
- [VSCode] プラグインリストにインストール数の表示を追加
- [VSCode] プラグインインストール時の信頼警告を追加

## 2.1.9

- MCPツール検索の自動有効化しきい値を設定する`auto:N`構文を追加（Nはコンテキストウィンドウのパーセンテージ0-100）
- プランファイルの保存場所をカスタマイズする`plansDirectory`設定を追加
- AskUserQuestionの「その他」入力フィールドで外部エディタサポート（Ctrl+G）を追加
- Webセッションから作成されたコミットとPRにセッションURLの帰属情報を追加
- `PreToolUse`フックが`additionalContext`をモデルに返せるようサポートを追加
- スキルが現在のセッションIDにアクセスできるよう`${CLAUDE_SESSION_ID}`文字列置換を追加
- 並列ツール呼び出しを伴う長時間セッションが孤立したtool_resultブロックに関するAPIエラーで失敗していた問題を修正
- キャッシュされた接続プロミスが解決されない場合にMCPサーバーの再接続がハングしていた問題を修正
- Kittyキーボードプロトコルを使用するターミナル（Ghostty、iTerm2、kitty、WezTerm）でCtrl+Zサスペンドが機能していなかった問題を修正

## 2.1.7

- ターン時間メッセージ（例：「Cooked for 1m 6s」）を非表示にする`showTurnDuration`設定を追加
- 許可プロンプトを承認する際にフィードバックを提供できる機能を追加
- タスク通知にエージェントの最終応答をインライン表示し、完全なトランスクリプトファイルを読まなくても結果を確認しやすくしました
- ワイルドカード許可ルールがシェル演算子を含む複合コマンドにマッチする可能性があったセキュリティ脆弱性を修正
- クラウド同期ツール、ウイルス対策スキャナー、Gitがコンテンツを変更せずにファイルのタイムスタンプをタッチした際にWindows上で誤った「ファイルが変更されました」エラーが発生していた問題を修正
- ストリーミング実行中に兄弟ツールが失敗した際の孤立したtool_resultエラーを修正
- コンテキストウィンドウのブロック制限が有効なコンテキストウィンドウ（最大出力トークン用のスペースを確保）ではなく、完全なコンテキストウィンドウを使用して計算されていた問題を修正
- `/model`や`/theme`のようなローカルスラッシュコマンド実行時にスピナーが一瞬表示されていた問題を修正
- 固定幅のブライユ文字を使用してターミナルタイトルアニメーションのジッターを修正
- gitサブモジュールを持つプラグインがインストール時に完全に初期化されていなかった問題を修正
- 一時ディレクトリパスに`t`や`n`のような文字が含まれている場合、それらがエスケープシーケンスとして誤解釈され、Windows上でbashコマンドが失敗していた問題を修正
- ターミナルレンダリングのメモリ割り当てオーバーヘッドを削減し、タイピングの応答性を改善
- すべてのユーザーに対してMCPツール検索自動モードをデフォルトで有効化。MCPツールの説明がコンテキストウィンドウの10%を超える場合、事前にロードされる代わりに自動的に遅延され、MCPSearchツールを介して検出されます。これにより、多くのMCPツールを設定しているユーザーのコンテキスト使用量が削減されます。ユーザーは設定で`disallowedTools`に`MCPSearch`を追加することで無効化できます。
- OAuthとAPIコンソールのURLをconsole.anthropic.comからplatform.claude.comに変更
- [VSCode] `claudeProcessWrapper`設定がClaudeバイナリパスではなくラッパーパスを渡していた問題を修正

## 2.1.6

- 設定を素早く絞り込むための検索機能を`/config`コマンドに追加
- `/doctor`に自動更新チャンネルと利用可能なnpmバージョン（stable/latest）を表示するUpdatesセクションを追加
- `/stats`コマンドに日付範囲フィルタリングを追加 - `r`を押すと過去7日間、過去30日間、全期間を切り替えられます
- サブディレクトリ内のファイルを操作する際に、ネストされた`.claude/skills`ディレクトリからスキルを自動検出する機能を追加
- より簡単なコンテキストウィンドウ表示のため、ステータスライン入力に`context_window.used_percentage`と`context_window.remaining_percentage`フィールドを追加
- Ctrl+G時にエディタが失敗した場合のエラー表示を追加
- シェルの行継続を介した許可バイパスにより、ブロックされたコマンドが実行される可能性があった問題を修正
- ファイルウォッチャーがコンテンツを変更せずにファイルをタッチした際の誤った「ファイルが予期せず変更されました」エラーを修正
- 複数行の応答でテキストスタイリング（太字、色）が徐々にずれていた問題を修正
- フィードバックパネルの説明フィールドで'n'を入力した際に予期せず閉じていた問題を修正
- 週次リセット後の低使用率でレート制限警告が表示されていた問題を修正（現在は70%の使用率が必要）
- 前回のセッションを再開した際にレート制限オプションメニューが誤って自動的に開いていた問題を修正
- Kittyキーボードプロトコルターミナルでテンキーキーが文字ではなくエスケープシーケンスを出力していた問題を修正
- KittyキーボードプロトコルターミナルでOption+Returnが改行を挿入していなかった問題を修正
- ホームディレクトリに破損した設定バックアップファイルが蓄積されていた問題を修正（現在は設定ファイルごとに1つのバックアップのみ作成）
- `mcp list`と`mcp get`コマンドが孤立したMCPサーバープロセスを残していた問題を修正
- ink2モードで`display:none`によってノードが非表示になった際の視覚的なアーティファクトを修正
- 外部CLAUDE.mdインポート承認ダイアログを改善し、どのファイルがどこからインポートされるかを表示するようにしました
- `/tasks`ダイアログを改善し、実行中のバックグラウンドタスクが1つだけの場合はタスク詳細に直接移動するようにしました
- @オートコンプリートを改善し、異なる候補タイプのアイコンと単一行フォーマットを追加
- 「Claudeの改善にご協力ください」設定の取得を更新し、古いOAuthトークンによる失敗時にOAuthを更新して再試行するようにしました
- タスク通知の表示を変更し、複数のバックグラウンドタスクが同時に完了した際に3行までに制限し、オーバーフロー時は要約を表示するようにしました
- ターミナルタイトルを起動時に「Claude Code」に変更し、ウィンドウの識別を改善
- MCPサーバーを有効/無効にするための@メンション機能を削除 - 代わりに`/mcp enable <name>`を使用してください
- [VSCode] 手動コンパクト後に使用状況インジケーターが更新されていなかった問題を修正

## 2.1.5

- カスタム一時ディレクトリ要件のある環境で便利な、内部一時ファイルに使用される一時ディレクトリをオーバーライドする`CLAUDE_CODE_TMPDIR`環境変数を追加

## 2.1.4

- 自動バックグラウンド化とCtrl+Bショートカットを含むすべてのバックグラウンドタスク機能を無効にする`CLAUDE_CODE_DISABLE_BACKGROUND_TASKS`環境変数を追加
- 「Claudeの改善にご協力ください」設定の取得を修正し、古いOAuthトークンによる失敗時にOAuthを更新して再試行するようにしました

## 2.1.3

- スラッシュコマンドとスキルを統合し、動作を変更せずにメンタルモデルを簡素化
- `/config`にリリースチャンネル（`stable`または`latest`）の切り替えを追加
- 到達不可能な許可ルールの検出と警告を追加し、`/doctor`での警告と、各ルールのソースと実行可能な修正ガイダンスを含むルール保存後の警告を表示
- `/clear`コマンド後にプランファイルが保持されていた問題を修正し、会話をクリアした後に新しいプランファイルが使用されるようにしました
- 大きなinodeを持つファイルシステム（ExFATなど）でのスキル重複検出の誤検知を修正し、inode値に64ビット精度を使用するようにしました
- ステータスバーのバックグラウンドタスク数とタスクダイアログに表示されるアイテムの不一致を修正
- 会話のコンパクト中にサブエージェントが誤ったモデルを使用していた問題を修正
- サブエージェントでのWeb検索が誤ったモデルを使用していた問題を修正
- ホームディレクトリから実行した際の信頼ダイアログの承認が、セッション中にフックなどの信頼を必要とする機能を有効にしていなかった問題を修正
- 制御されていない書き込みがカーソル状態を破損するのを防ぎ、ターミナルレンダリングの安定性を改善
- 長い説明を2行に切り詰めることでスラッシュコマンド候補の可読性を改善
- ツールフック実行のタイムアウトを60秒から10分に変更
- [VSCode] 許可リクエストにクリック可能な保存先セレクターを追加し、設定の保存場所（このプロジェクト、すべてのプロジェクト、チームと共有、またはセッションのみ）を選択できるようにしました

## 2.1.2

- ターミナルにドラッグされた画像にソースパスメタデータを追加し、Claudeが画像の出所を理解できるようにしました
- OSC 8をサポートするターミナル（iTerm など）でツール出力のファイルパスにクリック可能なハイパーリンクを追加
- Windows Package Manager（winget）インストールのサポートを追加し、自動検出と更新手順を提供
- プランモードでShift+Tabキーボードショートカットを追加し、「編集を自動承認」オプションを素早く選択できるようにしました
- メインの自動アップデーターが無効な場合でもプラグインの自動更新を許可する`FORCE_AUTOUPDATE_PLUGINS`環境変数を追加
- SessionStartフック入力に`agent_type`を追加し、`--agent`が指定されている場合に設定されます
- `PreToolUse`フックが`additionalContext`を返せるようサポートを追加
- bashコマンド処理のコマンドインジェクション脆弱性を修正し、不正な形式の入力が任意のコマンドを実行できる可能性がありました
- tree-sitter解析ツリーが解放されず、長時間セッションでWASMメモリが無制限に増加していたメモリリークを修正
- CLAUDE.mdファイルで`@include`ディレクティブを使用した際にバイナリファイル（画像、PDFなど）が誤ってメモリに含まれていた問題を修正
- 別のインストールが進行中であると誤って主張していた更新の問題を修正
- 監視対象ディレクトリにソケットファイルが存在する場合のクラッシュを修正（EOPNOTSUPPエラーの多重防御）
- `/tasks`コマンド使用時にリモートセッションURLとテレポートが機能していなかった問題を修正
- ユーザー固有のサーバー設定をサニタイズすることで、MCPツール名が分析イベントで公開されていた問題を修正
- macOSでのOption-as-Metaヒントを改善し、iTerm2、Kitty、WezTermなどのネイティブCSIuターミナル向けのターミナル固有の手順を表示するようにしました
- SSH経由で画像をペーストした際のエラーメッセージを改善し、役に立たないクリップボードショートカットヒントの代わりに`scp`の使用を提案するようにしました
- 許可説明を改善し、日常的な開発ワークフロー（git fetch/rebase、npm install、テスト、PR）を中リスクとしてフラグ付けしないようにしました
- 大きなbashコマンド出力を切り詰める代わりにディスクに保存するよう変更し、Claudeが完全なコンテンツを読めるようにしました
- 大きなツール出力を切り詰める代わりにディスクに保存するよう変更し、ファイル参照を介して完全な出力にアクセスできるようにしました
- `/plugins`のインストール済みタブを変更し、プラグインとMCPをスコープベースのグループ化で統合
- Windows管理設定パス`C:\ProgramData\ClaudeCode\managed-settings.json`を非推奨化 - 管理者は`C:\Program Files\ClaudeCode\managed-settings.json`に移行してください
- [SDK] zodピア依存関係の最小バージョンを^4.0.0に変更
- [VSCode] 手動コンパクト後に使用状況表示が更新されていなかった問題を修正

## 2.1.0

- スキルの自動ホットリロードを追加 - `~/.claude/skills`または`.claude/skills`で作成または変更されたスキルがセッションを再起動せずにすぐに利用可能になります
- スキルフロントマターで`context: fork`を使用してフォークされたサブエージェントコンテキストでスキルとスラッシュコマンドを実行できるようサポートを追加
- 実行用のエージェントタイプを指定するスキルの`agent`フィールドのサポートを追加
- Claudeの応答言語を設定する`language`設定を追加（例：language: "japanese"）
- Shift+Enterをターミナル設定を変更せずにiTerm2、WezTerm、Ghostty、Kittyですぐに使えるよう変更
- プロジェクトごとに@メンションファイルピッカーの動作を制御する`settings.json`の`respectGitignore`サポートを追加
- ストリーミングやセッション録画に便利な、UIからメールと組織を非表示にする`IS_DEMO`環境変数を追加
- デバッグログで機密データ（OAuthトークン、APIキー、パスワード）が公開される可能性があったセキュリティ問題を修正
- `-c`または`--resume`でセッションを再開した際にファイルとスキルが適切に検出されていなかった問題を修正
- 上矢印またはCtrl+R検索で履歴からプロンプトを再生した際にペーストされたコンテンツが失われていた問題を修正
- キューに入れられたプロンプトがある状態でEscキーを押した際に、実行中のタスクをキャンセルせずに入力に移動するだけになるよう修正
- 複雑なbashコマンドの許可プロンプトを削減
- コマンド検索を改善し、説明のファジーマッチよりもコマンド名の完全一致と前方一致を優先するようにしました
- PreToolUseフックを修正し、`ask`許可決定を返す際に`updatedInput`を許可し、フックがユーザーの同意を要求しながらミドルウェアとして機能できるようにしました
- ファイルベースのマーケットプレイスソースのプラグインパス解決を修正
- LSPサーバーが設定されていない場合にLSPツールが誤って有効化されていた問題を修正
- 名前にドットを含むリポジトリで「gitリポジトリが見つかりません」エラーでバックグラウンドタスクが失敗していた問題を修正
- WSL環境でのClaude in Chromeサポートを修正
- 実行可能ファイルの作成に失敗した際にWindowsネイティブインストーラーが静かに失敗していた問題を修正
- CLIヘルプ出力を改善し、ナビゲーションを容易にするためにオプションとサブコマンドをアルファベット順に表示するようにしました
- Bashツール許可のワイルドカードパターンマッチングを追加し、ルール内の任意の位置で`*`を使用できるようにしました（例：`Bash(npm *)`、`Bash(* install)`、`Bash(git * main)`）
- bashコマンドとエージェントの両方に統一されたCtrl+Bバックグラウンド化を追加 - Ctrl+Bを押すと、実行中のすべてのフォアグラウンドタスクが同時にバックグラウンド化されます
- MCP `list_changed`通知のサポートを追加し、MCPサーバーが再接続を必要とせずに利用可能なツール、プロンプト、リソースを動的に更新できるようにしました
- claude.aiサブスクライバー向けに`/teleport`と`/remote-env`スラッシュコマンドを追加し、リモートセッションの再開と設定を可能にしました
- settings.json許可または`--disallowedTools` CLIフラグで`Task(AgentName)`構文を使用して特定のエージェントを無効にできるようサポートを追加
- エージェントフロントマターへのフックサポートを追加し、エージェントがエージェントのライフサイクルにスコープされたPreToolUse、PostToolUse、Stopフックを定義できるようにしました
- スキルとスラッシュコマンドのフロントマターへのフックサポートを追加
- 新しいVimモーションを追加：f/F/t/Tモーションを繰り返す`;`と`,`、`yy`/`Y`でのヤンク用`y`演算子、ペースト用`p`/`P`、テキストオブジェクト（`iw`、`aw`、`iW`、`aW`、`i"`、`a"`、`i'`、`a'`、`i(`、`a(`、`i[`、`a[`、`i{`、`a{`）、インデント/アンインデント用`>>`と`<<`、行結合用`J`
- プロンプトから直接プランモードを有効にする`/plan`コマンドショートカットを追加
- 入力の先頭だけでなく、`/`が入力のどこにでも表示された際にスラッシュコマンドのオートコンプリートサポートを追加
- インタラクティブセッション中にClaudeが使用できる組み込みツールを制限するため、インタラクティブモードでの`--tools`フラグサポートを追加
- デフォルトのファイル読み取りトークン制限をオーバーライドする`CLAUDE_CODE_FILE_READ_MAX_OUTPUT_TOKENS`環境変数を追加
- フックの`once: true`設定のサポートを追加
- フロントマター`allowed-tools`フィールドでのYAMLスタイルリストのサポートを追加し、よりクリーンなスキル宣言を実現
- プラグインからのプロンプトとエージェントフックタイプのサポートを追加（以前はコマンドフックのみサポート）
- iTerm2での画像ペースト用Cmd+Vサポートを追加（Ctrl+Vにマップ）
- ダイアログでタブを切り替えるための左/右矢印キーナビゲーションを追加
- Ctrl+Oトランスクリプトモードでのリアルタイム思考ブロック表示を追加
- バックグラウンドbashタスク詳細ダイアログに完全な出力へのファイルパスを追加
- コンテキスト可視化にスキルを別カテゴリとして追加
- サーバーがトークンの有効期限切れを報告したがローカルの有効期限チェックが異なる場合にOAuthトークン更新がトリガーされていなかった問題を修正
- 一時的なサーバーエラー後にセッション永続化がスタックしていた問題を修正し、エントリが実際に保存された際の409競合から回復するようにしました
- 並行ツール実行中の孤立したツール結果によるセッション再開の失敗を修正
- 並行トークン更新試行中に古いOAuthトークンがキーチェーンキャッシュから読み取られる可能性があった競合状態を修正
- AWS Bedrockサブエージェントが親のEU/APACクロスリージョン推論モデル設定を継承せず、IAM許可が特定のリージョンにスコープされている場合に403エラーが発生していた問題を修正
- バックグラウンドタスクが大きな出力を生成した際のAPIコンテキストオーバーフローを修正し、ファイルパス参照付きで30K文字に切り詰めるようにしました
- 特殊ファイルタイプのシンボリックリンク解決をスキップすることで、FIFOファイルを読み取る際のハングを修正
- Ghostty、iTerm2、Kitty、WezTermで終了時にターミナルキーボードモードがリセットされていなかった問題を修正
- iTerm2、Ghostty、Kitty、WezTermでAlt+BとAlt+F（単語ナビゲーション）が機能していなかった問題を修正
- プラグイン`allowed-tools`フロントマターで`${CLAUDE_PLUGIN_ROOT}`が置換されず、ツールが誤って承認を要求していた問題を修正
- Writeツールで作成されたファイルがシステムumaskを尊重せずにハードコードされた0o600許可を使用していた問題を修正
- `$()`コマンド置換を含むコマンドが解析エラーで失敗していた問題を修正
- バックスラッシュ継続を含む複数行bashコマンドが誤って分割され、許可のためにフラグ付けされていた問題を修正
- グローバルオプション後のサブコマンドを正しく識別するようbashコマンドプレフィックス抽出を修正（例：`git -C /path log`が`Bash(git log:*)`ルールに正しくマッチするようになりました）
- CLI引数として渡されたスラッシュコマンド（例：`claude /context`）が適切に実行されていなかった問題を修正
- スラッシュコマンドをTab補完した後にEnterを押すと、補完されたコマンドを送信する代わりに別のコマンドが選択されていた問題を修正
- 引数を持つコマンドを入力した際にスラッシュコマンドの引数ヒントがちらつき、表示が一貫していなかった問題を修正
- スラッシュコマンドを直接実行した際にClaudeがSkillツールを冗長に呼び出すことがあった問題を修正
- `/context`のスキルトークン推定を修正し、フロントマターのみのロードを正確に反映するようにしました
- サブエージェントがデフォルトで親のモデルを継承しないことがあった問題を修正
- `--model haiku`を使用しているBedrock/Vertexユーザーに対してモデルピッカーが誤った選択を表示していた問題を修正
- 許可リクエストオプションラベルに重複したBashコマンドが表示されていた問題を修正
- バックグラウンドタスク完了時のノイズの多い出力を修正 - 生の出力の代わりにクリーンな完了メッセージを表示するようにしました
- バックグラウンドタスク完了通知を箇条書きで積極的に表示するようにしました
- フォークされたスラッシュコマンドがキャンセルされた際に「AbortError」の代わりに「Interrupted」メッセージを表示するよう修正
- 許可ダイアログを閉じた後にカーソルが消えていた問題を修正
- 別のオプションにスクロールした際に`/hooks`メニューが誤ったフックタイプを選択していた問題を修正
- Escを押してキャンセルした際にキューに入れられたプロンプトの画像が「[object Object]」として表示されていた問題を修正
- タスクをバックグラウンド化しながらメッセージをキューに入れた際に画像が静かにドロップされていた問題を修正
- ペーストされた大きな画像が「画像が大きすぎます」エラーで失敗していた問題を修正
- CJK文字（日本語、中国語、韓国語）を含む複数行プロンプトで余分な空白行が発生していた問題を修正
- ユーザープロンプトテキストが複数行に折り返された際にultrathinkキーワードハイライトが誤った文字に適用されていた問題を修正
- ストリーミング中に思考ブロックが表示された際に、折りたたまれた「Reading X files…」インジケーターが誤って過去形に切り替わっていた問題を修正
- Bash読み取りコマンド（`ls`や`cat`など）が折りたたまれた読み取り/検索グループでカウントされず、グループが誤って「Read 0 files」と表示されていた問題を修正
- 実行中にサブエージェントからのトークンを適切に累積するようスピナートークンカウンターを修正
- git diff解析のメモリリークを修正し、スライスされた文字列が大きな親文字列を保持していました
- 起動中にLSPツールが「利用可能なサーバーがありません」を返す可能性があった競合状態を修正
- ネットワークリクエストがタイムアウトした際にフィードバック送信が無期限にハングしていた問題を修正
- プラグイン検出とログセレクタービューで検索モード中に上矢印を押すと終了していた問題を修正
- フックに出力がない場合にフック成功メッセージに末尾のコロンが表示されていた問題を修正
- 起動パフォーマンスを向上させる複数の最適化
- ネイティブインストーラーまたはBunを使用した際のターミナルレンダリングパフォーマンスを改善、特に絵文字、ANSIコード、Unicode文字を含むテキストで顕著
- 多数のセルを持つJupyterノートブックを読み取る際のパフォーマンスを改善
- `cat refactor.md | claude`のようなパイプ入力の信頼性を改善
- AskQuestionツールの信頼性を改善
- sedのインプレース編集コマンドをdiffプレビュー付きのファイル編集としてレンダリングするよう改善
- 出力トークン制限により応答が途切れた際に、エラーメッセージを表示する代わりにClaudeが自動的に続行するよう改善
- コンパクションの信頼性を改善
- 許可拒否後もサブエージェント（Taskツール）が動作を続け、代替アプローチを試せるよう改善
- スキルを改善し、実行中に進行状況を表示し、発生したツール使用を表示するようにしました
- `/skills/`ディレクトリからのスキルをデフォルトでスラッシュコマンドメニューに表示するよう改善（フロントマターで`user-invocable: false`でオプトアウト可能）
- 最近および頻繁に使用されたスキルを優先するようスキル候補を改善
- 最初の応答トークンを待っている間のスピナーフィードバックを改善
- バックグラウンドエージェントからのトークンを含むようスピナーのトークン数表示を改善
- メインスレッドにより多くの制御と可視性を与えるため、非同期エージェントの増分出力を改善
- 許可プロンプトのUXを改善し、Tabヒントをフッターに移動し、コンテキストに応じたプレースホルダー付きのよりクリーンなYes/No入力ラベルを実装
- Claude in Chrome通知を改善し、ヘルプテキストを短縮し、閉じるまで永続的に表示するようにしました
- TIFFフォーマットサポートによりmacOSスクリーンショットペーストの信頼性を改善
- `/stats`出力を改善
- Atlassian MCP統合を更新し、より信頼性の高いデフォルト設定（ストリーム可能なHTTP）を使用するようにしました
- 「Interrupted」メッセージの色を赤から灰色に変更し、警告的でない外観にしました
- プランモード入力時の許可プロンプトを削除 - ユーザーは承認なしでプランモードに入れるようになりました
- 画像参照リンクから下線スタイリングを削除
- [SDK] zodピア依存関係の最小バージョンを^4.0.0に変更
- [VSCode] コンテキストメニューに現在選択されているモデル名を追加
- [VSCode] 自動承認許可ボタンに説明的なラベルを追加（例：「はい、このプロジェクトでnpmを許可します」の代わりに「はい、今後は確認しません」）
- [VSCode] マークダウンコンテンツで段落区切りがレンダリングされていなかった問題を修正
- [VSCode] 拡張機能でのスクロールが誤って親iframeをスクロールしていた問題を修正
- [Windows] 不適切なレンダリングの問題を修正

## 2.0.76

- Claude in Chrome統合使用時のmacOSコード署名警告の問題を修正

## 2.0.75

- 軽微なバグ修正

## 2.0.74

- コード定義へのジャンプ、参照の検索、ホバードキュメントなどのコードインテリジェンス機能のためのLSP（Language Server Protocol）ツールを追加
- Kitty、Alacritty、Zed、Warpターミナルの`/terminal-setup`サポートを追加
- `/theme`でシンタックスハイライトのオン/オフを切り替えるctrl+tショートカットを追加
- テーマピッカーにシンタックスハイライト情報を追加
- ターミナル設定によりAltショートカットが失敗した場合のmacOSユーザー向けガイダンスを追加
- スキル`allowed-tools`がスキルによって呼び出されたツールに適用されていなかった問題を修正
- ユーザーがすでにOpusを使用している場合にOpus 4.5のヒントが誤って表示されていた問題を修正
- シンタックスハイライトが正しく初期化されていない場合の潜在的なクラッシュを修正
- `/plugins discover`で検索ボックスにフォーカスがある間にリスト選択インジケーターが表示されていた視覚的なバグを修正
- macOSキーボードショートカットを'alt'の代わりに'opt'と表示するよう修正
- `/context`コマンドの可視化を改善し、ソース別にグループ化されたスキルとエージェント、スラッシュコマンド、ソートされたトークン数を表示
- [Windows] 不適切なレンダリングの問題を修正
- [VSCode] 年末プロモーションメッセージ用のギフトタグピクトグラムを追加

## 2.0.73

- 添付された画像をデフォルトビューアで開くクリック可能な`[Image #N]`リンクを追加
- ctrl-yヤンク後にキルリング履歴を循環するalt-yヤンクポップを追加
- プラグイン検出画面に検索フィルタリングを追加（名前、説明、マーケットプレイスで絞り込み可能）
- `--session-id`を`--resume`または`--continue`と`--fork-session`と組み合わせてセッションをフォークする際のカスタムセッションIDサポートを追加
- 入力履歴の循環が遅く、メッセージ送信後にテキストが上書きされる可能性があった競合状態を修正
- `/theme`コマンドを改善し、テーマピッカーを直接開くようにしました
- テーマピッカーのUIを改善
- 統一されたSearchBoxコンポーネントにより、セッション再開、許可、プラグイン画面全体で検索UXを改善
- [VSCode] 保留中の許可（青）と未読の完了（オレンジ）を示すタブアイコンバッジを追加

## 2.0.72

- Chrome拡張機能（https://claude.ai/chrome）と連携してClaude Codeから直接ブラウザを制御できるClaude in Chrome（ベータ版）機能を追加
- ターミナルのちらつきを軽減
- モバイルアプリの迅速なダウンロードのためにモバイルアプリのヒントにスキャン可能なQRコードを追加
- 会話を再開する際により良いフィードバックのためにローディングインジケーターを追加
- 非インタラクティブモードで`/context`コマンドがカスタムシステムプロンプトを尊重していなかった問題を修正
- Ctrl+Yでペーストする際の連続したCtrl+K行の順序を修正
- @メンションファイル候補の速度を改善（gitリポジトリで約3倍高速化）
- `.ignore`または`.rgignore`ファイルを持つリポジトリでのファイル候補パフォーマンスを改善
- 設定検証エラーをより目立つように改善
- 誤ったトリガーを避けるため、思考トグルをTabからAlt+Tに変更

## 2.0.71

- プロンプト候補を有効/無効にする/configトグルを追加
- `/config`コマンドのエイリアスとして`/settings`を追加
- カーソルがパスの途中にある場合に@ファイル参照候補が誤ってトリガーされていた問題を修正
- `--dangerously-skip-permissions`使用時に`.mcp.json`からのMCPサーバーがロードされていなかった問題を修正
- シェルグロブパターンを含む有効なbashコマンド（例：`ls *.txt`、`for f in *.png`）を許可ルールが誤って拒否していた問題を修正
- Bedrock: トークンカウントと推論プロファイルリスト用に環境変数`ANTHROPIC_BEDROCK_BASE_URL`が尊重されるようになりました
- ネイティブビルド用の新しいシンタックスハイライトエンジン

## 2.0.70

- プロンプト候補をすぐに受け入れて送信するEnterキーを追加（タブは編集のために受け入れます）
- MCPツール許可のワイルドカード構文`mcp__server__*`を追加し、サーバーからのすべてのツールを許可または拒否できるようにしました
- プラグインマーケットプレイスの自動更新トグルを追加し、マーケットプレイスごとに自動更新を制御できるようにしました
- 正確なコンテキストウィンドウパーセンテージ計算を可能にするため、ステータスライン入力に`current_usage`フィールドを追加
- ユーザーが入力中にキューに入れられたコマンドを処理した際に入力がクリアされていた問題を修正
- Tabを押した際にプロンプト候補が入力したテキストを置き換えていた問題を修正
- ターミナルがリサイズされた際にdiffビューが更新されていなかった問題を修正
- 大きな会話のメモリ使用量を3倍改善
- クリップボードにコピーされた統計スクリーンショット（Ctrl+S）の解像度を改善し、より鮮明な画像を実現
- クイックメモリエントリ用の#ショートカットを削除（代わりにClaudeにCLAUDE.mdを編集するよう指示してください）
- /configの思考モードトグルが正しく保持されていなかった問題を修正
- ファイル作成許可ダイアログのUIを改善

## 2.0.69

- 軽微なバグ修正

## 2.0.68

- 中国語、日本語、韓国語などの言語のIME（Input Method Editor）サポートを修正し、カーソル位置に変換ウィンドウを正しく配置するようにしました
- 許可されていないMCPツールがモデルに表示されていたバグを修正
- サブエージェントが動作している間にステアリングメッセージが失われる可能性があった問題を修正
- Option+Arrow単語ナビゲーションがCJK（中国語、日本語、韓国語）テキストシーケンス全体を単一の単語として扱い、単語境界でナビゲートしていなかった問題を修正
- プランモード終了UXを改善：プランが空または欠落している状態で終了した際に、エラーをスローする代わりに簡素化されたyes/noダイアログを表示するようにしました
- エンタープライズ管理設定のサポートを追加。この機能を有効にするには、Anthropicアカウントチームにお問い合わせください。

## 2.0.67

- Opus 4.5で思考モードがデフォルトで有効になりました
- 思考モードの設定が/configに移動しました
- `/permissions`コマンドに検索機能を追加し、`/`キーボードショートカットでツール名によるルールのフィルタリングが可能になりました
- `/doctor`で自動アップデーターが無効になっている理由を表示
- 別のインスタンスがすでに最新バージョンになっている間に`claude update`を実行した際の誤った「別のプロセスが現在Claudeを更新しています」エラーを修正
- 非インタラクティブモード（`-p`フラグまたはパイプ入力）で実行した際に`.mcp.json`からのMCPサーバーが保留状態でスタックしていた問題を修正
- `/permissions`で許可ルールを削除した後にスクロール位置がリセットされていた問題を修正
- キリル文字、ギリシャ文字、アラビア文字、ヘブライ文字、タイ文字、中国語などの非ラテン文字で単語削除（opt+delete）と単語ナビゲーション（opt+arrow）が正しく機能していなかった問題を修正
- `claude install --force`が古いロックファイルをバイパスしていなかった問題を修正
- CLAUDE.mdでの連続した@~/ファイル参照がマークダウンの取り消し線の干渉により誤って解析されていた問題を修正
- Windows: ログディレクトリパスのコロンによりプラグインMCPサーバーが失敗していた問題を修正

## 2.0.65

- プロンプトを書いている間にalt+p（linux、windows）、option+p（macos）を使用してモデルを切り替える機能を追加
- ステータスライン入力にコンテキストウィンドウ情報を追加
- カスタム`@`ファイル検索コマンド用の`fileSuggestion`設定を追加
- 自動シェル検出をオーバーライドする`CLAUDE_CODE_SHELL`環境変数を追加（ログインシェルが実際の作業シェルと異なる場合に便利）
- Escapeでクエリを中止した際にプロンプトが履歴に保存されていなかった問題を修正
- Readツールの画像処理を修正し、ファイル拡張子ではなくバイトからフォーマットを識別するようにしました

## 2.0.64

- 自動コンパクトを即座に実行するようにしました
- エージェントとbashコマンドが非同期で実行でき、メインエージェントを起動するメッセージを送信できるようになりました
- /statsがお気に入りのモデル、使用状況グラフ、使用状況ストリークなど、興味深いCC統計をユーザーに提供するようになりました
- 名前付きセッションサポートを追加：`/rename`でセッションに名前を付け、REPLで`/resume <name>`またはターミナルから`claude --resume <name>`で再開できます
- `.claude/rules/`のサポートを追加。詳細はhttps://code.claude.com/docs/en/memoryを参照してください
- 画像がリサイズされた際に画像寸法メタデータを追加し、大きな画像の正確な座標マッピングを可能にしました
- ネイティブインストーラー使用時の.envの自動ロードを修正
- `--continue`または`--resume`フラグ使用時に`--system-prompt`が無視されていた問題を修正
- `/resume`画面を改善し、フォークされたセッションをグループ化し、プレビュー（P）とリネーム（R）のキーボードショートカットを追加
- VSCode: コードブロックとbashツール入力にクリップボードへのコピーボタンを追加
- VSCode: エミュレーションを介してx64バイナリにフォールバックすることで、Windows ARM64で拡張機能が動作していなかった問題を修正
- Bedrock: トークンカウントの効率を改善
- Bedrock: `aws login` AWS Management Consoleクレデンシャルのサポートを追加
- 新しい統一されたTaskOutputToolを優先し、AgentOutputToolとBashOutputToolを未出荷にしました

## 2.0.62

- 複数選択質問に「（推奨）」インジケーターを追加し、推奨オプションをリストの先頭に移動
- コミットとPRの署名をカスタマイズする`attribution`設定を追加（`includeCoAuthoredBy`を非推奨化）
- ~/.claudeがプロジェクトディレクトリにシンボリックリンクされている場合に重複したスラッシュコマンドが表示されていた問題を修正
- 複数のコマンドが同じ名前を共有している場合にスラッシュコマンドの選択が機能していなかった問題を修正
- シンボリックリンクされたスキルディレクトリ内のスキルファイルが循環シンボリックリンクになる可能性があった問題を修正
- ロックファイルが誤って古くなったために実行中のバージョンが削除されていた問題を修正
- IDEのdiffタブが変更を拒否した際に閉じていなかった問題を修正

## 2.0.61

- 応答性の問題により、複数のターミナルクライアントのVSCodeサポートを元に戻しました。

## 2.0.60

- バックグラウンドエージェントサポートを追加。エージェントは作業中にバックグラウンドで実行されます
- すべてのスラッシュコマンドを無効にする--disable-slash-commands CLIフラグを追加
- 「Co-Authored-By」コミットメッセージにモデル名を追加
- 事前承認されたウェブサイトの要約をスキップするようFetchを更新
- VSCode: IDEサーバーに同時に接続する複数のターミナルクライアントのサポートを追加

## 2.0.59

- 現在のセッションのエージェント設定をオーバーライドする--agent CLIフラグを追加
- 特定のエージェントのシステムプロンプト、ツール制限、モデルでメインスレッドを設定する`agent`設定を追加
- VS Code: .claude.json設定ファイルが誤った場所から読み取られていた問題を修正

## 2.0.58

- Proユーザーはサブスクリプションの一部としてOpus 4.5にアクセスできるようになりました!
- タイマー時間が「12m 0s」ではなく「11m 60s」と表示されていた問題を修正
- Windows: 管理設定が存在する場合は`C:\Program Files\ClaudeCode`を優先するようになりました。`C:\ProgramData\ClaudeCode`のサポートは将来のバージョンで削除されます。

## 2.0.57

- プランを拒否する際にフィードバック入力を追加し、ユーザーが何を変更すべきかClaudeに伝えられるようにしました
- VSCode: リアルタイム応答表示のためのストリーミングメッセージサポートを追加

## 2.0.56

- ターミナルプログレスバー（OSC 9;4）を有効/無効にする設定を追加
- VSCode Extension: VS Codeのセカンダリサイドバー（VS Code 1.97+）のサポートを追加し、ファイルエクスプローラーを左側に保ちながらClaude Codeを右側のサイドバーに表示できるようにしました。設定でサイドバーを優先場所として設定する必要があります。

## 2.0.55

- プロキシDNS解決がデフォルトで強制的にオンになっていた問題を修正。現在は`CLAUDE_CODE_PROXY_RESOLVES_HOSTS=true`環境変数によるオプトインです
- メモリ場所セレクターで矢印キーを押し続けた際にキーボードナビゲーションが応答しなくなっていた問題を修正
- AskUserQuestionツールを改善し、最後の質問で単一選択質問を自動送信し、シンプルな質問フローの余分なレビュー画面を排除しました
- より高速で正確な結果により、`@`ファイル候補のファジーマッチングを改善

## 2.0.54

- フック: PermissionRequestフックが「常に許可」提案を処理し、許可更新を適用できるようにしました
- 過剰なiTerm通知の問題を修正

## 2.0.52

- コマンドライン引数でClaudeを起動した際の重複メッセージ表示を修正
- `/usage`コマンドのプログレスバーを修正し、使用量が増加するにつれて埋まるようにしました（残りのパーセンテージを表示する代わりに）
- Waylandを実行しているLinuxシステムで画像ペーストが機能していなかった問題を修正（xclipが利用できない場合にwl-pasteにフォールバック）
- bashコマンドでの`$!`の一部の使用を許可

## 2.0.51

- Opus 4.5を追加! https://www.anthropic.com/news/claude-opus-4-5
- Claude Code for Desktopの紹介: https://claude.com/download
- 新しいモデルを試すスペースを提供するため、Claude Codeユーザーの使用制限を更新しました。詳細はClaude Opus 4.5ブログを参照してください
- ProユーザーはClaude CodeでOpus 4.5にアクセスするための追加使用量を購入できるようになりました
- プランモードがより正確なプランを構築し、より徹底的に実行するようになりました
- 使用制限通知がより理解しやすくなりました
- `/usage`を「使用率%」に戻しました
- 思考エラーの処理を修正
- パフォーマンス低下を修正

## 2.0.50

- 入力スキーマにネストされた参照を持つMCPツールの呼び出しを妨げていたバグを修正
- アップグレード中のノイズの多いが無害なエラーを抑制
- ultrathinkテキスト表示を改善
- 5時間セッション制限警告メッセージの明確性を改善

## 2.0.49

- 削除されたテキストをペーストするreadlineスタイルのctrl-yを追加
- 使用制限警告メッセージの明確性を改善
- サブエージェント許可の処理を修正

## 2.0.47

- `claude --teleport`のエラーメッセージと検証を改善
- `/usage`のエラー処理を改善
- 終了時に履歴エントリがログに記録されない競合状態を修正
- Vertex AI設定が`settings.json`から適用されていなかった問題を修正

## 2.0.46

- メタデータからフォーマットを検出できない場合に画像ファイルが誤ったメディアタイプで報告されていた問題を修正

## 2.0.45

- Microsoft Foundryのサポートを追加! https://code.claude.com/docs/en/azure-ai-foundryを参照してください
- カスタムロジックでツール許可リクエストを自動的に承認または拒否する`PermissionRequest`フックを追加
- メッセージを`&`で開始することで、バックグラウンドタスクをWeb上のClaude Codeに送信

## 2.0.43

- カスタムエージェント用の`permissionMode`フィールドを追加
- `PreToolUseHookInput`と`PostToolUseHookInput`タイプに`tool_use_id`フィールドを追加
- サブエージェント用に自動ロードするスキルを宣言するスキルフロントマターフィールドを追加
- `SubagentStart`フックイベントを追加
- @メンションファイル時にネストされた`CLAUDE.md`ファイルがロードされていなかった問題を修正
- UIでの一部のメッセージの重複レンダリングを修正
- 一部の視覚的なちらつきを修正
- NotebookEditツールがセルIDが`cell-N`パターンにマッチした際に誤った位置にセルを挿入していた問題を修正

## 2.0.42

- `SubagentStop`フックに`agent_id`と`agent_transcript_path`フィールドを追加。

## 2.0.41

- プロンプトベースのstopフックに`model`パラメータを追加し、ユーザーがフック評価用のカスタムモデルを指定できるようにしました
- ユーザー設定からのスラッシュコマンドが2回ロードされ、レンダリングの問題を引き起こす可能性があった問題を修正
- コマンド説明でのユーザー設定とプロジェクト設定の誤ったラベリングを修正
- プラグインコマンドフックが実行中にタイムアウトした際のクラッシュを修正
- Bedrockユーザーが`--model haiku`使用時に/modelピッカーで重複したOpusエントリを表示していた問題を修正
- 信頼ダイアログとオンボーディングでの壊れたセキュリティドキュメントリンクを修正
- diffモーダルを閉じるためにESCを押すとモデルも中断していた問題を修正
- スラッシュコマンドでctrl-r履歴検索が着地しても検索がキャンセルされなくなりました
- SDK: フックのカスタムタイムアウトをサポート
- より多くの安全なgitコマンドを承認なしで実行できるようにしました
- プラグイン: 出力スタイルの共有とインストールのサポートを追加
- Webからセッションをテレポートすると、自動的にアップストリームブランチが設定されます

## 2.0.37

- 通知のアイドル状態の計算方法を修正
- フック: Notificationフックイベントのマッチャー値を追加
- 出力スタイル: フロントマターに`keep-coding-instructions`オプションを追加

## 2.0.36

- DISABLE_AUTOUPDATE環境変数がパッケージマネージャーの更新通知を適切に無効にするようになりました
- キューに入れられたメッセージが誤ってbashコマンドとして実行されていた問題を修正
- キューに入れられたメッセージが処理されている間に入力していると入力が失われていた問題を修正

## 2.0.35

- コマンド検索時のファジー検索結果を改善
- VS Code拡張機能を改善し、UI全体で`chat.fontSize`と`chat.fontFamily`設定を尊重し、リロードせずにフォント変更を即座に適用するようにしました
- 自動化されたワークフローとスクリプトに便利な、指定されたアイドル時間後にSDKモードを自動的に終了する`CLAUDE_CODE_EXIT_AFTER_STOP_DELAY`環境変数を追加
- `ignorePatterns`をプロジェクト設定からlocalSettingsの拒否許可に移行しました。
- 空文字列やその他のfalsy値を持つアイテムでメニューナビゲーションがスタックしていた問題を修正（例：`/hooks`メニュー）

## 2.0.34

- VSCode Extension: 新しい会話の初期許可モードを設定する設定を追加
- ネイティブRustベースのファジーファインダーによりファイルパス候補のパフォーマンスを改善
- OAuth（Slackなど）を使用するMCPサーバーが接続中にハングする原因となっていた無限トークン更新ループを修正
- 大きなファイル（特にbase64エンコードされた画像）の読み取りまたは書き込み時のメモリクラッシュを修正

## 2.0.33

- ネイティブバイナリインストールの起動が速くなりました。
- シンボリックリンクを適切に解決することで、`claude doctor`がHomebrewとnpm-globalインストールを誤って検出していた問題を修正
- `claude mcp serve`が互換性のないoutputSchemasを持つツールを公開していた問題を修正

## 2.0.32

- コミュニティのフィードバックに基づき、出力スタイルの非推奨を取り消しました
- 起動時にアナウンスを表示する`companyAnnouncements`設定を追加
- PostToolUseフック実行中にフック進行状況メッセージが正しく更新されていなかった問題を修正

## 2.0.31

---

*最新50バージョンのみ表示*