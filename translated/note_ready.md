# Changelog

## 2.1.4

- バックグラウンドタスクの自動実行とCtrl+Bショートカットを含む、すべてのバックグラウンドタスク機能を無効にする`CLAUDE_CODE_DISABLE_BACKGROUND_TASKS`環境変数を追加
- 古いOAuthトークンによる失敗時にOAuthを更新して再試行するよう、「Claudeの改善にご協力ください」設定の取得を修正

## 2.1.3

- スラッシュコマンドとスキルを統合し、動作に変更はなく、メンタルモデルを簡素化
- `/config`にリリースチャンネル（`stable`または`latest`）の切り替えを追加
- 到達不可能な権限ルールの検出と警告を追加。`/doctor`での警告と、各ルールのソースと実用的な修正ガイダンスを含むルール保存後の警告を表示
- `/clear`コマンド実行後もプランファイルが残存する問題を修正。会話をクリアした後は新しいプランファイルが使用されるよう保証
- 大きなinodeを持つファイルシステム（ExFATなど）でのスキル重複検出の誤判定を修正。inode値に64ビット精度を使用
- ステータスバーのバックグラウンドタスク数とタスクダイアログに表示される項目数の不一致を修正
- 会話圧縮時にサブエージェントが間違ったモデルを使用する問題を修正
- サブエージェントでのWeb検索が間違ったモデルを使用する問題を修正
- ホームディレクトリから実行時の信頼ダイアログ受諾が、セッション中のフックなどの信頼を要求する機能を有効にしない問題を修正
- 制御されていない書き込みがカーソル状態を破損することを防ぎ、ターミナルレンダリングの安定性を向上
- 長い説明を2行に切り詰めることで、スラッシュコマンド提案の可読性を向上
- ツールフック実行のタイムアウトを60秒から10分に変更
- [VSCode] 権限リクエスト用のクリック可能な保存先セレクターを追加。設定の保存場所（このプロジェクト、すべてのプロジェクト、チームと共有、セッションのみ）を選択可能

## 2.1.2

- ターミナルにドラッグされた画像にソースパスメタデータを追加し、Claudeが画像の出所を理解できるよう支援
- OSC 8をサポートするターミナル（iTerm等）でのツール出力内のファイルパス用クリック可能なハイパーリンクを追加
- 自動検出とアップデート手順付きのWindows Package Manager（winget）インストールサポートを追加
- プランモードでShift+Tabキーボードショートカットを追加し、「編集を自動承認」オプションを素早く選択可能
- メインの自動アップデーターが無効でもプラグインの自動更新を許可する`FORCE_AUTOUPDATE_PLUGINS`環境変数を追加
- `--agent`が指定された場合にSessionStartフック入力に`agent_type`を追加
- 不正な入力が任意のコマンドを実行する可能性があるbashコマンド処理のコマンドインジェクション脆弱性を修正
- tree-sitter解析ツリーが解放されず、長時間のセッションでWASMメモリが無制限に増加するメモリリークを修正
- CLAUDE.mdファイルで`@include`ディレクティブを使用時にバイナリファイル（画像、PDFなど）が誤ってメモリに含まれる問題を修正
- 別のインストールが進行中と誤って主張するアップデートを修正
- 監視ディレクトリにソケットファイルが存在する場合のクラッシュを修正（EOPNOTSUPP エラーの多重防御）
- `/tasks`コマンド使用時にリモートセッションURLとテレポートが機能しない問題を修正
- ユーザー固有のサーバー設定をサニタイズすることで、MCPツール名が分析イベントで露出する問題を修正
- iTerm2、Kitty、WezTermなどのネイティブCSIuターミナル用のターミナル固有の手順を表示するよう、macOSでのOption-as-Metaヒントを改善
- SSH経由で画像を貼り付ける際のエラーメッセージを改善し、役に立たないクリップボードショートカットヒントの代わりに`scp`の使用を提案
- 通常の開発ワークフロー（git fetch/rebase、npm install、テスト、PR）を中リスクとしてフラグしないよう権限説明を改善
- 大きなbashコマンド出力を切り詰める代わりにディスクに保存し、Claudeが完全な内容を読み取れるよう変更
- 大きなツール出力を切り詰める代わりに永続化し、ファイル参照を通じて完全な出力アクセスを提供するよう変更
- `/plugins`のインストール済みタブを変更し、スコープベースのグループ化でプラグインとMCPを統合
- 非推奨のWindows管理設定パス`C:\ProgramData\ClaudeCode\managed-settings.json` - 管理者は`C:\Program Files\ClaudeCode\managed-settings.json`に移行すべき
- [SDK] zodピア依存関係の最小バージョンを^4.0.0に変更
- [VSCode] 手動圧縮後に使用量表示が更新されない問題を修正

## 2.1.0

- 自動スキルホットリロードを追加 - `~/.claude/skills`または`.claude/skills`で作成・変更されたスキルがセッション再起動なしで即座に利用可能
- スキルフロントマターで`context: fork`を使用してフォークされたサブエージェントコンテキストでスキルとスラッシュコマンドを実行するサポートを追加
- 実行用のエージェントタイプを指定するスキルの`agent`フィールドサポートを追加
- Claudeの応答言語を設定する`language`設定を追加（例：language: "japanese"）
- iTerm2、WezTerm、Ghostty、Kittyでターミナル設定を変更せずにShift+Enterが標準で動作するよう変更
- @メンション ファイルピッカーの動作をプロジェクトごとに制御する`settings.json`での`respectGitignore`サポートを追加
- ストリーミングや録画セッションに便利な、UIからメールと組織を隠す`IS_DEMO`環境変数を追加
- デバッグログで機密データ（OAuthトークン、APIキー、パスワード）が露出する可能性があるセキュリティ問題を修正
- `-c`や`--resume`でセッションを再開時にファイルとスキルが適切に発見されない問題を修正
- 上矢印やCtrl+R検索で履歴からプロンプトを再生時に貼り付けた内容が失われる問題を修正
- キューに入ったプロンプトがあるときのEscキーで、実行中のタスクをキャンセルせずに入力に移動するだけになるよう修正
- 複雑なbashコマンドの権限プロンプトを削減
- コマンド検索で、説明内のファジーマッチよりもコマンド名の完全一致と前方一致を優先するよう修正
- PreToolUseフックで`ask`権限決定を返す際に`updatedInput`を許可し、フックがユーザーの同意を求めながらミドルウェアとして機能できるよう修正
- ファイルベースのマーケットプレイスソース用のプラグインパス解決を修正
- LSPサーバーが設定されていない場合にLSPツールが誤って有効になる問題を修正
- 名前にドットを含むリポジトリで「git repository not found」エラーでバックグラウンドタスクが失敗する問題を修正
- WSL環境でのClaude in Chromeサポートを修正
- 実行可能ファイル作成が失敗した場合にWindows ネイティブインストーラーが静かに失敗する問題を修正
- ナビゲーションを容易にするため、CLIヘルプ出力でオプションとサブコマンドをアルファベット順に表示するよう改善
- 任意の位置で`*`を使用するBashツール権限のワイルドカードパターンマッチングを追加（例：`Bash(npm *)`、`Bash(* install)`、`Bash(git * main)`）
- bashコマンドとエージェント両方の統合Ctrl+Bバックグラウンド化を追加 - Ctrl+Bで実行中のすべてのフォアグラウンドタスクを同時にバックグラウンド化
- MCP `list_changed`通知のサポートを追加。MCPサーバーが再接続を必要とせずに利用可能なツール、プロンプト、リソースを動的に更新可能
- claude.ai購読者向けの`/teleport`と`/remote-env`スラッシュコマンドを追加し、リモートセッションの再開と設定が可能
- settings.json権限や`--disallowedTools` CLIフラグで`Task(AgentName)`構文を使用して特定のエージェントを無効化するサポートを追加
- エージェントのライフサイクルにスコープされたPreToolUse、PostToolUse、Stopフックを定義できるエージェントフロントマターへのフックサポートを追加
- スキルとスラッシュコマンドフロントマターへのフックサポートを追加
- 新しいVimモーション：f/F/t/Tモーションを繰り返す`;`と`,`、`yy`/`Y`でのyank用`y`演算子、貼り付け用`p`/`P`、テキストオブジェクト（`iw`、`aw`、`iW`、`aW`、`i"`、`a"`、`i'`、`a'`、`i(`、`a(`、`i[`、`a[`、`i{`、`a{`）、インデント/アンインデント用`>>`と`<<`、行結合用`J`
- プロンプトから直接プランモードを有効にする`/plan`コマンドショートカットを追加
- 先頭だけでなく入力のどこでも`/`が現れた場合のスラッシュコマンド自動補完サポートを追加
- インタラクティブセッション中にClaude が使用できる組み込みツールを制限するインタラクティブモードでの`--tools`フラグサポートを追加
- デフォルトのファイル読み取りトークン制限を上書きする`CLAUDE_CODE_FILE_READ_MAX_OUTPUT_TOKENS`環境変数を追加
- フック用の`once: true`設定サポートを追加
- よりクリーンなスキル宣言のため、フロントマター`allowed-tools`フィールドでのYAMLスタイルリストサポートを追加
- プラグインからのプロンプトとエージェントフックタイプのサポートを追加（以前はコマンドフックのみサポート）
- iTerm2でのCmd+V画像貼り付けサポートを追加（Ctrl+Vにマップ）
- ダイアログでのタブ間の循環用の左右矢印キーナビゲーションを追加
- Ctrl+Oトランスクリプトモードでのリアルタイム思考ブロック表示を追加
- バックグラウンドbashタスク詳細ダイアログでの完全出力へのファイルパスを追加
- コンテキスト可視化でスキルを別カテゴリとして追加
- サーバーがトークン期限切れを報告してもローカルの期限チェックが異なる場合のOAuthトークン更新が発動しない問題を修正
- 同時ツール実行中の孤立したツール結果による409競合から回復することで、一時的なサーバーエラー後にセッション永続化が停止する問題を修正
- 同時トークン更新試行中に古いOAuthトークンがキーチェーンキャッシュから読み取られる競合状態を修正
- IAM権限が特定のリージョンにスコープされている場合に403エラーを引き起こす、AWS BedrockサブエージェントがEU/APACクロスリージョン推論モデル設定を継承しない問題を修正
- バックグラウンドタスクが大きな出力を生成した場合のAPI コンテキストオーバーフローを修正。ファイルパス参照付きで30K文字に切り詰め
- 特殊ファイルタイプのシンボリックリンク解決をスキップすることでFIFOファイル読み取り時のハングを修正
- Ghostty、iTerm2、Kitty、WezTermで終了時にターミナルキーボードモードがリセットされない問題を修正
- iTerm2、Ghostty、Kitty、WezTermでAlt+BとAlt+F（単語ナビゲーション）が動作しない問題を修正
- プラグイン`allowed-tools`フロントマターで`${CLAUDE_PLUGIN_ROOT}`が置換されず、ツールが誤って承認を要求する問題を修正
- Writeツールで作成されるファイルがシステムumaskを尊重せずハードコードされた0o600権限を使用する問題を修正
- `$()`コマンド置換を含むコマンドが解析エラーで失敗する問題を修正
- バックスラッシュ継続を含む複数行bashコマンドが誤って分割され権限でフラグされる問題を修正
- グローバルオプション後のサブコマンドを正しく識別するようbashコマンドプレフィックス抽出を修正（例：`git -C /path log`が`Bash(git log:*)`ルールと正しくマッチ）
- CLI引数として渡されたスラッシュコマンド（例：`claude /context`）が適切に実行されない問題を修正
- スラッシュコマンドのTab補完後にEnterを押すと、補完されたコマンドを送信する代わりに別のコマンドが選択される問題を修正
- 引数付きコマンドを入力時にスラッシュコマンド引数ヒントがちらつき、表示が一貫しない問題を修正
- スラッシュコマンドを直接実行時にClaudeが冗長にSkillツールを呼び出すことがある問題を修正
- `/context`でのスキルトークン推定がフロントマターのみの読み込みを正確に反映するよう修正
- サブエージェントがデフォルトで親のモデルを継承しないことがある問題を修正
- `--model haiku`を使用するBedrock/Vertexユーザーでモデルピッカーが間違った選択を表示する問題を修正
- 権限リクエストオプションラベルに重複するBashコマンドが表示される問題を修正
- バックグラウンドタスク完了時の騒がしい出力を修正 - 生の出力の代わりにクリーンな完了メッセージを表示
- バックグラウンドタスク完了通知が箇条書きで積極的に表示されるよう修正
- フォークされたスラッシュコマンドがキャンセル時に「Interrupted」メッセージの代わりに「AbortError」を表示する問題を修正
- 権限ダイアログを閉じた後にカーソルが消える問題を修正
- `/hooks`メニューで別のオプションにスクロール時に間違ったフックタイプが選択される問題を修正
- キューに入ったプロンプトの画像がEscでキャンセル時に「[object Object]」として表示される問題を修正
- タスクをバックグラウンド化中にメッセージをキューイング時に画像が静かにドロップされる問題を修正
- 大きな貼り付け画像が「Image was too large」エラーで失敗する問題を修正
- CJK文字（日本語、中国語、韓国語）を含む複数行プロンプトでの余分な空行を修正
- ユーザープロンプトテキストが複数行に折り返される場合にultrathinkキーワードハイライトが間違った文字に適用される問題を修正
- 思考ブロックがストリーム中に現れた場合に折りたたまれた「Reading X files…」インジケーターが誤って過去形に切り替わる問題を修正
- Bashの読み取りコマンド（`ls`や`cat`など）が折りたたまれた読み取り/検索グループでカウントされず、グループが誤って「Read 0 files」を表示する問題を修正
- 実行中にサブエージェントからのトークンを適切に蓄積するようスピナートークンカウンターを修正
- スライスされた文字列が大きな親文字列を保持するgit diff解析でのメモリリークを修正
- 起動中にLSPツールが「no server available」を返す可能性がある競合状態を修正
- ネットワークリクエストがタイムアウトした場合にフィードバック送信が無期限にハングする問題を修正
- プラグイン発見とログセレクタービューで上矢印を押した場合に検索モードが終了する問題を修正
- フックに出力がない場合にフック成功メッセージで末尾のコロンが表示される問題を修正
- 起動パフォーマンスを向上させる複数の最適化
- ネイティブインストーラーやBun使用時、特に絵文字、ANSIコード、Unicode文字を含むテキストでのターミナルレンダリングパフォーマンスを向上
- 多くのセルを持つJupyterノートブック読み取り時のパフォーマンスを向上
- `cat refactor.md | claude`のようなパイプ入力の信頼性を向上
- AskQuestionツールの信頼性を向上
- sedのインプレース編集コマンドをdiffプレビュー付きのファイル編集として表示するよう改善
- 出力トークン制限により応答が切り詰められた場合、エラーメッセージを表示する代わりにClaudeが自動的に続行するよう改善
- 圧縮の信頼性を向上
- 権限拒否後もサブエージェント（Taskツール）が動作を継続し、代替アプローチを試せるよう改善
- スキルが実行中に進行状況を表示し、発生したツール使用を表示するよう改善
- `/skills/`ディレクトリのスキルがデフォルトでスラッシュコマンドメニューに表示されるよう改善（フロントマターで`user-invocable: false`でオプトアウト可能）
- 最近および頻繁に使用されたスキルを優先するようスキル提案を改善
- 最初の応答トークンを待機中のスピナーフィードバックを改善
- バックグラウンドエージェントからのトークンを含むスピナーでのトークン数表示を改善
- メインスレッドにより多くの制御と可視性を与える非同期エージェントの増分出力を改善
- フッターに移動したTabヒント、文脈的プレースホルダー付きのよりクリーンなYes/No入力ラベルで権限プロンプトUXを改善
- 短縮されたヘルプテキストと閉じるまで持続的に表示されるClaude in Chrome通知を改善
- TIFF形式サポートでmacOSスクリーンショット貼り付けの信頼性を向上
- `/stats`出力を改善
- より信頼性の高いデフォルト設定（ストリーマブルHTTP）を使用するようAtlassian MCP統合を更新
- あまり警戒的でない外観のため、「Interrupted」メッセージの色を赤からグレーに変更
- プランモード入力時の権限プロンプトを削除 - ユーザーは承認なしでプランモードに入れるように
- 画像参照リンクからアンダーライン スタイリングを削除
- [SDK] zodピア依存関係の最小バージョンを^4.0.0に変更
- [VSCode] 現在選択されているモデル名をコンテキストメニューに追加
- [VSCode] 自動承認権限ボタンに説明的ラベルを追加（「Yes, and don't ask again」の代わりに「Yes, allow npm for this project」など）
- [VSCode] マークダウンコンテンツで段落区切りがレンダリングされない問題を修正
- [VSCode] 拡張機能でのスクロールが親iframeを誤ってスクロールする問題を修正
- [Windows] 不適切なレンダリングの問題を修正

## 2.0.76

- Claude in Chrome統合使用時のmacOSコード署名警告の問題を修正

## 2.0.75

- 軽微なバグ修正

## 2.0.74

- go-to-definition、参照検索、ホバードキュメンテーションなどのコードインテリジェンス機能用のLSP（Language Server Protocol）ツールを追加
- Kitty、Alacritty、Zed、Warpターミナル用の`/terminal-setup`サポートを追加
- `/theme`でシンタックスハイライトのオン/オフを切り替えるctrl+tショートカットを追加
- テーマピッカーにシンタックスハイライト情報を追加
- ターミナル設定によりAltショートカットが失敗した場合のmacOSユーザー向けガイダンスを追加
- スキルによって呼び出されるツールにスキル`allowed-tools`が適用されない問題を修正
- ユーザーがすでにOpusを使用している場合にOpus 4.5のヒントが誤って表示される問題を修正
- シンタックスハイライトが正しく初期化されない場合の潜在的なクラッシュを修正
- 検索ボックスにフォーカスがある間にリスト選択インジケーターが表示される`/plugins discover`の視覚的バグを修正
- macOSキーボードショートカットで'alt'の代わりに'opt'を表示するよう修正
- ソース別にグループ化されたスキルとエージェント、スラッシュコマンド、ソートされたトークン数での`/context`コマンド可視化を改善
- [Windows] 不適切なレンダリングの問題を修正
- [VSCode] 年末プロモーションメッセージ用のギフトタグピクトグラムを追加

## 2.0.73

- 添付画像をデフォルトビューアーで開くクリック可能な`[Image #N]`リンクを追加
- ctrl-yヤンク後にキルリング履歴を循環するalt-yヤンクポップを追加
- プラグイン発見画面に検索フィルタリングを追加（名前、説明、マーケットプレイスで入力してフィルタリング）
- `--session-id`を`--resume`または`--continue`と`--fork-session`と組み合わせてセッションをフォークする際のカスタムセッションIDサポートを追加
- 入力履歴の循環が遅く、メッセージ送信後にテキストを上書きする可能性がある競合状態を修正
- `/theme`コマンドでテーマピッカーを直接開くよう改善
- テーマピッカーUIを改善
- 統合SearchBoxコンポーネントでセッション再開、権限、プラグイン画面全体の検索UXを改善
- [VSCode] 保留中の権限（青）と未読完了（オレンジ）を示すタブアイコンバッジを追加

## 2.0.72

- Chrome拡張機能（https://claude.ai/chrome）と連携してClaude Codeからブラウザーを直接制御できるClaude in Chrome（ベータ）機能を追加
- ターミナルのちらつきを軽減
- モバイルアプリの素早いダウンロード用にスキャン可能なQRコードをモバイルアプリのヒントに追加
- 会話再開時により良いフィードバックのための読み込みインジケーターを追加
- 非インタラクティブモードでカスタムシステムプロンプトを尊重しない`/context`コマンドを修正
- Ctrl+Yで貼り付ける際の連続するCtrl+K行の順序を修正
- @ メンション ファイル提案速度を改善（gitリポジトリで約3倍高速化）
- `.ignore`や`.rgignore`ファイルがあるリポジトリでのファイル提案パフォーマンスを改善
- 設定検証エラーをより目立つように改善
- 誤ったトリガーを避けるため、思考切り替えをTabからAlt+Tに変更

## 2.0.71

- プロンプト提案を有効/無効にする/config切り替えを追加
- `/config`コマンドのエイリアスとして`/settings`を追加
- カーソルがパスの途中にある場合に@ファイル参照提案が誤ってトリガーされる問題を修正
- `--dangerously-skip-permissions`使用時に`.mcp.json`からのMCPサーバーが読み込まれない問題を修正
- シェルグロブパターンを含む有効なbashコマンド（例：`ls *.txt`、`for f in *.png`）を権限ルールが誤って拒否する問題を修正
- Bedrock：トークンカウントと推論プロファイルリスト用に環境変数`ANTHROPIC_BEDROCK_BASE_URL`が尊重されるように
- ネイティブビルド用の新しいシンタックスハイライトエンジン

## 2.0.70

- プロンプト提案をすぐに受諾して送信するEnterキーを追加（Tabは編集用に受諾）
- サーバーからのすべてのツールを許可または拒否するMCPツール権限用のワイルドカード構文`mcp__server__*`を追加
- プラグインマーケットプレイス用の自動更新切り替えを追加し、マーケットプレイスごとの自動更新制御が可能
- 正確なコンテキストウィンドウパーセンテージ計算を可能にする`current_usage`フィールドをステータスライン入力に追加
- ユーザーが入力中にキューに入ったコマンドを処理する際に入力がクリアされる問題を修正
- Tabを押した際にプロンプト提案が入力されたテキストを置き換える問題を修正
- ターミナルサイズ変更時にdiffビューが更新されない問題を修正
- 大きな会話でのメモリ使用量を3倍改善
- より鮮明な画像のため、クリップボードにコピーされた統計スクリーンショット（Ctrl+S）の解像度を改善
- クイックメモリエントリ用の#ショートカットを削除（代わりにClaude にCLAUDE.mdの編集を依頼）
- /configでの思考モード切り替えが正しく持続しない問題を修正
- ファイル作成権限ダイアログのUIを改善

## 2.0.69

- 軽微なバグ修正

## 2.0.68

- 中国語、日本語、韓国語などの言語用のIME（Input Method Editor）サポートを修正。カーソル位置に合成ウィンドウを正しく配置
- 許可されていないMCPツールがモデルに見える状態になるバグを修正
- サブエージェントが動作中にステアリングメッセージが失われる可能性がある問題を修正
- CJK（中国語、日本語、韓国語）テキストシーケンス全体を単語境界でナビゲートする代わりに単一の単語として扱うOption+Arrow単語ナビゲーションを修正
- 空または欠落したプランでの終了時にエラーを投げる代わりに簡素化されたyes/noダイアログを表示するプランモード終了UXを改善
- 企業管理設定のサポートを追加。この機能を有効にするにはAnthropic アカウントチームにお問い合わせください

## 2.0.67

- Opus 4.5で思考モードがデフォルトで有効に
- 思考モード設定が/configに移動
- ツール名でルールをフィルタリングする`/`キーボードショートカット付きの`/permissions`コマンドに検索機能を追加
- 自動アップデーターが無効になっている理由を`/doctor`で表示
- 別のインスタンスがすでに最新バージョンの場合に`claude update`実行時の誤った「Another process is currently updating Claude」エラーを修正
- 非インタラクティブモード（`-p`フラグまたはパイプ入力）実行時に`.mcp.json`からのMCPサーバーが保留状態で停止する問題を修正
- `/permissions`で権限ルール削除後にスクロール位置がリセットされる問題を修正
- キリル文字、ギリシャ文字、アラビア文字、ヘブライ文字、タイ文字、中国語などの非ラテン文字で単語削除（opt+delete）と単語ナビゲーション（opt+arrow）が正しく動作しない問題を修正
- `claude install --force`が古いロックファイルをバイパスしない問題を修正
- マークダウンの取り消し線干渉によりCLAUDE.mdでの連続する@~/ファイル参照が誤って解析される問題を修正
- Windows：ログディレクトリパスのコロンによりプラグインMCPサーバーが失敗する問題を修正

## 2.0.65

- プロンプト作成中にalt+p（linux、windows）、option+p（macos）でモデルを切り替える機能を追加
- ステータスライン入力にコンテキストウィンドウ情報を追加
- カスタム`@`ファイル検索コマンド用の`fileSuggestion`設定を追加
- 自動シェル検出を上書きする`CLAUDE_CODE_SHELL`環境変数を追加（ログインシェルが実際の作業シェルと異なる場合に便利）
- Escapeでクエリを中止した際にプロンプトが履歴に保存されない問題を修正
- ファイル拡張子の代わりにバイトから形式を識別するようReadツールの画像処理を修正

## 2.0.64

- 自動圧縮を瞬時に実行
- エージェントとbashコマンドが非同期で実行され、メインエージェントを起こすメッセージを送信可能
- /statsでお気に入りモデル、使用量グラフ、使用量ストリークなどの興味深いCC統計をユーザーに提供
- 名前付きセッションサポートを追加：`/rename`でセッションに名前を付け、REPLで`/resume <name>`またはターミナルから`claude --resume <name>`で再開
- `.claude/rules/`のサポートを追加。詳細は https://code.claude.com/docs/en/memory を参照
- 大きな画像の正確な座標マッピングを可能にする、画像リサイズ時の画像寸法メタデータを追加
- ネイティブインストーラー使用時の.env自動読み込みを修正
- `--continue`や`--resume`フラグ使用時に`--system-prompt`が無視される問題を修正
- フォークされたセッションのグループ化とプレビュー（P）、名前変更（R）用のキーボードショートカット付きの`/resume`画面を改善
- VSCode：コードブロックとbashツール入力にクリップボードへのコピーボタンを追加
- VSCode：エミュレーションを通じてx64バイナリにフォールバックすることでWindows ARM64で拡張機能が動作しない問題を修正
- Bedrock：トークンカウントの効率を改善
- Bedrock：`aws login` AWS Management Consoleクレデンシャルのサポートを追加
- 新しい統合TaskOutputToolを支持してAgentOutputToolとBashOutputToolを未出荷

## 2.0.62

- 複数選択質問で「（推奨）」インジケーターを追加し、推奨オプションをリストの上部に移動
- コミットとPRの署名をカスタマイズする`attribution`設定を追加（`includeCoAuthoredBy`を非推奨化）
- ~/.claudeがプロジェクトディレクトリにシンボリックリンクされている場合に重複するスラッシュコマンドが表示される問題を修正
- 複数のコマンドが同じ名前を共有する場合にスラッシュコマンド選択が動作しない問題を修正
- シンボリックリンクされたスキルディレクトリ内のスキルファイルが循環シンボリックリンクになる可能性がある問題を修正
- ロックファイルが誤って古くなることで実行中のバージョンが削除される問題を修正
- 変更を拒否した際にIDE diffタブが閉じない問題を修正

## 2.0.61

- 応答性の問題により、複数のターミナルクライアント用のVSCodeサポートを元に戻しました。

## 2.0.60

- バックグラウンドエージェントサポートを追加。作業中にエージェントがバックグラウンドで実行
- すべてのスラッシュコマンドを無効にする--disable-slash-commands CLIフラグを追加
- 「Co-Authored-By」コミットメッセージにモデル名を追加
- 事前承認されたウェブサイトの要約をスキップするようFetchを更新
- VSCode：IDE サーバーに同時接続する複数のターミナルクライアントのサポートを追加

## 2.0.59

- 現在のセッションのエージェント設定を上書きする--agent CLIフラグを追加
- 特定のエージェントのシステムプロンプト、ツール制限、モデルでメインスレッドを設定する`agent`設定を追加
- VS Code：.claude.json設定ファイルが間違った場所から読み取られる問題を修正

## 2.0.58

- Proユーザーがサブスクリプションの一部としてOpus 4.5にアクセス可能になりました！
- 「11m 60s」の代わりに「12m 0s」を表示するタイマー期間を修正
- Windows：管理設定が存在する場合は`C:\Program Files\ClaudeCode`を優先。`C:\ProgramData\ClaudeCode`のサポートは将来のバージョンで削除予定

## 2.0.57

- プランを拒否する際のフィードバック入力を追加し、ユーザーがClaudeに何を変更すべきかを伝えることが可能
- VSCode：リアルタイム応答表示用のストリーミングメッセージサポートを追加

## 2.0.56

- ターミナル進行状況バー（OSC 9;4）を有効/無効にする設定を追加
- VSCode Extension：VS Codeのセカンダリサイドバー（VS Code 1.97+）のサポートを追加。ファイルエクスプローラーを左側に保ちながらClaude Codeを右サイドバーに表示可能。設定で優先場所としてサイドバーを設定する必要があります

## 2.0.55

- プロキシDNS解決がデフォルトで強制的にオンになる問題を修正。`CLAUDE_CODE_PROXY_RESOLVES_HOSTS=true`環境変数でオプトイン
- メモリ位置セレクターで矢印キーを押し続けた際にキーボードナビゲーションが応答しなくなる問題を修正
- 最後の質問で単一選択質問を自動送信し、シンプルな質問フローで余分なレビュー画面を排除するようAskUserQuestionツールを改善
- より高速で正確な結果での`@`ファイル提案用のファジーマッチングを改善

## 2.0.54

- 権限リクエストフックが「常に許可」提案を処理し、権限更新を適用できるよう有効化
- iTerm通知が過度に発生する問題を修正

## 2.0.52

- コマンドライン引数でClaudeを開始した際の重複メッセージ表示を修正
- 使用量が増加するにつれて満たされる（残りパーセンテージを表示する代わりに）`/usage`コマンドの進行状況バーを修正
- xclipが利用できない場合にwl-pasteにフォールバックすることで、Wayland実行のLinuxシステムで画像貼り付けが動作しない問題を修正
- bashコマンドでの`$!`の一部使用を許可

## 2.0.51

- Opus 4.5を追加！ https://www.anthropic.com/news/claude-opus-4-5
- Claude Code for Desktopの紹介：https://claude.com/download
- 新しいモデルを試す余裕を提供するため、Claude Codeユーザーの使用量制限を更新しました。詳細はClaude Opus 4.5ブログを参照
- ProユーザーはClaude CodeでOpus 4.5にアクセスするための追加使用量を購入可能
- プランモードでより正確なプランを構築し、より徹底的に実行
- 使用量制限通知をより理解しやすく
- `/usage`を「% used」に戻す
- 思考エラーの処理を修正
- パフォーマンス回帰を修正

## 2.0.50

- 入力スキーマでネストされた参照を持つMCPツール呼び出しを妨げるバグを修正
- アップグレード中の騒がしいが無害なエラーを静音化
- ultrathinkテキスト表示を改善
- 5時間セッション制限警告メッセージの明確性を改善

## 2.0.49

- 削除されたテキストを貼り付けるreadlineスタイルのctrl-yを追加
- 使用量制限警告メッセージの明確性を改善
- サブエージェント権限の処理を修正

## 2.0.47

- `claude --teleport`のエラーメッセージと検証を改善
- `/usage`でのエラー処理を改善
- 終了時に履歴エントリがログに記録されない競合状態を修正
- Vertex AI設定が`settings.json`から適用されない問題を修正

## 2.0.46

- メタデータから形式を検出できない場合に画像ファイルが間違ったメディアタイプで報告される問題を修正

## 2.0.45

- Microsoft Foundryのサポートを追加！ https://code.claude.com/docs/en/azure-ai-foundry を参照
- カスタムロジックでツール権限リクエストを自動承認または拒否する`PermissionRequest`フックを追加
- `&`で始まるメッセージでバックグラウンドタスクをWeb上のClaude Codeに送信

## 2.0.43

- カスタムエージェント用の`permissionMode`フィールドを追加
- `PreToolUseHookInput`と`PostToolUseHookInput`タイプに`tool_use_id`フィールドを追加
- サブエージェント用に自動読み込みするスキルを宣言するスキルフロントマターフィールドを追加
- `SubagentStart`フックイベントを追加
- ファイルを@メンションした際にネストされた`CLAUDE.md`ファイルが読み込まれない問題を修正
- UIでの一部メッセージの重複レンダリングを修正
- 一部の視覚的ちらつきを修正
- セルIDが`cell-N`パターンにマッチした場合にNotebookEditツールが間違った位置にセルを挿入する問題を修正

## 2.0.42

- `SubagentStop`フックに`agent_id`と`agent_transcript_path`フィールドを追加

## 2.0.41

- フック評価用のカスタムモデルを指定できるプロンプトベースのstopフックに`model`パラメーターを追加
- ユーザー設定からのスラッシュコマンドが2回読み込まれ、レンダリング問題を引き起こす可能性がある問題を修正
- コマンド説明でのユーザー設定対プロジェクト設定の間違ったラベリングを修正
- 実行中にプラグインコマンドフックがタイムアウトした場合のクラッシュを修正
- `--model haiku`使用時にBedrockユーザーが/modelピッカーで重複するOpusエントリを見る問題を修正
- 信頼ダイアログとオンボーディングでの壊れたセキュリティドキュメントリンクを修正
- diffモーダルを閉じるためにESCを押すとモデルも中断される問題を修正
- スラッシュコマンドでctrl-r履歴検索を実行しても検索がキャンセルされない問題を修正
- SDK：フック用のカスタムタイムアウトサポート
- より多くの安全なgitコマンドを承認なしで実行可能に
- プラグイン：出力スタイルの共有とインストールのサポートを追加
- 出力スタイル：フロントマターに`keep-coding-instructions`オプションを追加
- Webからセッションをテレポートすると自動的に上流ブランチが設定される

## 2.0.37

- 通知のアイドル状態計算方法を修正
- フック：Notificationフックイベント用のマッチャー値を追加
- 出力スタイル：フロントマターに`keep-coding-instructions`オプションを追加

## 2.0.36

- DISABLE_AUTOUPDATER環境変数がパッケージマネージャーの更新通知を適切に無効化するよう修正
- キューに入ったメッセージが誤ってbashコマンドとして実行される問題を修正
- キューに入ったメッセージが処理される間に入力中にテキストが失われる問題を修正

## 2.0.35

- コマンド検索時のファジー検索結果を改善
- VS Code拡張機能を改善し、UI全体で`chat.fontSize`と`chat.fontFamily`設定を尊重し、リロードを必要とせずにフォント変更を即座に適用
- 指定されたアイドル期間後にSDKモードを自動終了する`CLAUDE_CODE_EXIT_AFTER_STOP_DELAY`環境変数を追加。自動化されたワークフローとスクリプトに便利
- プロジェクト設定からlocalSettingsの拒否権限に`ignorePatterns`を移行
- 空文字列やその他のfalsy値を持つ項目（例：`/hooks`メニュー）でメニューナビゲーションが停止する問題を修正

## 2.0.34

- VSCode Extension：新しい会話の初期権限モードを設定する設定を追加
- ネイティブRustベースのファジーファインダーでファイルパス提案パフォーマンスを改善
- OAuth（Slack等）を使用するMCPサーバーが接続中にハングする原因となる無限トークン更新ループを修正
- 大きなファイル（特にbase64エンコードされた画像）の読み書き時のメモリクラッシュを修正

## 2.0.33

- ネイティブバイナリインストールの起動が高速化
- シンボリックリンクを適切に解決することで、`claude doctor`がHomebrew対npm-globalインストールを誤って検出する問題を修正
- `claude mcp serve`が互換性のないoutputSchemasを持つツールを公開する問題を修正

## 2.0.32

- コミュニティフィードバックに基づき出力スタイルの非推奨化を取り消し
- 起動時にアナウンスを表示する`companyAnnouncements`設定を追加
- PostToolUseフック実行中にフック進行状況メッセージが正しく更新されない問題を修正

## 2.0.31

- Windows：ネイティブインストールでモード切り替えのショートカットとしてalt+mの代わりにshift+tabを使用
- Vertex：サポートされているモデルでのWeb検索サポートを追加
- VSCode：ファイル検索に.gitignoreされたファイルを含める（デフォルトはtrue）respectGitIgnore設定を追加
- 「Tool names must be unique」エラーに関連するサブエージェントとMCPサーバーのバグを修正
- 既存の圧縮境界を尊重することで`prompt_too_long`で`/compact`が失敗する問題を修正
- プラグインのアンインストールがプラグインを削除しない問題を修正

## 2.0.30

- macOSでロックされたキーチェーンでAPIキーエラーが発生した場合に`security unlock-keychain`実行の有用なヒントを追加
- ポリシーレベルでdangerouslyDisableSandboxエスケープハッチを無効にする`allowUnsandboxedCommands`サンドボックス設定を追加
- 明示的なツールブロック用のカスタムエージェント定義に`disallowedTools`フィールドを追加
- プロンプトベースのstopフックを追加
- VSCode：ファイル検索に.gitignoreされたファイルを含める（デフォルトはtrue）respectGitIgnore設定を追加
- ネイティブビルドでSSE MCPサーバーを有効化
- 出力スタイルを非推奨化。`/output-style`でオプションを確認し、代わりに--system-prompt-file、--system-prompt、--append-system-prompt、CLAUDE.md、またはプラグインを使用
- カスタムripgrep設定のサポートを削除し、検索が結果を返さず設定発見が失敗する問題を解決
- コードベース探索中にExploreエージェントが不要な.md調査ファイルを作成する問題を修正
- 「max_tokens must be greater than thinking.budget_tokens」エラーメッセージで`/context`が時々失敗するバグを修正
- ファイルベースのMCP設定を正しく上書きするよう`--mcp-config`フラグを修正
- セッション権限をローカル設定に保存するバグを修正
- MCPツールがサブエージェントで利用できない問題を修正
- --dangerously-skip-permissionsフラグ使用時にフックとプラグインが実行されない問題を修正
- 矢印キーでタイプアヘッド提案をナビゲートする際の遅延を修正
- VSCode：現在のファイルまたはコード選択状態を示す入力フッターの選択インジケーターを復元

## 2.0.28

- プランモード：新しいPlanサブエージェントを導入
- サブエージェント：claudeがサブエージェントを再開することを選択可能
- サブエージェント：claudeがサブエージェントで使用するモデルを動的に選択可能
- SDK：--max-budget-usdフラグを追加
- カスタムスラッシュコマンド、サブエージェント、出力スタイルの発見が.gitignoreを尊重しなくなりました
- VS Codeで`Shift + Enter`にバックスラッシュを追加することを`/terminal-setup`で停止
- フラグメント構文を使用したgitベースのプラグインとマーケットプレイス用のブランチとタグサポートを追加（例：`owner/repo#branch`）
- ホームディレクトリから起動時の初回起動でmacOS権限プロンプトが表示されるバグを修正
- その他のバグ修正

## 2.0.27

- 権限プロンプト用の新しいUI
- より簡単なナビゲーションのため、セッション再開画面に現在のブランチフィルタリングと検索を追加
- ディレクトリ@メンションが「No assistant message found」エラーを引き起こす問題を修正
- VSCode Extension：ファイル検索に.gitignoreされたファイルを含める設定を追加
- VSCode Extension：無関係な「Warmup」会話、設定が時々デフォルトにリセットされるバグ修正

## 2.0.25

- レガシーSDKエントリーポイントを削除。将来のSDKアップデートは@anthropic-ai/claude-agent-sdkに移行してください：https://platform.claude.com/docs/en/agent-sdk/migration-guide

## 2.0.24

- `--setting-sources 'project'`が指定された場合にプロジェクトレベルのスキルが読み込まれないバグを修正
- Claude Code Web：Web -> CLI テレポートのサポート
- サンドボックス：Linux & MacでBashToolのサンドボックスモードをリリース
- Bedrock：認証が必要な場合にawsAuthRefresh出力を表示

## 2.0.22

- スラッシュコマンドをスクロールする際のコンテンツレイアウトシフトを修正
- IDE：思考を有効/無効にする切り替えを追加
- 並列ツール呼び出しで重複する権限プロンプトを引き起こすバグを修正
- 企業管理MCPの許可リストと拒否リストのサポートを追加

## 2.0.21

- ツール応答でMCP `structuredContent`フィールドをサポート
- インタラクティブ質問ツールを追加
- プランモードでClaudeがより頻繁に質問するように
- ProユーザーのモデルオプションとしてHaiku 4.5を追加
- キューに入ったコマンドが前のメッセージの出力にアクセスできない問題を修正

## 2.0.20

- Claude Skillsのサポートを追加

## 2.0.19

- 長時間実行されるbashコマンドを終了する代わりに自動バックグラウンド化。BASH_DEFAULT_TIMEOUT_MSでカスタマイズ
- プリントモードでHaikuが不必要に呼び出されるバグを修正

## 2.0.17

- モデルセレクターにHaiku 4.5を追加！
- Haiku 4.5はプランモードで自動的にSonnetを使用し、実行にはHaikuを使用（つまりデフォルトでSonnetPlan）
- 3P（BedrockとVertex）はまだ自動アップグレードされません。`ANTHROPIC_DEFAULT_HAIKU_MODEL`設定による手動アップグレードが可能
- Exploreサブエージェントを導入。Haikuを搭載し、コンテキストを節約するためにコードベースを効率的に検索！
- OTEL：HTTP_PROXYとHTTPS_PROXYをサポート
- `CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC`でリリースノート取得を無効化

## 2.0.15

- 再開時に以前に作成されたファイルを書き込み前に再度読み取る必要があるバグを修正
- `-p`モードで@メンションされたファイルを書き込み前に再度読み取る必要があるバグを修正

## 2.0.14

- MCPサーバーを@メンションしてオン/オフを切り替える機能を修正
- インライン環境変数を使用するbashの権限チェックを改善
- ultrathink + 思考切り替えを修正
- 不要なログインを削減
- --system-promptを文書化
- レンダリングの複数の改善
- プラグインUIの洗練

## 2.0.13

- ネイティブビルドで`/plugin`が動作しない問題を修正

## 2.0.12

- **プラグインシステムリリース**：マーケットプレイスからカスタムコマンド、エージェント、フック、MCPサーバーでClaude Codeを拡張
- プラグイン管理用の`/plugin install`、`/plugin enable/disable`、`/plugin marketplace`コマンド
- チームコラボレーション用の`extraKnownMarketplaces`によるリポジトリレベルプラグイン設定
- プラグイン構造と設定を検証する`/plugin validate`コマンド
- プラグインアナウンスブログ投稿：https://www.anthropic.com/news/claude-code-plugins
- プラグインドキュメント：https://code.claude.com/docs/en/plugins
- `/doctor`コマンドによる包括的なエラーメッセージと診断
- `/model`セレクターでのちらつきを回避
- `/help`の改善
- `/resume`サマリーでのフック言及を回避
- `/config`の「verbose」設定の変更がセッション間で持続

## 2.0.11

- システムプロンプトサイズを1.4kトークン削減
- IDE：よりスムーズなインタラクションのためのキーボードショートカットとフォーカス問題を修正
- Opusフォールバック レート制限エラーが誤って表示される問題を修正
- /add-dirコマンドが間違ったデフォルトタブを選択する問題を修正

## 2.0.10

- バターのようにスムーズなUI用にターミナルレンダラーを書き直し
- @メンションまたは/mcpでMCPサーバーを有効/無効化
- bashモードでシェルコマンドのタブ補完を追加
- PreToolUseフックがツール入力を変更可能に
- Ctrl-Gを押してシステム設定のテキストエディターでプロンプトを編集
- コマンド内の環境変数を使用するbash権限チェックの修正

## 2.0.9

- bashバックグラウンド化が動作しなくなった回帰を修正

## 2.0.8

- Bedrock デフォルトSonnetモデルを`global.anthropic.claude-sonnet-4-5-20250929-v1:0`に更新
- IDE：チャットでのファイルとフォルダーのドラッグアンドドロップサポートを追加
- /context：思考ブロックのカウントを修正
- ダークターミナルでライトテーマを使用するユーザーのメッセージレンダリングを改善
- 非推奨の.claude.json allowedTools、ignorePatterns、env、todoFeatureEnabled設定オプションを削除（代わりにsettings.jsonで設定）

## 2.0.5

- IDE：EnterとTabでのIME意図しないメッセージ送信を修正
- IDE：ログイン画面に「Open in Terminal」リンクを追加
- 未処理のOAuth期限切れ401 APIエラーを修正
- SDK：重複メッセージを防ぐためにSDKUserMessageReplay.isReplayを追加

## 2.0.1

- BedrockとVertexでのSonnet 4.5デフォルトモデル設定変更をスキップ
- 様々なバグ修正とプレゼンテーション改善

## 2.0.0

- 新しいネイティブVS Code拡張機能
- アプリ全体の新しい外観
- コード変更を元に戻すために会話を/rewind
- プラン制限を確認する/usageコマンド
- 思考を切り替えるTab（セッション間で持続）
- 履歴を検索するCtrl-R
- claude configコマンドを未出荷
- フック：PostToolUse 'tool_use' idsが'tool_result'ブロックなしで見つかるエラーを削減
- SDK：Claude Code SDKがClaude Agent SDKになりました
- `--agents`フラグでサブエージェントを動的に追加

## 1.0.126

- BedrockとVertex用の/contextコマンドを有効化
- HTTPベースのOpenTelemetryエクスポーター用のmTLSサポートを追加

## 1.0.124

- BashToolのログインシェルをスキップするために`CLAUDE_BASH_NO_LOGIN`環境変数を1またはtrueに設定
- BedrockとVertex環境変数がすべての文字列をtruthyとして評価する問題を修正
- 権限が拒否された場合に許可されたツールのリストをClaudeに通知しないように
- Bashツール権限チェックのセキュリティ脆弱性を修正
- VSCode拡張機能の大きなファイルでのパフォーマンスを改善

## 1.0.123

- Bash権限ルールがマッチング時に出力リダイレクションをサポート（例：`Bash(python:*)`が`python script.py > output.txt`にマッチ）
- 「don't think」のような否定句で思考モードがトリガーされる問題を修正
- トークンストリーミング中のレンダリングパフォーマンス低下を修正
- Claudeがスラッシュコマンドを呼び出せるSlashCommandツールを追加。https://code.claude.com/docs/en/slash-commands#SlashCommand-tool
- BashTool環境スナップショットログを強化
- ヘッドレスモードで会話を再開する際に思考が不必要に有効になることがあるバグを修正
- --debugログをファイルに移行し、簡単なtailとフィルタリングを可能に

## 1.0.120

- 大きなプロンプトで特に顕著な入力中の入力遅延を修正
- VSCode拡張機能のコマンドレジストリとセッションダイアログのユーザーエクスペリエンスを改善
- セッションダイアログの応答性と視覚的フィードバックを強化
- worktreeサポートチェックを削除してIDE互換性問題を修正
- プレフィックスマッチングを使用してBashツール権限チェックがバイパスされる可能性があるセキュリティ脆弱性を修正

## 1.0.119

- インタラクティブモード入力時にプロセスが視覚的にフリーズするWindows問題を修正
- headersHelper設定によるMCPサーバー用の動的ヘッダーサポート
- ヘッドレスセッションで思考モードが動作しない問題を修正
- 許可されたツールを置き換える代わりに更新するようスラッシュコマンドを修正

## 1.0.117

- bash/zshのような以前のコマンドを呼び出すCtrl-R履歴検索を追加
- 特にWindowsでの入力中の入力遅延を修正
- acceptEditsモードでsedコマンドを自動許可コマンドに追加
- ドライブ文字でWindows PATH比較を大文字小文字を区別しないよう修正
- /add-dir出力に権限管理ヒントを追加

## 1.0.115

- 強化された視覚効果で思考モード表示を改善
- プロンプトで思考モードを一時的に無効にするために/tを入力
- globとgrepツールのパス検証を改善
- 視覚的な混乱を減らすためにpost-toolフックの凝縮された出力を表示
- 読み込み状態完了時の視覚的フィードバックを修正
- 権限リクエストダイアログのUI一貫性を改善

## 1.0.113

- インタラクティブモードでのパイプ入力を非推奨化
- トランスクリプト切り替え用のCtrl+RキーバインドをCtrl+Oに移動

## 1.0.112

- トランスクリプトモード（Ctrl+R）：各アシスタントメッセージの生成に使用されたモデルを追加
- 一部のClaude MaxユーザーがClaude Proユーザーとして誤って認識される問題に対処
- フック：SessionEndフック用のsystemMessageサポートを追加
- スピナーのヒントを無効にする`spinnerTipsEnabled`設定を追加
- IDE：様々な改善とバグ修正

## 1.0.111

- /modelで提供されたモデル名を検証
- 不正なシェル構文解析によるBashツールクラッシュを修正

## 1.0.110

- /terminal-setupコマンドでWezTermをサポート
- MCP：OAuthトークンが期限切れ前に積極的に更新
- バックグラウンドBashプロセスの信頼性問題を修正

## 1.0.109

- SDK：`--include-partial-messages` CLIフラグによる部分メッセージストリーミングサポートを追加

## 1.0.106

- Windows：一貫してPOSIX形式（例：`Read(//c/Users/...)`）を使用するようパス権限マッチングを修正

## 1.0.97

- 設定：/doctorで権限ルール構文を検証し、修正を提案

## 1.0.94

- Vertex：サポートされているモデル用のグローバルエンドポイントサポートを追加
- /memoryコマンドでインポートされたすべてのメモリファイルの直接編集が可能
- SDK：コールバックとしてカスタムツールを追加
- 現在のtodo項目をリストする/todosコマンドを追加

## 1.0.93

- Windows：クリップボードから画像を貼り付けるalt + vショートカットを追加
- 指定されたホスト名とIPのプロキシをバイパスするNO_PROXY環境変数をサポート

## 1.0.90

- 設定ファイルの変更が即座に有効 - 再起動不要

## 1.0.88

- 「OAuth authentication is currently not supported」を引き起こす問題を修正
- ステータスライン入力に`exceeds_200k_tokens`を含める
- /costでの間違った使用量追跡を修正
- モデルエイリアスopusplan、opus、sonnetを制御するための`ANTHROPIC_DEFAULT_SONNET_MODEL`と`ANTHROPIC_DEFAULT_OPUS_MODEL`を導入
- Bedrock：デフォルトSonnetモデルをSonnet 4に更新

## 1.0.86

- ユーザーがコンテキスト問題をセルフサービスでデバッグできる/contextを追加
- SDK：すべてのSDKメッセージ用のUUIDサポートを追加
- SDK：ユーザーメッセージをstdoutに再生する`--replay-user-messages`を追加

## 1.0.85

- ステータスライン入力にセッションコスト情報を含める
- フック：SessionEndフックを導入

## 1.0.84

- ネットワークが不安定な場合のtool_use/tool_result id不一致エラーを修正
- タスクを終了する際にClaudeがリアルタイムステアリングを無視することがある問題を修正
- @メンション：エージェント、出力スタイル、スラッシュコマンド編集を容易にするために~/.claude/*ファイルを提案に追加
- デフォルトで組み込みripgrepを使用；この動作をオプトアウトするにはUSE_BUILTIN_RIPGREP=0を設定

## 1.0.83

- @メンション：パスにスペースを含むファイルをサポート
- 新しいきらめくスピナー

## 1.0.82

- SDK：リクエストキャンセレーションサポートを追加
- SDK：カスタムパスを検索する新しいadditionalDirectoriesオプション、スラッシュコマンド処理を改善
- 設定：.claude/settings.jsonファイルの無効なフィールドを防ぐ検証
- MCP：ツール名の一貫性を改善
- Bash：Claudeが大きなファイルを自動的に読み取ろうとした際のクラッシュを修正

## 1.0.81

- 新しい組み込み教育出力スタイル「Explanatory」と「Learning」を含む出力スタイルをリリース。ドキュメント：https://code.claude.com/docs/en/output-styles
- エージェント：エージェントファイルが解析不可能な場合のカスタムエージェント読み込みを修正

## 1.0.80

- UI改善：カスタムサブエージェントの色とスピナーレンダリング問題のテキストコントラストを修正

## 1.0.77

- Bashツール：ヒアドキュメントと複数行文字列エスケープを修正、stderr リダイレクション処理を改善
- SDK：セッションサポートと権限拒否追跡を追加
- 会話要約でのトークン制限エラーを修正
- Opus Plan Mode：プランモードでのみOpusを実行し、それ以外はSonnetを実行する`/model`の新しい設定

## 1.0.73

- MCP：`--mcp-config file1.json file2.json`で複数の設定ファイルをサポート
- MCP：EscでOAuth認証フローをキャンセル
- Bash：コマンド検証を改善し、誤ったセキュリティ警告を削減
- UI：スピナーアニメーションとステータスライン視覚階層を強化
- Linux：Alpine とmuslベースのディストリビューションのサポートを追加（別途ripgrepインストールが必要）

## 1.0.72

- 権限を求める：特定のツールの使用確認を常に求めるよう/permissionsでClaude Codeに設定

## 1.0.71

- バックグラウンドコマンド：任意のBashコマンドをバックグラウンドで実行するために（Ctrl-b）を使用し、Claudeが作業を継続可能（開発サーバー、ログのtailなどに最適）
- カスタマイズ可能なステータスライン：/statuslineでターミナルプロンプトをClaude Codeに追加

## 1.0.70

- パフォーマンス：大きなコンテキストでのより良いパフォーマンスのためにメッセージレンダリングを最適化
- Windows：ネイティブファイル検索、ripgrep、サブエージェント機能を修正
- スラッシュコマンド引数での@メンションサポートを追加

## 1.0.69

- Opusをバージョン4.1にアップグレード

## 1.0.68

- `/pr-comments`などの特定のコマンドで間違ったモデル名が使用される問題を修正
- Windows：ツールの許可/拒否とプロジェクト信頼の権限チェックを改善。これにより`.claude.json`に新しいプロジェクトエントリが作成される可能性があります - 必要に応じて履歴フィールドを手動でマージしてください
- Windows：pnpmなどのコマンド実行時の「No such file or directory」を排除するためにサブプロセス生成を改善
- セルフサービスデバッグ用のCLAUDE.mdとMCPツールコンテキストで/doctorコマンドを強化
- SDK：ツール確認用のcanUseTool コールバックサポートを追加
- `disableAllHooks`設定を追加
- 大きなリポジトリでのファイル提案パフォーマンスを改善

## 1.0.65

- IDE：診断用の接続安定性問題とエラー処理を修正
- Windows：.bashrcファイルがないユーザー用のシェル環境設定を修正

## 1.0.64

- エージェント：モデルカスタマイズサポートを追加 - エージェントが使用すべきモデルを指定可能
- エージェント：再帰エージェントツールへの意図しないアクセスを修正
- フック：警告とコンテキスト表示用のフックJSON出力にsystemMessageフィールドを追加
- SDK：マルチターン会話でのユーザー入力追跡を修正
- ファイル検索と@エージェントメンション、カスタムスラッシュコマンド機能に隠しファイルを追加

## 1.0.63

- Windows：ファイル検索、@エージェントメンション、カスタムスラッシュコマンド機能を修正

## 1.0.62

- タイプアヘッド付きのカスタムエージェント用@メンションサポートを追加。@<your-custom-agent>で呼び出し
- フック：新しいセッション初期化用のSessionStartフックを追加
- /add-dirコマンドでディレクトリパス用のタイプアヘッドをサポート
- ネットワーク接続チェックの信頼性を改善

## 1.0.61

- トランスクリプトモード（Ctrl+R）：中断ではなくトランスクリプトモードを終了するようEscを変更
- 設定：JSONファイルから設定を読み込む`--settings`フラグを追加
- 設定：シンボリックリンクである設定ファイルパスの解決を修正
- OTEL：認証変更後の間違った組織の報告を修正
- スラッシュコマンド：Bashでallowed-toolsの権限チェックを修正
- IDE：VSCode MacOSで⌘+Vを使用した画像貼り付けサポートを追加
- IDE：IDE自動接続を無効にする`CLAUDE_CODE_AUTO_CONNECT_IDE=false`を追加
- Claude Codeとユーザー提供のシェルコマンドをラップする`CLAUDE_CODE_SHELL_PREFIX`を追加

## 1.0.60

- 専門タスク用のカスタムサブエージェントを作成可能！開始するには/agentsを実行

## 1.0.59

- SDK：canUseTool コールバックでツール確認サポートを追加
- SDK：生成されたプロセス用のenv指定を許可
- フック：フックにPermissionDecision（「ask」を含む）を公開
- フック：UserPromptSubmitで高度なJSON出力のadditionalContextをサポート
- Opusを指定した一部のMaxユーザーがSonnetへのフォールバックを見る問題を修正

## 1.0.58

- PDFを読み取るサポートを追加
- MCP：'claude mcp list'でのサーバーヘルス状態表示を改善
- フック：フックコマンド用のCLAUDE_PROJECT_DIR環境変数を追加

## 1.0.57

- スラッシュコマンドでのモデル指定サポートを追加
- Claudeが許可されたツールを理解できるよう権限メッセージを改善
- 修正：ターミナルラッピングでbash出力から末尾の改行を削除

## 1.0.56

- VTモードをサポートするNode.jsバージョンでWindows上のモード切り替えにshift+tabを有効化
- WSL IDE検出の修正
- .awsディレクトリへのawsRefreshHelper変更が取得されない問題を修正

## 1.0.55

- Opus 4とSonnet 4モデルの知識カットオフを明確化
- Windows：Ctrl+Zクラッシュを修正
- SDK：エラーログキャプチャ機能を追加
- プリントモードでシステムプロンプトを上書きする--system-prompt-fileオプションを追加

## 1.0.54

- フック：UserPromptSubmitフックと現在の作業ディレクトリをフック入力に追加
- カスタムスラッシュコマンド：フロントマターにargument-hintを追加
- Windows：OAuthでポート45454を使用し、ブラウザーURLを適切に構築
- Windows：モード切り替えでalt + mを使用し、プランモードが適切にレンダリング
- シェル：ファイル関連エラーを修正するためにインメモリシェルスナップショットに切り替え

## 1.0.53

- @メンション ファイル切り詰めを100行から2000行に更新
- AWSトークン更新用のヘルパースクリプト設定を追加：awsAuthRefresh（aws sso loginのようなフォアグラウンド操作用）とawsCredentialExport（STS様応答でのバックグラウンド操作用）

## 1.0.52

- MCPサーバー指示のサポートを追加

## 1.0.51

- ネイティブWindows（Git for Windowsが必要）のサポートを追加
- 環境変数AWS_BEARER_TOKEN_BEDROCKを通じたBedrock APIキーのサポートを追加
- 設定：/doctorで無効な設定ファイルの特定と修正を支援
- `--append-system-prompt`をプリントモード（--print/-p）だけでなくインタラクティブモードでも使用可能
- 自動圧縮警告しきい値を60%から80%に増加
- スペースを含むユーザーディレクトリでのシェルスナップショット処理問題を修正
- OTELリソースにos.type、os.version、host.arch、wsl.version（Windows Subsystem for Linux実行時）を含める
- カスタムスラッシュコマンド：サブディレクトリのユーザーレベルコマンドを修正
- プランモード：サブタスクから拒否されたプランが破棄される問題を修正

## 1.0.48

- v1.0.45でアプリが起動時に時々フリーズするバグを修正
- コマンド出力の最後の5行に基づくBashツールへの進行状況メッセージを追加
- MCPサーバー設定での変数展開サポートを追加
- シェルスナップショットを/tmpから~/.claudeに移動し、より信頼性の高いBashツール呼び出しを実現
- Claude CodeがWSLで実行される場合のIDE拡張機能パス処理を改善
- フック：PreCompactフックを追加
- Vimモード：c、f/F、t/Tを追加

## 1.0.45

- 新しいツール入力パラメーターと機能でSearch（Grep）ツールを再設計
- ノートブックファイルのIDE diffを無効化し、「Timeout waiting after 1000ms」エラーを修正
- アトミック書き込みを強制することで設定ファイル破損問題を修正
- 既存のCtrl+U動作を壊すことを避けるため、プロンプト入力のundoをCtrl+\_に更新し、zshのundoショートカットに合わせる
- Stopフック：/clear後のトランスクリプトパスを修正し、ループがツール呼び出しで終了した場合のトリガーを修正
- カスタムスラッシュコマンド：サブディレクトリに基づくコマンド名の名前空間を復元。例：.claude/commands/frontend/component.mdは/componentではなく/frontend:componentになります

## 1.0.44

- 会話を共有用に素早くエクスポートできる新しい/exportコマンド
- MCP：resource_linkツール結果をサポート
- MCP：ツール注釈とツールタイトルが/mcp viewで表示
- Ctrl+ZをClaude Codeの一時停止に変更。`fg`実行で再開。プロンプト入力のundoはCtrl+U

## 1.0.43

- テーマセレクターが過度に保存するバグを修正
- フック：EPIPEシステムエラー処理を追加

## 1.0.42

- `/add-dir`コマンドにチルダ（`~`）展開サポートを追加

## 1.0.41

- フック：StopフックトリガーをStopとSubagentStopに分割
- フック：各コマンドのオプションタイムアウト設定を有効化
- フック：フック入力に「hook_event_name」を追加
- MCPツールがツールリストに2回表示されるバグを修正
- `tool_decision`イベントでのBashツール用の新しいツールパラメーターJSON

## 1.0.40

- `NODE_EXTRA_CA_CERTS`が設定されている場合にUNABLE_TO_GET_ISSUER_CERT_LOCALLYでAPI接続エラーを引き起こすバグを修正

## 1.0.39

- OpenTelemetryログに新しいActive Timeメトリック

## 1.0.38

- フックをリリース。https://github.com/anthropics/claude-code/issues/712 でのコミュニティ入力に特別な感謝。ドキュメント：https://code.claude.com/docs/en/hooks

## 1.0.37

- ANTHROPIC_AUTH_TOKENまたはapiKeyHelperを通じて`Proxy-Authorization`ヘッダーを設定する機能を削除

## 1.0.36

- Web検索で今日の日付をコンテキストに取り込み
- 終了時にstdio MCPサーバーが適切に終了しないバグを修正

## 1.0.35

- MCP OAuth Authorization Server discoveryのサポートを追加

## 1.0.34

- MaxListenersExceededWarningメッセージが表示される原因となるメモリリークを修正

## 1.0.33

- セッションIDサポートでログ機能を改善
- プロンプト入力のundo機能を追加（Ctrl+ZとVim 'u'コマンド）
- プランモードの改善

## 1.0.32

- litellm用のloopback設定を更新
- ログイン選択画面をバイパスするforceLoginMethod設定を追加

## 1.0.31

- ファイルに無効なJSONが含まれている場合に~/.claude.jsonがリセットされるバグを修正

## 1.0.30

- カスタムスラッシュコマンド：bash出力実行、@メンション ファイル、思考キーワードで思考を有効化
- ファイル名マッチングでファイルパス自動補完を改善
- Ctrl-rモードでのタイムスタンプ追加とCtrl-c処理を修正
- パイプとselectを使用する複雑なフィルター用のjq正規表現サポートを強化

## 1.0.29

- カーソルナビゲーションとレンダリングでのCJK文字サポートを改善

## 1.0.28

- スラッシュコマンド：履歴ナビゲーション中のセレクター表示を修正
- API サイズ制限エラーを防ぐためにアップロード前に画像をリサイズ
- 設定ディレクトリにXDG_CONFIG_HOMEサポートを追加
- メモリ使用量のパフォーマンス最適化
- OpenTelemetryログに新しい属性（terminal.type、language）

## 1.0.27

- ストリーマブルHTTP MCPサーバーをサポート
- リモートMCPサーバー（SSEとHTTP）でOAuthをサポート
- MCPリソースを@メンション可能
- Claude Code内で会話を切り替える/resumeスラッシュコマンド

## 1.0.25

- スラッシュコマンド：「project」と「user」プレフィックスを説明に移動
- スラッシュコマンド：コマンド発見の信頼性を改善
- Ghosttyのサポートを改善
- Web検索の信頼性を改善

## 1.0.24

- /mcp出力を改善
- 設定配列がマージされる代わりに上書きされるバグを修正

## 1.0.23

- TypeScript SDK をリリース：開始するには@anthropic-ai/claude-codeをインポート
- Python SDKをリリース：開始するにはpip install claude-code-sdkを実行

## 1.0.22

- SDK：`total_cost`を`total_cost_usd`に名前変更

## 1.0.21

- タブベースのインデンテーションを使用するファイルの編集を改善
- tool_useに対応するtool_resultがないエラーの修正
- Claude Code終了後にstdio MCPサーバープロセスが残存するバグを修正

## 1.0.18

- 追加の作業ディレクトリを指定する--add-dir CLI引数を追加
- -pフラグを必要としないストリーミング入力サポートを追加
- 起動パフォーマンスとセッションストレージパフォーマンスを改善
- bashコマンドの作業ディレクトリを固定するCLAUDE_BASH_MAINTAIN_PROJECT_WORKING_DIR環境変数を追加
- 詳細なMCPサーバーツール表示（/mcp）を追加
- MCP認証と権限の改善
- 切断時のMCP SSE接続の自動再接続を追加
- ダイアログが表示された際に貼り付けた内容が失われる問題を修正

## 1.0.17

- -pモードでサブタスクからのメッセージを出力（parent_tool_use_idプロパティを確認）
- VS Code diffツールが素早く複数回呼び出された場合のクラッシュを修正
- MCPサーバーリストUIの改善
- 「node」の代わりに「claude」を表示するようClaude Codeプロセスタイトルを更新

## 1.0.11

- Claude CodeがClaude Proサブスクリプションでも使用可能に
- Claude Maxプランへのよりスムーズな切り替えのための/upgrade
- APIキーとBedrock/Vertex/外部認証トークンからの認証UIを改善
- シェル設定エラー処理を改善
- 圧縮中のtodoリスト処理を改善

## 1.0.10

- マークダウンテーブルサポートを追加
- ストリーミングパフォーマンスを改善

## 1.0.8

- CLOUD_ML_REGION使用時のVertex AIリージョンフォールバックを修正
- デフォルトotel間隔を1s -> 5sに増加
- MCP_TIMEOUTとMCP_TOOL_TIMEOUTが尊重されないエッジケースを修正
- 検索ツールが不必要に権限を求める回帰を修正
- 英語以外の言語での思考トリガーサポートを追加
- 圧縮UIを改善

## 1.0.7

- /allowed-tools -> /permissionsに名前変更
- allowedToolsとignorePatterns を.claude.json -> settings.jsonに移行
- settings.json編集を支持してclaude configコマンドを非推奨化
- --dangerously-skip-permissionsが--printモードで時々動作しないバグを修正
- /install-github-appのエラー処理を改善
- バグ修正、UI洗練、ツール信頼性の改善

## 1.0.6

- タブインデントファイルの編集信頼性を改善
- すべての場所でCLAUDE_CONFIG_DIRを尊重
- 不要なツール権限プロンプトを削減
- @fileタイプアヘッドでのシンボリックリンクサポートを追加
- バグ修正、UI洗練、ツール信頼性の改善

## 1.0.4

- MCPツールエラーが正しく解析されないバグを修正

## 1.0.1

- インターリーブ思考をオプトアウトするオプションをユーザーに提供する`DISABLE_INTERLEAVED_THINKING`を追加
- プロバイダー固有の名前を表示するようモデル参照を改善（BedrockのSonnet 3.7、ConsoleのSonnet 4）
- ドキュメントリンクとOAuthプロセスの説明を更新

## 1.0.0

- Claude Codeが一般提供開始
- Sonnet 4とOpus 4モデルの導入

## 0.2.125

- 破壊的変更：`ANTHROPIC_MODEL`または`ANTHROPIC_SMALL_FAST_MODEL`に渡されるBedrock ARNにエスケープされたスラッシュを含めるべきではありません（`%2F`の代わりに`/`を指定）
- すべてのリクエストをログに記録するため、`DEBUG=true`の代わりに`ANTHROPIC_LOG=debug`を削除

## 0.2.117

- 破壊的変更：--print JSON出力で新しいメタデータフィールドを導入する際の前方互換性のため、ネストされたメッセージオブジェクトを返すように
- settings.cleanupPeriodDaysを導入
- CLAUDE_CODE_API_KEY_HELPER_TTL_MS環境変数を導入
- --debugモードを導入

## 0.2.108

- Claudeの作業中にリアルタイムでClaudeを操縦するメッセージを送信可能
- BASH_DEFAULT_TIMEOUT_MSとBASH_MAX_TIMEOUT_MS環境変数を導入
- -pモードで思考が動作しないバグを修正
- /costレポートの回帰を修正
- 他のMCPコマンドを支持してMCPウィザードインターフェースを非推奨化
- その他多くのバグ修正と改善

## 0.2.107

- CLAUDE.mdファイルで他のファイルをインポート可能。./CLAUDE.mdに@path/to/file.mdを追加して起動時に追加ファイルを読み込み

## 0.2.106

- MCP SSEサーバー設定でカスタムヘッダーを指定可能
- MCP権限プロンプトが常に正しく表示されないバグを修正

## 0.2.105

- ClaudeがWebを検索可能
- システムとアカウント状態を/statusに移動
- Vim用の単語移動キーバインドを追加
- 起動、todoツール、ファイル編集のレイテンシーを改善

## 0.2.102

- 思考トリガーの信頼性を改善
- 画像とフォルダーの@メンション信頼性を改善
- 1つのプロンプトに複数の大きなチャンクを貼り付け可能

## 0.2.100

- スタックオーバーフローエラーによるクラッシュを修正
- dbストレージをオプションに；dbサポートがない場合は--continueと--resumeを無効化

## 0.2.98

- 自動圧縮が2回実行される問題を修正

## 0.2.96

- Claude CodeがClaude Maxサブスクリプション（https://claude.ai/upgrade）でも使用可能

## 0.2.93

- 「claude --continue」と「claude --resume」で中断した場所から会話を再開
- Claudeが軌道を保ち、より組織的になるのに役立つTodoリストにアクセス

## 0.2.82

- --disallowedToolsのサポートを追加
- 一貫性のためにツールの名前を変更：LSTool -> LS、View -> Readなど

## 0.2.75

- Claudeの作業中にEnterを押して追加メッセージをキューに追加
- 画像ファイルをプロンプトに直接ドラッグまたはコピー/貼り付け
- ファイルを@メンションしてコンテキストに直接追加
- `claude --mcp-config <path-to-file>`でワンオフMCPサーバーを実行
- ファイル名自動補完のパフォーマンスを改善

## 0.2.74

- 5分のTTLで動的に生成されたAPIキー（apiKeyHelper経由）の更新サポートを追加
- TaskツールでWriteとbashコマンドの実行が可能

## 0.2.72

- 読み込まれたトークンとツール使用を示すようスピナーを更新

## 0.2.70

- curlなどのネットワークコマンドがClaudeで使用可能
- Claudeが複数のWeb クエリを並列実行可能
- 自動承認モードでESCを1回押すとClaudeを即座に中断

## 0.2.69

- 改善されたSelectコンポーネント動作でUIの不具合を修正
- より良いテキスト切り詰めロジックでターミナル出力表示を強化

## 0.2.67

- 共有プロジェクト権限ルールを.claude/settings.jsonに保存可能

## 0.2.66

- プリントモード（-p）で--output-format=stream-jsonによるストリーミング出力をサポート
- 貼り付けが予期せずメモリやbashモードをトリガーする問題を修正

## 0.2.63

- MCPツールが2回読み込まれ、ツール呼び出しエラーを引き起こす問題を修正

## 0.2.61

- より高速なインタラクションのためにvimスタイルキー（j/k）またはbash/emacsショートカット（Ctrl+n/p）でメニューをナビゲート
- より信頼性の高いクリップボード貼り付け機能のための画像検出を強化
- ESCキーが会話履歴セレクターをクラッシュさせる可能性がある問題を修正

## 0.2.59

- 画像をプロンプトに直接コピー+貼り付け
- bashとfetchツールの進行状況インジケーターを改善
- 非インタラクティブモード（-p）のバグ修正

## 0.2.54

- メッセージを「#」で始めてMemoryに素早く追加
- ctrl+rを押して長いツール結果の完全な出力を表示
- MCP SSEトランスポートのサポートを追加

## 0.2.53

- 新しいWeb fetchツールでClaudeが貼り付けたURLを表示可能
- JPEG検出のバグを修正

## 0.2.50

- 新しいMCP「project」スコープで.mcp.jsonファイルにMCPサーバーを追加し、リポジトリにコミット可能

## 0.2.49

- 以前のMCPサーバースコープの名前を変更：以前の「project」スコープは「local」、「global」スコープは「user」

## 0.2.47

- Tabを押してファイルとフォルダー名を自動補完
- Shift + Tabを押してファイル編集の自動承認を切り替え
- 無限の会話長のための自動会話圧縮（/configで切り替え）

## 0.2.44

- 思考モードでClaudeにプランを作成依頼：「think」、「think harder」、「ultrathink」と言うだけ

## 0.2.41

- MCPサーバー起動タイムアウトをMCP_TIMEOUT環境変数で設定可能
- MCPサーバー起動がアプリの起動をブロックしなくなりました

## 0.2.37

- 新しい/release-notesコマンドでいつでもリリースノートを表示
- `claude config add/remove`コマンドでカンマまたはスペースで区切られた複数の値を受け入れ

## 0.2.36

- `claude mcp add-from-claude-desktop`でClaude DesktopからMCPサーバーをインポート
- `claude mcp add-json <n> <json>`でMCPサーバーをJSON文字列として追加

## 0.2.34

- テキスト入力用のVimバインド - /vimまたは/configで有効化

## 0.2.32

- インタラクティブMCPセットアップウィザード：「claude mcp add」を実行してステップバイステップインターフェースでMCPサーバーを追加
- 一部のPersistentShell問題の修正

## 0.2.31

- カスタムスラッシュコマンド：.claude/commands/ディレクトリのマークダウンファイルが会話にプロンプトを挿入するカスタムスラッシュコマンドとして表示
- MCPデバッグモード：--mcp-debugフラグで実行してMCPサーバーエラーの詳細情報を取得

## 0.2.30

- より良いターミナル互換性のためのANSIカラーテーマを追加
- スラッシュコマンド引数が適切に送信されない問題を修正
- （Mac専用）APIキーがmacOS Keychainに保存されるように

## 0.2.26

- ツール権限管理用の新しい/approved-toolsコマンド
- コード可読性向上のための単語レベルdiff表示
- スラッシュコマンドのファジーマッチング

## 0.2.21

- /commandsのファジーマッチング