## 2.1.62

- プロンプト提案のキャッシュ回帰を修正し、キャッシュヒット率の低下を解消

## 2.1.61

- Windows環境で設定ファイルが同時書き込みによって破損する問題を修正

## 2.1.59

- Claudeが有用なコンテキストを自動メモリに自動保存するようになりました。`/memory`コマンドで管理できます
- `/copy`コマンドを追加。コードブロックが存在する場合にインタラクティブなピッカーを表示し、個別のコードブロックまたは完全なレスポンスを選択できます
- 複合bashコマンド（例：`cd /tmp && git fetch && git push`）の「常に許可」プレフィックス提案を改善。コマンド全体を1つとして扱うのではなく、サブコマンドごとにより賢いプレフィックスを計算します
- 短いタスクリストの並び順を改善
- マルチエージェントセッションにおいて、完了したサブエージェントのタスク状態を解放することでメモリ使用量を改善
- 複数のClaude Codeインスタンスを同時実行した際のMCP OAuthトークン更新の競合状態を修正
- 作業ディレクトリが削除された場合にシェルコマンドが明確なエラーメッセージを表示しない問題を修正
- 複数のClaude Codeインスタンスを同時実行した際に認証情報が消去される可能性があった設定ファイルの破損を修正

## 2.1.58

- Remote Controlをより多くのユーザーに展開

## 2.1.56

- VS Code：「command 'claude-vscode.editor.openLast' not found」クラッシュの別の原因を修正

## 2.1.55

- WindowsでBashToolがEINVALエラーで失敗する問題を修正

## 2.1.53

- ユーザー入力が送信後、メッセージがレンダリングされる前に一瞬消えるUIのちらつきを修正
- 一括エージェント終了（ctrl+f）を改善。エージェントごとに1つずつではなく単一の集約通知を送信し、コマンドキューを適切にクリアするようになりました
- Remote Control使用時にグレースフルシャットダウンが古いセッションを残すことがある問題を、ネットワーク呼び出しの並列化により修正
- `--worktree`が初回起動時に無視されることがある問題を修正
- Windowsで発生するパニック（「switch on corrupted value」）を修正
- Windowsで多数のプロセスを起動した際に発生する可能性があったクラッシュを修正
- Linux x64およびWindows x64のWebAssemblyインタープリタでのクラッシュを修正
- Windows ARM64で2分後に発生することがあったクラッシュを修正

## 2.1.52

- VS Code：Windowsでの拡張機能クラッシュ（「command 'claude-vscode.editor.openLast' not found」）を修正

## 2.1.51

- 外部ビルド向けに`claude remote-control`サブコマンドを追加。すべてのユーザーがローカル環境を提供できるようになりました
- プラグインマーケットプレイスのデフォルトgitタイムアウトを30秒から120秒に更新し、`CLAUDE_CODE_PLUGIN_GIT_TIMEOUT_MS`で設定可能にしました
- npmソースからプラグインをインストールする際のカスタムnpmレジストリと特定バージョンの固定をサポート
- BashToolは、シェルスナップショットが利用可能な場合、デフォルトでログインシェル（`-l`フラグ）をスキップするようになり、コマンド実行のパフォーマンスが向上しました。以前はこれに`CLAUDE_BASH_NO_LOGIN=true`の設定が必要でした
- インタラクティブモードにおいて、`statusLine`および`fileSuggestion`フックコマンドがワークスペース信頼の承認なしで実行される可能性があったセキュリティ問題を修正

## 2.1.61

- Windowsで設定ファイルが同時書き込みによって破損する問題を修正

## 2.1.59

- Claudeが有用なコンテキストを自動メモリに自動保存するようになりました。`/memory`コマンドで管理できます
- `/copy`コマンドを追加。コードブロックが存在する場合にインタラクティブなピッカーを表示し、個別のコードブロックまたは完全なレスポンスを選択できます
- 複合bashコマンド（例：`cd /tmp && git fetch && git push`）の「常に許可」プレフィックス提案を改善。コマンド全体を1つとして扱うのではなく、サブコマンドごとにより賢いプレフィックスを計算します
- 短いタスクリストの並び順を改善
- マルチエージェントセッションでのメモリ使用量を改善。完了したサブエージェントのタスク状態を解放します
- 複数のClaude Codeインスタンスを同時実行した際のMCP OAuthトークン更新の競合状態を修正
- 作業ディレクトリが削除された場合にシェルコマンドが明確なエラーメッセージを表示しない問題を修正
- 複数のClaude Codeインスタンスを同時実行した際に認証情報が消去される可能性があった設定ファイルの破損を修正

## 2.1.58

- Remote Controlをより多くのユーザーに拡大

## 2.1.56

- VS Code：「command 'claude-vscode.editor.openLast' not found」クラッシュの別の原因を修正

## 2.1.55

- WindowsでBashToolがEINVALエラーで失敗する問題を修正

## 2.1.53

- ユーザー入力が送信後、メッセージがレンダリングされる前に一瞬消えるUIのちらつきを修正
- 一括エージェント終了（ctrl+f）を改善。エージェントごとに1つではなく単一の集約通知を送信し、コマンドキューを適切にクリアします
- Remote Control使用時に、グレースフルシャットダウンが古いセッションを残すことがある問題を修正。ネットワーク呼び出しの並列化により解決
- 初回起動時に`--worktree`が無視されることがある問題を修正
- Windowsでのパニック（「switch on corrupted value」）を修正
- Windowsで多数のプロセスを生成する際に発生する可能性があったクラッシュを修正
- Linux x64およびWindows x64でのWebAssemblyインタープリターのクラッシュを修正
- Windows ARM64で2分後に発生することがあったクラッシュを修正

## 2.1.52

- VS Code：Windowsでの拡張機能クラッシュ（「command 'claude-vscode.editor.openLast' not found」）を修正

## 2.1.51

- 外部ビルド向けに`claude remote-control`サブコマンドを追加。全ユーザーがローカル環境を提供できるようになりました
- プラグインマーケットプレイスのデフォルトgitタイムアウトを30秒から120秒に更新。`CLAUDE_CODE_PLUGIN_GIT_TIMEOUT_MS`で設定可能です
- npmソースからプラグインをインストールする際のカスタムnpmレジストリと特定バージョンの固定に対応
- BashToolは、シェルスナップショットが利用可能な場合、デフォルトでログインシェル（`-l`フラグ）をスキップするようになりました。これによりコマンド実行のパフォーマンスが向上します。以前は`CLAUDE_BASH_NO_LOGIN=true`の設定が必要でした
- インタラクティブモードで`statusLine`および`fileSuggestion`フックコマンドがワークスペース信頼の承認なしで実行される可能性があったセキュリティ問題を修正
- 50K文字を超えるツール結果がディスクに永続化されるようになりました（以前は100K）。これによりコンテキストウィンドウの使用量が削減され、会話の持続時間が向上します
- 重複した`control_response`メッセージ（WebSocket再接続など）が会話に重複したアシスタントメッセージをプッシュし、API 400エラーを引き起こす可能性があったバグを修正
- SDK呼び出し元がアカウント情報を同期的に提供できるよう、`CLAUDE_CODE_ACCOUNT_UUID`、`CLAUDE_CODE_USER_EMAIL`、`CLAUDE_CODE_ORGANIZATION_UUID`環境変数を追加。初期のテレメトリーイベントにアカウントメタデータが欠けていた競合状態を解消します
- プラグインのSKILL.md説明がYAML配列やその他の非文字列型の場合にスラッシュコマンドのオートコンプリートがクラッシュする問題を修正

# チェンジログ

## 2.1.59

- Claudeが有用なコンテキストを自動的にauto-memoryに保存するようになりました。/memoryで管理できます
- `/copy`コマンドを追加：コードブロックが存在する場合にインタラクティブなピッカーを表示し、個別のコードブロックまたは完全なレスポンスを選択できます
- 複合bashコマンド（例：`cd /tmp && git fetch && git push`）の「常に許可」プレフィックス提案を改善：コマンド全体を1つとして扱うのではなく、サブコマンドごとにスマートなプレフィックスを計算します
- 短いタスクリストの並び順を改善
- マルチエージェントセッションでのメモリ使用量を改善：完了したサブエージェントのタスク状態を解放します
- 複数のClaude Codeインスタンスを同時実行する際のMCP OAuthトークン更新の競合状態を修正
- 作業ディレクトリが削除された場合にシェルコマンドが明確なエラーメッセージを表示しない問題を修正
- 複数のClaude Codeインスタンスを同時実行した際に認証情報が消去される可能性があった設定ファイルの破損を修正

## 2.1.58

- Remote Controlをより多くのユーザーに展開

## 2.1.56

- VS Code：「command 'claude-vscode.editor.openLast' not found」クラッシュの別の原因を修正

## 2.1.55

- WindowsでBashToolがEINVALエラーで失敗する問題を修正

## 2.1.53

- ユーザー入力が送信後、メッセージがレンダリングされる前に一瞬消える UIのちらつきを修正
- 一括エージェント終了（ctrl+f）を修正：エージェントごとに1つではなく、単一の集約通知を送信し、コマンドキューを適切にクリアします
- Remote Control使用時にグレースフルシャットダウンが古いセッションを残すことがある問題を修正：ネットワーク呼び出しの並列化により解決
- 初回起動時に`--worktree`が無視されることがある問題を修正
- Windowsでのパニック（「switch on corrupted value」）を修正
- Windowsで多数のプロセスを生成する際に発生する可能性があったクラッシュを修正
- Linux x64およびWindows x64のWebAssemblyインタープリターでのクラッシュを修正
- Windows ARM64で2分後に発生することがあったクラッシュを修正

## 2.1.52

- VS Code：Windowsでの拡張機能クラッシュ（「command 'claude-vscode.editor.openLast' not found」）を修正

## 2.1.51

- 外部ビルド用の`claude remote-control`サブコマンドを追加：すべてのユーザーがローカル環境を提供できるようになりました
- プラグインマーケットプレイスのデフォルトgitタイムアウトを30秒から120秒に更新し、`CLAUDE_CODE_PLUGIN_GIT_TIMEOUT_MS`で設定可能にしました
- npmソースからプラグインをインストールする際のカスタムnpmレジストリと特定バージョンのピン留めをサポート
- BashToolは、シェルスナップショットが利用可能な場合、デフォルトでログインシェル（`-l`フラグ）をスキップするようになり、コマンド実行のパフォーマンスが向上しました。以前は`CLAUDE_BASH_NO_LOGIN=true`の設定が必要でした
- インタラクティブモードで`statusLine`および`fileSuggestion`フックコマンドがワークスペーストラストの承認なしに実行される可能性があったセキュリティ問題を修正
- 50K文字を超えるツール結果がディスクに永続化されるようになりました（以前は100K）。これによりコンテキストウィンドウの使用量が削減され、会話の持続時間が向上します
- WebSocket再接続などによる重複した`control_response`メッセージが、会話に重複したアシスタントメッセージをプッシュしてAPI 400エラーを引き起こす可能性があったバグを修正
- SDK呼び出し元がアカウント情報を同期的に提供できるよう、`CLAUDE_CODE_ACCOUNT_UUID`、`CLAUDE_CODE_USER_EMAIL`、`CLAUDE_CODE_ORGANIZATION_UUID`環境変数を追加。初期のテレメトリイベントにアカウントメタデータが欠けていた競合状態を解消しました
- プラグインのSKILL.md説明がYAML配列やその他の非文字列型の場合にスラッシュコマンドのオートコンプリートがクラッシュする問題を修正
- `/model`ピッカーが、ピン留めされたモデルバージョンに対して生のモデルIDではなく人間が読める形式のラベル（例：「Sonnet 4.5」）を表示するようになり、新しいバージョンが利用可能な場合はアップグレードのヒントを表示します
- 管理設定をmacOS plistまたはWindows Registryで設定できるようになりました。詳細はhttps://code.claude.com/docs/en/settings#settings-filesをご覧ください

## 2.1.50

- LSPサーバーの`startupTimeout`設定のサポートを追加
- `WorktreeCreate`および`WorktreeRemove`フックイベントを追加：エージェントのworktree分離がworktreeを作成または削除する際に、カスタムVCSのセットアップとクリーンアップが可能になります
- シンボリックリンクを含む作業ディレクトリで再開されたセッションが見えなくなる可能性があったバグを修正：起動時の異なるタイミングでセッションストレージパスが解決されていたことが原因でした。また、グレースフルシャットダウンシーケンスでフックと分析の前にセッションデータをフラッシュすることで、SSH切断時のセッションデータ損失を修正しました
- Linux：glibc 2.30より古いシステム（例：RHEL 8）でネイティブモジュールが読み込まれない問題を修正
- エージェントチームで完了したチームメイトのタスクがセッション状態からガベージコレクションされないメモリリークを修正
- `CLAUDE_CODE_SIMPLE`がスキル、セッションメモリ、カスタムエージェント、CLAUDE.mdトークンカウントを完全に削除するよう修正
- 存在しないサーバー名を指定した場合に`/mcp reconnect`がCLIをフリーズさせる問題を修正
- 完了したタスク状態オブジェクトがAppStateから削除されないメモリリークを修正
- エージェント定義で`isolation: worktree`のサポートを追加：エージェントが分離されたgit worktreeで実行されることを宣言的に指定できます
- `CLAUDE_CODE_SIMPLE`モードでMCPツール、添付ファイル、フック、CLAUDE.mdファイルの読み込みも無効化され、完全にミニマルな体験を提供します
- ツール検索が有効で、起動引数としてプロンプトが渡された場合にMCPツールが検出されないバグを修正
- コンパクション後に内部キャッシュをクリアすることで、長時間セッションでのメモリ使用量を改善
- 設定されたすべてのエージェントをリストする`claude agents` CLIコマンドを追加
- 大きなツール結果を処理後にクリアすることで、長時間セッションでのメモリ使用量を改善
- LSP診断データが配信後にクリーンアップされず、長時間セッションで無制限のメモリ増加を引き起こしていたメモリリークを修正
- 完了したタスク出力がメモリから解放されないメモリリークを修正し、多数のタスクを含む長時間セッションでのメモリ使用量を削減
- Yoga WASMとUIコンポーネントのインポートを遅延させることで、ヘッドレスモード（`-p`フラグ）の起動パフォーマンスを改善
- プロンプト提案キャッシュのリグレッションを修正し、キャッシュヒット率を向上
- ファイル履歴スナップショットに上限を設けることで、長時間セッションでの無制限のメモリ増加を修正
- 1Mコンテキストウィンドウサポートを無効化する`CLAUDE_CODE_DISABLE_1M_CONTEXT`環境変数を追加
- Opus 4.6（高速モード）に完全な1Mコンテキストウィンドウが含まれるようになりました
- VSCode：VS Codeセッションで`/extra-usage`コマンドのサポートを追加
- TaskOutputがクリーンアップ後に最近の行を保持していたメモリリークを修正
- CircularBufferでクリアされたアイテムがバッキング配列に保持されていたメモリリークを修正
- シェルコマンド実行でChildProcessとAbortControllerの参照がクリーンアップ後に保持されていたメモリリークを修正

## 2.1.49

- ステップアップ認証サポートとディスカバリーキャッシングによりMCP OAuth認証を改善し、サーバー接続時の冗長なネットワークリクエストを削減
- 分離されたgit worktreeでClaudeを起動する`--worktree`（`-w`）フラグを追加
- サブエージェントが一時的なgit worktreeで作業するための`isolation: "worktree"`をサポート
- バックグラウンドエージェントを終了するCtrl+Fキーバインディングを追加（2回押しで確認）
- エージェント定義で`background: true`をサポートし、常にバックグラウンドタスクとして実行できるようになりました
- プラグインがデフォルト設定用の`settings.json`を提供できるようになりました
- モデルがリポジトリフォルダーを省略した場合に、ファイル未検出エラーが修正されたパスを提案するようになりました
- バックグラウンドエージェントが実行中でメインスレッドがアイドル状態の場合に、Ctrl+CとESCが無視される問題を修正。3秒以内に2回押すとすべてのバックグラウンドエージェントを終了します
- プロンプト提案キャッシュのリグレッションを修正し、キャッシュヒット率を向上
- `--scope`が指定されていない場合に`plugin enable`と`plugin disable`が正しいスコープを自動検出するよう修正（常にユーザースコープにデフォルト設定されていた問題を解消）
- シンプルモード（`CLAUDE_CODE_SIMPLE`）にBashツールに加えてファイル編集ツールが含まれるようになり、シンプルモードでの直接ファイル編集が可能になりました
- 安全性チェックがask応答をトリガーした場合に権限提案が入力されるようになり、SDKコンシューマーが権限オプションを表示できるようになりました
- 1Mコンテキストを持つSonnet 4.5がMaxプランから削除され、1Mコンテキストを持つ最先端のSonnet 4.6モデルに置き換えられます。/modelで切り替えてください
- `/config`で切り替えた際にverboseモードがthinkingブロック表示を更新しない問題を修正：メモ比較器がverbose変更を正しく検出するようになりました
- tree-sitterパーサーを定期的にリセットすることで、長時間セッション中のWASMメモリの無制限増加を修正
- 古いyogaレイアウト参照によるレンダリング問題の可能性を修正
- 起動時の不要なAPI呼び出しをスキップすることで、非インタラクティブモード（`-p`）のパフォーマンスを改善
- HTTPおよびSSE MCPサーバーの認証失敗をキャッシュすることでパフォーマンスを改善し、認証が必要なサーバーへの繰り返し接続試行を回避
- Yoga WASM線形メモリが縮小しないことによる長時間実行セッション中の無制限のメモリ増加を修正
- SDKモデル情報に`supportsEffort`、`supportedEffortLevels`、`supportsAdaptiveThinking`フィールドが含まれるようになり、コンシューマーがモデル機能を検出できるようになりました
- セッション中に設定ファイルが変更されたときに発火する`ConfigChange`フックイベントを追加：エンタープライズセキュリティ監査と設定変更のオプションブロッキングが可能になります
- MCP認証失敗をキャッシュすることで起動パフォーマンスを改善し、冗長な接続試行を回避
- 分析トークンカウントのHTTP呼び出しを削減することで起動パフォーマンスを改善
- MCPツールトークンカウントを単一のAPI呼び出しにバッチ処理することで起動パフォーマンスを改善
- `disableAllHooks`設定が管理設定階層を尊重するよう修正：非管理設定がポリシーで設定された管理フックを無効化できなくなりました（#26637）
- `/clear`のようなコマンドで始まるセッションの生のXMLタグを表示していた`--resume`セッションピッカーを修正。セッションIDフォールバックに正しくフォールスルーするようになりました
- パス安全性と作業ディレクトリブロックの権限プロンプトを改善：コンテキストのない単なるプロンプトではなく、制限の理由を表示するようになりました

## 2.1.47

- FileWriteToolの行カウントを修正：意図的な末尾の空白行を`trimEnd()`で削除せずに保持するようになりました
- Windowsのターミナルレンダリングバグを修正：表示コードの`os.EOL`（`\r\n`）が原因で、行数がWindowsで常に1と表示されていた問題を解消し、正しい値を表示するようになりました
- VS Codeのプランプレビューを改善：Claudeの反復に合わせて自動更新、プランがレビュー準備完了時のみコメントを有効化、拒否時もプレビューを開いたままにしてClaudeが修正できるようにしました
- Windowsで`\r\n`改行コードによりマークダウン出力の太字と色付きテキストが間違った文字にシフトする可能性があったバグを修正
- 会話に多数のPDFドキュメントが含まれる場合にコンパクションが失敗する問題を修正：コンパクションAPIに送信する前に画像と一緒にドキュメントブロックを削除するようにしました（anthropics/claude-code#26188）
- API streamバッファー、エージェントコンテキスト、スキル状態を使用後に解放することで、長時間実行セッションでのメモリ使用量を改善
- SessionStartフックの実行を遅延させることで起動パフォーマンスを改善し、インタラクティブまでの時間を約500ms短縮
- MSYS2またはCygwinシェルを使用する場合にWindowsでbashツール出力が無視される問題を修正
- `@`ファイルメンションのパフォーマンスを改善：起動時にインデックスを事前ウォームアップし、バックグラウンド更新を伴うセッションベースのキャッシングを使用することで、ファイル提案がより速く表示されるようになりました
- エージェントタスク完了後にメッセージ履歴をトリミングすることでメモリ使用量を改善
- 進捗更新でのO(n²)メッセージ蓄積を排除することで、長時間のエージェントセッション中のメモリ使用量を改善
- bash権限分類器を修正：返されたマッチ記述が実際の入力ルールに対応することを検証し、幻覚による記述が誤って権限を付与するのを防ぎます
- ゼロinodeを報告するNFS/FUSEファイルシステムでユーザー定義エージェントが1つのファイルしか読み込まない問題を修正（anthropics/claude-code#26044）
- 完全修飾プラグイン名ではなく単純な名前で参照された場合にプラグインエージェントスキルが読み込みに失敗する問題を修正（anthropics/claude-code#25834）
- 折りたたまれたツール結果の検索パターンが明確化のため引用符で表示されるようになりました
- Windows：CWD追跡一時ファイルがクリーンアップされず無期限に蓄積する問題を修正（anthropics/claude-code#17600）
- バックグラウンドエージェントを終了するには、ESCをダブルプレスする代わりに`ctrl+f`を使用します。ESCを押してメインスレッドをキャンセルしてもバックグラウンドエージェントは実行を継続し、エージェントのライフサイクルをより細かく制御できるようになりました
- 並行エージェントを含むセッションで発生していたAPI 400エラー（「thinking blocks cannot be modified」）を修正：インターリーブされたストリーミングコンテンツブロックが適切なメッセージマージを妨げていました
- チームメイトナビゲーションを簡素化：Shift+UpとShift+Downの両方ではなく、Shift+Down（ラップ付き）のみを使用するようになりました
- 単一のファイル書き込み/編集エラーが他のすべての並列ファイル書き込み/編集操作を中止していた問題を修正。独立したファイル変更は、兄弟が失敗しても完了するようになりました
- StopおよびSubagentStopフックの入力に`last_assistant_message`フィールドを追加：トランスクリプトファイルを解析せずに最終的なアシスタント応答テキストにアクセスできるようになりました
- `/rename`で設定したカスタムセッションタイトルが会話再開後に失われる問題を修正（anthropics/claude-code#23610）
- 狭いターミナルで折りたたまれた読み取り/検索ヒントテキストがオーバーフローする問題を修正：先頭から切り詰めるようになりました
- バックスラッシュ-改行継続行を含むbashコマンド（例：`\`で複数行に分割された長いコマンド）が偽の空引数を生成し、コマンド実行を破壊する可能性があった問題を修正
- 多数のユーザースキルがインストールされている場合に組み込みスラッシュコマンド（`/help`、`/model`、`/compact`など）がオートコンプリートドロップダウンから隠れる問題を修正（anthropics/claude-code#22020）
- 遅延読み込み後にMCPサーバーがMCP管理ダイアログに表示されない問題を修正
- `/clear`コマンド後にセッション名がステータスバーに残る問題を修正（anthropics/claude-code#26082）
- SKILL.mdフロントマターのスキルの`name`または`description`が単純な数値（例：`name: 3000`）の場合にクラッシュする問題を修正：値が適切に文字列に変換されるようになりました（anthropics/claude-code#25837）
- 最初のメッセージが16KBを超えるか配列形式のコンテンツを使用している場合に/resumeがセッションを無視する問題を修正（anthropics/claude-code#25721）
- 設定可能な複数行入力用の`chat:newline`キーバインディングアクションを追加（anthropics/claude-code#26075）
- statusline JSONの`workspace`セクションに`added_dirs`を追加：`/add-dir`で追加されたディレクトリを外部スクリプトに公開します（anthropics/claude-code#26096）
- `claude doctor`がmiseおよびasdf管理のインストールをネイティブインストールとして誤分類する問題を修正（anthropics/claude-code#26033）
- サンドボックス化されたコマンドでzsh heredocが「read-only file system」エラーで失敗する問題を修正（anthropics/claude-code#25990）
- エージェント進捗インジケーターが膨張したツール使用カウントを表示する問題を修正（anthropics/claude-code#26023）
- WindowsがBMP形式で画像をコピーするWSL2システムで画像の貼り付けが機能しない問題を修正（anthropics/claude-code#25935）
- バックグラウンドエージェントの結果がエージェントの最終回答ではなく生のトランスクリプトデータを返す問題を修正（anthropics/claude-code#26012）
- Warpターミナルがネイティブでサポートしているにもかかわらず、Shift+Enterセットアップを誤って促す問題を修正（anthropics/claude-code#25957）
- CJK全角文字がTUIでタイムスタンプとレイアウト要素の位置ずれを引き起こす問題を修正（anthropics/claude-code#26084）
- チームのチームメイトを生成する際に`.claude/agents/*.md`のカスタムエージェント`model`フィールドが無視される問題を修正（anthropics/claude-code#26064）
- コンテキストコンパクション後にプランモードが失われ、モデルがプランニングモードから実装モードに切り替わる問題を修正（anthropics/claude-code#26061）
- settings.jsonの`alwaysThinkingEnabled: true`がBedrockおよびVertexプロバイダーでthinkingモードを有効にしない問題を修正（anthropics/claude-code#26074）
- ヘッドレス/SDKモードで`tool_decision` OTelテレメトリイベントが発行されない問題を修正（anthropics/claude-code#26059）
- コンテキストコンパクション後にセッション名が失われる問題を修正：名前変更されたセッションがコンパクションを通じてカスタムタイトルを保持するようになりました（anthropics/claude-code#26121）
- セッション検出を高速化するため、resumeピッカーの初期セッション数を10から50に増加（anthropics/claude-code#26123）
- Windows：ドライブ文字の大文字小文字が異なる場合のworktreeセッションマッチングを修正（anthropics/claude-code#26123）
- 最初のメッセージが16KBを超えるセッションを`/resume <session-id>`が見つけられない問題を修正（anthropics/claude-code#25920）
- 複数行bashコマンドの「常に許可」が無効な権限パターンを作成し、設定を破損させる問題を修正（anthropics/claude-code#25909）
- SKILL.mdフロントマターのスキルの`argument-hint`がYAMLシーケンス構文（例：`[topic: foo | bar]`）を使用している場合のReactクラッシュ（エラー#31）を修正：値が適切に文字列に変換されるようになりました（anthropics/claude-code#25826）
- Web検索を使用したセッションで`/fork`を使用した際のクラッシュを修正：トランスクリプトデシリアライゼーションからの検索結果のnullエントリが適切に処理されるようになりました（anthropics/claude-code#25811）
- macOSで読み取り専用gitコマンドがFSEventsファイルウォッチャーループをトリガーする問題を修正：--no-optional-locksフラグを追加（anthropics/claude-code#25750）
- git worktreeから実行した場合にカスタムエージェントとスキルが検出されない問題を修正：メインリポジトリのプロジェクトレベル`.claude/agents/`と`.claude/skills/`が含まれるようになりました（anthropics/claude-code#25816）
- ネストされたClaudeセッション内で`claude doctor`や`claude plugin validate`などの非インタラクティブサブコマンドがブロックされる問題を修正（anthropics/claude-code#25803）
- Windows：パス間でドライブ文字の大文字小文字が異なる場合に同じCLAUDE.mdファイルが2回読み込まれる問題を修正（anthropics/claude-code#25756）
- マークダウンのインラインコードスパンがbashコマンドとして誤って解析される問題を修正（anthropics/claude-code#25792）
- チームメイトスピナーが設定のカスタムspinnerVerbsを尊重しない問題を修正（anthropics/claude-code#25748）
- コマンドが自身の作業ディレクトリを削除した後、シェルコマンドが永続的に失敗する問題を修正（anthropics/claude-code#26136）
- Windowsでcmd.exeの代わりにGit Bashを使用することで、フック（PreToolUse、PostToolUse）が実行に失敗する問題を修正（anthropics/claude-code#25981）
- LSPの`findReferences`やその他の位置ベースの操作がgitignoreされたファイル（例：`node_modules/`、`venv/`）から結果を返す問題を修正（anthropics/claude-code#26051）
- ホームディレクトリの混雑を減らすため、設定バックアップファイルをホームディレクトリルートから`~/.claude/backups/`に移動（anthropics/claude-code#26130）
- 最初のプロンプトが大きい（>16KB）セッションが/resumeリストから消える問題を修正（anthropics/claude-code#26140）
- ダブルアンダースコアプレフィックスを持つシェル関数（例：`__git_ps1`）がシェルセッション間で保持されない問題を修正（anthropics/claude-code#25824）
- トークンを受信する前にスピナーが「0 tokens」カウンターを表示する問題を修正（anthropics/claude-code#26105）
- VSCode：AskUserQuestionダイアログが開いている間に会話メッセージが薄く表示される問題を修正（anthropics/claude-code#26078）
- worktree固有のgitdirではなくメインリポジトリ設定からリモートURL解決を読み取ることで、git worktreeでバックグラウンドタスクが失敗する問題を修正（anthropics/claude-code#26065）
- Windows/Git BashターミナルでRight Altキーが入力フィールドに可視の`[25~`エスケープシーケンスを残す問題を修正（anthropics/claude-code#25943）
- `/rename`コマンドがデフォルトでターミナルタブタイトルを更新するようになりました（anthropics/claude-code#25789）
- 編集時にUnicode curly quotes（\u201c\u201d \u2018\u2019）をストレート引用符に置き換えることでEditツールが無言で破損させる問題を修正（anthropics/claude-code#26141）
- リンクテキストが複数のターミナル行にまたがる場合に、OSC 8ハイパーリンクが最初の行でのみクリック可能だった問題を修正

## 2.1.46

- macOSでターミナル切断後に孤立したCCプロセスが残る問題を修正
- Claude CodeでClaude.ai MCPコネクターを使用するサポートを追加

## 2.1.45

- Claude Sonnet 4.6のサポートを追加
- `--add-dir`ディレクトリから`enabledPlugins`と`extraKnownMarketplaces`を読み取るサポートを追加
- スピナーのヒントをカスタマイズする`spinnerTipsOverride`設定を追加：カスタムヒント文字列の配列で`tips`を設定し、オプションで`excludeDefault: true`を設定すると組み込みヒントの代わりにカスタムヒントのみを表示できます
- SDKに`SDKRateLimitInfo`と`SDKRateLimitEvent`タイプを追加：コンシューマーが利用率、リセット時間、超過情報を含むレート制限ステータス更新を受信できるようになりました
- Bedrock、Vertex、FoundryでAgent Teamsのチームメイトが失敗する問題を修正：APIプロバイダー環境変数をtmux生成プロセスに伝播するようにしました（anthropics/claude-code#23561）
- macOSで一時ファイルを書き込む際にサンドボックスの「operation not permitted」エラーが発生する問題を修正：ユーザーごとの正しい一時ディレクトリを使用するようにしました（anthropics/claude-code#21654）
- Taskツール（バックグラウンドエージェント）が完了時に`ReferenceError`でクラッシュする問題を修正（anthropics/claude-code#22087）
- 入力に画像が貼り付けられている場合にEnterキーでオートコンプリート提案が受け入れられない問題を修正
- サブエージェントによって呼び出されたスキルがコンパクション後にメインセッションコンテキストに誤って表示される問題を修正
- 起動のたびに過剰な`.claude.json.backup`ファイルが蓄積する問題を修正
- プラグインが提供するコマンド、エージェント、フックが再起動を必要とせずインストール直後に利用可能になるよう修正
- セッション履歴の統計キャッシング用の先行読み込みを削除することで起動パフォーマンスを改善
- 大量の出力を生成するシェルコマンドのメモリ使用量を改善：RSSがコマンド出力サイズに応じて無制限に増加しなくなりました
- 折りたたまれた読み取り/検索グループを改善：アクティブ時にサマリー行の下に処理中の現在のファイルまたは検索パターンを表示するようになりました
- [VSCode] 権限の宛先選択（プロジェクト/ユーザー/セッション）がセッション間で保持されるよう改善

## 2.1.44

- 深くネストされたディレクトリパスのENAMETOOLONGエラーを修正
- 認証更新エラーを修正

## 2.1.43

- 3分のタイムアウトを追加することでAWS認証更新が無期限にハングする問題を修正
- `.claude/agents/`ディレクトリ内の非エージェントマークダウンファイルに対する偽の警告を修正
- Vertex/Bedrockでstructured-outputsベータヘッダーが無条件に送信される問題を修正

## 2.1.42

- Zodスキーマ構築を遅延させることで起動パフォーマンスを改善
- システムプロンプトから日付を移動することでプロンプトキャッシュヒット率を改善
- 対象ユーザー向けにOpus 4.6 effortの1回限りのコールアウトを追加
- /resumeが中断メッセージをセッションタイトルとして表示する問題を修正
- 画像サイズ制限エラーが/compactを提案するよう修正

## 2.1.41

- 別のClaude Codeセッション内でClaude Codeを起動することに対するガードを追加
- Agent TeamsがBedrock、Vertex、Foundry顧客に対して間違ったモデル識別子を使用する問題を修正
- ストリーミング中にMCPツールが画像コンテンツを返す場合のクラッシュを修正
- /resumeセッションプレビューが読みやすいコマンド名ではなく生のXMLタグを表示する問題を修正
- Bedrock/Vertex/Foundryユーザー向けにフォールバック提案を含むモデルエラーメッセージを改善
- プラグインブラウズが既にインストールされているプラグインに対して誤解を招く「Space to Toggle」ヒントを表示する問題を修正
- フックブロッキングエラー（終了コード2）がstderrをユーザーに表示しない問題を修正
- 高速モードの可視性のためにOTelイベントとトレーススパンに`speed`属性を追加
- `claude auth login`、`claude auth status`、`claude auth logout` CLIサブコマンドを追加
- Windows ARM64（win32-arm64）ネイティブバイナリサポートを追加
- 引数なしで呼び出された場合に会話コンテキストからセッション名を自動生成する`/rename`を改善
- プロンプトフッターの狭いターミナルレイアウトを改善
- アンカーフラグメント付きの@メンション（例：`@README.md#installation`）のファイル解決が失敗する問題を修正
- FileReadToolがFIFO、`/dev/stdin`、大きなファイルでプロセスをブロックする問題を修正
- ストリーミングAgent SDKモードでバックグラウンドタスク通知が配信されない問題を修正
- 分類器ルール入力で各キーストロークごとにカーソルが末尾にジャンプする問題を修正
- 生URLのマークダウンリンク表示テキストが削除される問題を修正
- 自動コンパクト失敗エラー通知がユーザーに表示される問題を修正
- サブエージェントの経過時間表示に権限待機時間が含まれる問題を修正
- プランモード中にプロアクティブティックが発火する問題を修正
- ディスク上で設定が変更された場合に古い権限ルールをクリアするよう修正
- フックブロッキングエラーがUIにstderrコンテンツを表示する問題を修正

## 2.1.39

- ターミナルレンダリングパフォーマンスを改善
- 致命的エラーが表示されずに飲み込まれる問題を修正
- セッション終了後にプロセスがハングする問題を修正
- ターミナル画面境界での文字損失を修正
- verboseトランスクリプトビューの空白行を修正

## 2.1.38

- 2.1.37で導入されたVS Codeターミナルのスクロールトップへのリグレッションを修正
- Tabキーがオートコンプリートではなくスラッシュコマンドをキューイングする問題を修正
- 環境変数ラッパーを使用するコマンドのbash権限マッチングを修正
- ストリーミングを使用していない場合にツール使用間のテキストが消える問題を修正
- VS Code拡張機能で再開時に重複セッションが発生する問題を修正
- heredocデリミタ解析を改善してコマンドスマグリングを防止
- サンドボックスモードで`.claude/skills`ディレクトリへの書き込みをブロック

## 2.1.37

- /extra-usageを有効にした後すぐに/fastが利用できない問題を修正

## 2.1.36

---

*最新20バージョンのみ表示*